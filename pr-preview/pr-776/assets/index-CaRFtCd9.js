import{c as Te,g as Ut}from"./_commonjsHelpers-D6-XlEtG.js";function be(e){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(e)}function Pt(e,t,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t,r){return t=re(t),Ot(e,Re()?Reflect.construct(t,r||[],re(e).constructor):t.apply(e,r))}function Ot(e,t){if(t&&(be(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rt(e)}function Rt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}function _e(e){var t=typeof Map=="function"?new Map:void 0;return _e=function(n){if(n===null||!At(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,a)}function a(){return jt(n,arguments,re(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),te(a,n)},_e(e)}function jt(e,t,r){if(Re())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var a=new(e.bind.apply(e,n));return r&&te(a,r.prototype),a}function Re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Re=function(){return!!e})()}function At(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},te(e,t)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},re(e)}var le=function(e){function t(r){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(xt(this,t),n=Et(this,t,[r]),n.originalRequest=l,n.originalResponse=s,n.causingError=a,a!=null&&(r+=", caused by ".concat(a.toString())),l!=null){var g=l.getHeader("X-Request-ID")||"n/a",p=l.getMethod(),b=l.getURL(),S=s?s.getStatus():"n/a",j=s?s.getBody()||"":"n/a";r+=", originated from request (method: ".concat(p,", url: ").concat(b,", response code: ").concat(S,", response text: ").concat(j,", request id: ").concat(g,")")}return n.message=r,n}return kt(t,e),Pt(t)}(_e(Error));function ne(e){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,It(n.key),n)}}function Ct(e,t,r){return t&&Tt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e){var t=Dt(e,"string");return ne(t)=="symbol"?t:t+""}function Dt(e,t){if(ne(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ne(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ft=function(){function e(){Lt(this,e)}return Ct(e,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}])}();const nt="3.7.7",qt=nt,J=typeof Buffer=="function",Ce=typeof TextDecoder=="function"?new TextDecoder:void 0,Ie=typeof TextEncoder=="function"?new TextEncoder:void 0,$t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Q=Array.prototype.slice.call($t),se=(e=>{let t={};return e.forEach((r,n)=>t[r]=n),t})(Q),Ht=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,C=String.fromCharCode.bind(String),De=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),ot=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),it=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),at=e=>{let t,r,n,a,l="";const s=e.length%3;for(let g=0;g<e.length;){if((r=e.charCodeAt(g++))>255||(n=e.charCodeAt(g++))>255||(a=e.charCodeAt(g++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|a,l+=Q[t>>18&63]+Q[t>>12&63]+Q[t>>6&63]+Q[t&63]}return s?l.slice(0,s-3)+"===".substring(s):l},ke=typeof btoa=="function"?e=>btoa(e):J?e=>Buffer.from(e,"binary").toString("base64"):at,we=J?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,a=e.length;n<a;n+=4096)r.push(C.apply(null,e.subarray(n,n+4096)));return ke(r.join(""))},ce=(e,t=!1)=>t?ot(we(e)):we(e),Nt=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?C(192|t>>>6)+C(128|t&63):C(224|t>>>12&15)+C(128|t>>>6&63)+C(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return C(240|t>>>18&7)+C(128|t>>>12&63)+C(128|t>>>6&63)+C(128|t&63)}},zt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ut=e=>e.replace(zt,Nt),Fe=J?e=>Buffer.from(e,"utf8").toString("base64"):Ie?e=>we(Ie.encode(e)):e=>ke(ut(e)),Z=(e,t=!1)=>t?ot(Fe(e)):Fe(e),qe=e=>Z(e,!0),Bt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Gt=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return C((r>>>10)+55296)+C((r&1023)+56320);case 3:return C((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return C((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},lt=e=>e.replace(Bt,Gt),st=e=>{if(e=e.replace(/\s+/g,""),!Ht.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",n,a;for(let l=0;l<e.length;)t=se[e.charAt(l++)]<<18|se[e.charAt(l++)]<<12|(n=se[e.charAt(l++)])<<6|(a=se[e.charAt(l++)]),r+=n===64?C(t>>16&255):a===64?C(t>>16&255,t>>8&255):C(t>>16&255,t>>8&255,t&255);return r},je=typeof atob=="function"?e=>atob(it(e)):J?e=>Buffer.from(e,"base64").toString("binary"):st,ft=J?e=>De(Buffer.from(e,"base64")):e=>De(je(e).split("").map(t=>t.charCodeAt(0))),ct=e=>ft(pt(e)),Mt=J?e=>Buffer.from(e,"base64").toString("utf8"):Ce?e=>Ce.decode(ft(e)):e=>lt(je(e)),pt=e=>it(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Se=e=>Mt(pt(e)),Kt=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},ht=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),dt=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,ht(r));e("fromBase64",function(){return Se(this)}),e("toBase64",function(t){return Z(this,t)}),e("toBase64URI",function(){return Z(this,!0)}),e("toBase64URL",function(){return Z(this,!0)}),e("toUint8Array",function(){return ct(this)})},yt=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,ht(r));e("toBase64",function(t){return ce(this,t)}),e("toBase64URI",function(){return ce(this,!0)}),e("toBase64URL",function(){return ce(this,!0)})},Vt=()=>{dt(),yt()},Xt={version:nt,VERSION:qt,atob:je,atobPolyfill:st,btoa:ke,btoaPolyfill:at,fromBase64:Se,toBase64:Z,encode:Z,encodeURI:qe,encodeURL:qe,utob:ut,btou:lt,decode:Se,isValid:Kt,fromUint8Array:ce,toUint8Array:ct,extendString:dt,extendUint8Array:yt,extendBuiltins:Vt};var ve,$e;function Yt(){return $e||($e=1,ve=function(t,r){if(r=r.split(":")[0],t=+t,!t)return!1;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),ve}var fe={},He;function Zt(){if(He)return fe;He=1;var e=Object.prototype.hasOwnProperty,t;function r(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function n(s){try{return encodeURIComponent(s)}catch{return null}}function a(s){for(var g=/([^=?#&]+)=?([^&]*)/g,p={},b;b=g.exec(s);){var S=r(b[1]),j=r(b[2]);S===null||j===null||S in p||(p[S]=j)}return p}function l(s,g){g=g||"";var p=[],b,S;typeof g!="string"&&(g="?");for(S in s)if(e.call(s,S)){if(b=s[S],!b&&(b===null||b===t||isNaN(b))&&(b=""),S=n(S),b=n(b),S===null||b===null)continue;p.push(S+"="+b)}return p.length?g+p.join("&"):""}return fe.stringify=l,fe.parse=a,fe}var me,Ne;function Wt(){if(Ne)return me;Ne=1;var e=Yt(),t=Zt(),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,g=/^[a-zA-Z]:/;function p(v){return(v||"").toString().replace(r,"")}var b=[["#","hash"],["?","query"],function(y,m){return L(m.protocol)?y.replace(/\\/g,"/"):y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],S={hash:1,query:1};function j(v){var y;typeof window<"u"?y=window:typeof Te<"u"?y=Te:typeof self<"u"?y=self:y={};var m=y.location||{};v=v||m;var h={},P=typeof v,w;if(v.protocol==="blob:")h=new A(unescape(v.pathname),{});else if(P==="string"){h=new A(v,{});for(w in S)delete h[w]}else if(P==="object"){for(w in v)w in S||(h[w]=v[w]);h.slashes===void 0&&(h.slashes=a.test(v.href))}return h}function L(v){return v==="file:"||v==="ftp:"||v==="http:"||v==="https:"||v==="ws:"||v==="wss:"}function z(v,y){v=p(v),v=v.replace(n,""),y=y||{};var m=s.exec(v),h=m[1]?m[1].toLowerCase():"",P=!!m[2],w=!!m[3],O=0,x;return P?w?(x=m[2]+m[3]+m[4],O=m[2].length+m[3].length):(x=m[2]+m[4],O=m[2].length):w?(x=m[3]+m[4],O=m[3].length):x=m[4],h==="file:"?O>=2&&(x=x.slice(2)):L(h)?x=m[4]:h?P&&(x=x.slice(2)):O>=2&&L(y.protocol)&&(x=m[4]),{protocol:h,slashes:P||L(h),slashesCount:O,rest:x}}function H(v,y){if(v==="")return y;for(var m=(y||"/").split("/").slice(0,-1).concat(v.split("/")),h=m.length,P=m[h-1],w=!1,O=0;h--;)m[h]==="."?m.splice(h,1):m[h]===".."?(m.splice(h,1),O++):O&&(h===0&&(w=!0),m.splice(h,1),O--);return w&&m.unshift(""),(P==="."||P==="..")&&m.push(""),m.join("/")}function A(v,y,m){if(v=p(v),v=v.replace(n,""),!(this instanceof A))return new A(v,y,m);var h,P,w,O,x,F,N=b.slice(),K=typeof y,_=this,$=0;for(K!=="object"&&K!=="string"&&(m=y,y=null),m&&typeof m!="function"&&(m=t.parse),y=j(y),P=z(v||"",y),h=!P.protocol&&!P.slashes,_.slashes=P.slashes||h&&y.slashes,_.protocol=P.protocol||y.protocol||"",v=P.rest,(P.protocol==="file:"&&(P.slashesCount!==2||g.test(v))||!P.slashes&&(P.protocol||P.slashesCount<2||!L(_.protocol)))&&(N[3]=[/(.*)/,"pathname"]);$<N.length;$++){if(O=N[$],typeof O=="function"){v=O(v,_);continue}w=O[0],F=O[1],w!==w?_[F]=v:typeof w=="string"?(x=w==="@"?v.lastIndexOf(w):v.indexOf(w),~x&&(typeof O[2]=="number"?(_[F]=v.slice(0,x),v=v.slice(x+O[2])):(_[F]=v.slice(x),v=v.slice(0,x)))):(x=w.exec(v))&&(_[F]=x[1],v=v.slice(0,x.index)),_[F]=_[F]||h&&O[3]&&y[F]||"",O[4]&&(_[F]=_[F].toLowerCase())}m&&(_.query=m(_.query)),h&&y.slashes&&_.pathname.charAt(0)!=="/"&&(_.pathname!==""||y.pathname!=="")&&(_.pathname=H(_.pathname,y.pathname)),_.pathname.charAt(0)!=="/"&&L(_.protocol)&&(_.pathname="/"+_.pathname),e(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(x=_.auth.indexOf(":"),~x?(_.username=_.auth.slice(0,x),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=_.auth.slice(x+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(_.auth)),_.auth=_.password?_.username+":"+_.password:_.username),_.origin=_.protocol!=="file:"&&L(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString()}function k(v,y,m){var h=this;switch(v){case"query":typeof y=="string"&&y.length&&(y=(m||t.parse)(y)),h[v]=y;break;case"port":h[v]=y,e(y,h.protocol)?y&&(h.host=h.hostname+":"+y):(h.host=h.hostname,h[v]="");break;case"hostname":h[v]=y,h.port&&(y+=":"+h.port),h.host=y;break;case"host":h[v]=y,l.test(y)?(y=y.split(":"),h.port=y.pop(),h.hostname=y.join(":")):(h.hostname=y,h.port="");break;case"protocol":h.protocol=y.toLowerCase(),h.slashes=!m;break;case"pathname":case"hash":if(y){var P=v==="pathname"?"/":"#";h[v]=y.charAt(0)!==P?P+y:y}else h[v]=y;break;case"username":case"password":h[v]=encodeURIComponent(y);break;case"auth":var w=y.indexOf(":");~w?(h.username=y.slice(0,w),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=y.slice(w+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(y))}for(var O=0;O<b.length;O++){var x=b[O];x[4]&&(h[x[1]]=h[x[1]].toLowerCase())}return h.auth=h.password?h.username+":"+h.password:h.username,h.origin=h.protocol!=="file:"&&L(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString(),h}function q(v){(!v||typeof v!="function")&&(v=t.stringify);var y,m=this,h=m.host,P=m.protocol;P&&P.charAt(P.length-1)!==":"&&(P+=":");var w=P+(m.protocol&&m.slashes||L(m.protocol)?"//":"");return m.username?(w+=m.username,m.password&&(w+=":"+m.password),w+="@"):m.password?(w+=":"+m.password,w+="@"):m.protocol!=="file:"&&L(m.protocol)&&!h&&m.pathname!=="/"&&(w+="@"),(h[h.length-1]===":"||l.test(m.hostname)&&!m.port)&&(h+=":"),w+=h+m.pathname,y=typeof m.query=="object"?v(m.query):m.query,y&&(w+=y.charAt(0)!=="?"?"?"+y:y),m.hash&&(w+=m.hash),w}return A.prototype={set:k,toString:q},A.extractProtocol=z,A.location=j,A.trimLeft=p,A.qs=t,me=A,me}var Jt=Wt();const Qt=Ut(Jt);function er(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function Ue(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ue=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(u,o,i){u[o]=i.value},l=typeof Symbol=="function"?Symbol:{},s=l.iterator||"@@iterator",g=l.asyncIterator||"@@asyncIterator",p=l.toStringTag||"@@toStringTag";function b(u,o,i){return Object.defineProperty(u,o,{value:i,enumerable:!0,configurable:!0,writable:!0}),u[o]}try{b({},"")}catch{b=function(i,f,d){return i[f]=d}}function S(u,o,i,f){var d=o&&o.prototype instanceof q?o:q,c=Object.create(d.prototype),U=new $(f||[]);return a(c,"_invoke",{value:F(u,i,U)}),c}function j(u,o,i){try{return{type:"normal",arg:u.call(o,i)}}catch(f){return{type:"throw",arg:f}}}t.wrap=S;var L="suspendedStart",z="suspendedYield",H="executing",A="completed",k={};function q(){}function v(){}function y(){}var m={};b(m,s,function(){return this});var h=Object.getPrototypeOf,P=h&&h(h(B([])));P&&P!==r&&n.call(P,s)&&(m=P);var w=y.prototype=q.prototype=Object.create(m);function O(u){["next","throw","return"].forEach(function(o){b(u,o,function(i){return this._invoke(o,i)})})}function x(u,o){function i(d,c,U,E){var R=j(u[d],u,c);if(R.type!=="throw"){var I=R.arg,T=I.value;return T&&G(T)=="object"&&n.call(T,"__await")?o.resolve(T.__await).then(function(D){i("next",D,U,E)},function(D){i("throw",D,U,E)}):o.resolve(T).then(function(D){I.value=D,U(I)},function(D){return i("throw",D,U,E)})}E(R.arg)}var f;a(this,"_invoke",{value:function(c,U){function E(){return new o(function(R,I){i(c,U,R,I)})}return f=f?f.then(E,E):E()}})}function F(u,o,i){var f=L;return function(d,c){if(f===H)throw Error("Generator is already running");if(f===A){if(d==="throw")throw c;return{value:e,done:!0}}for(i.method=d,i.arg=c;;){var U=i.delegate;if(U){var E=N(U,i);if(E){if(E===k)continue;return E}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(f===L)throw f=A,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);f=H;var R=j(u,o,i);if(R.type==="normal"){if(f=i.done?A:z,R.arg===k)continue;return{value:R.arg,done:i.done}}R.type==="throw"&&(f=A,i.method="throw",i.arg=R.arg)}}}function N(u,o){var i=o.method,f=u.iterator[i];if(f===e)return o.delegate=null,i==="throw"&&u.iterator.return&&(o.method="return",o.arg=e,N(u,o),o.method==="throw")||i!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),k;var d=j(f,u.iterator,o.arg);if(d.type==="throw")return o.method="throw",o.arg=d.arg,o.delegate=null,k;var c=d.arg;return c?c.done?(o[u.resultName]=c.value,o.next=u.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,k):c:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,k)}function K(u){var o={tryLoc:u[0]};1 in u&&(o.catchLoc=u[1]),2 in u&&(o.finallyLoc=u[2],o.afterLoc=u[3]),this.tryEntries.push(o)}function _(u){var o=u.completion||{};o.type="normal",delete o.arg,u.completion=o}function $(u){this.tryEntries=[{tryLoc:"root"}],u.forEach(K,this),this.reset(!0)}function B(u){if(u||u===""){var o=u[s];if(o)return o.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length)){var i=-1,f=function d(){for(;++i<u.length;)if(n.call(u,i))return d.value=u[i],d.done=!1,d;return d.value=e,d.done=!0,d};return f.next=f}}throw new TypeError(G(u)+" is not iterable")}return v.prototype=y,a(w,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=b(y,p,"GeneratorFunction"),t.isGeneratorFunction=function(u){var o=typeof u=="function"&&u.constructor;return!!o&&(o===v||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(u){return Object.setPrototypeOf?Object.setPrototypeOf(u,y):(u.__proto__=y,b(u,p,"GeneratorFunction")),u.prototype=Object.create(w),u},t.awrap=function(u){return{__await:u}},O(x.prototype),b(x.prototype,g,function(){return this}),t.AsyncIterator=x,t.async=function(u,o,i,f,d){d===void 0&&(d=Promise);var c=new x(S(u,o,i,f),d);return t.isGeneratorFunction(o)?c:c.next().then(function(U){return U.done?U.value:c.next()})},O(w),b(w,p,"Generator"),b(w,s,function(){return this}),b(w,"toString",function(){return"[object Generator]"}),t.keys=function(u){var o=Object(u),i=[];for(var f in o)i.push(f);return i.reverse(),function d(){for(;i.length;){var c=i.pop();if(c in o)return d.value=c,d.done=!1,d}return d.done=!0,d}},t.values=B,$.prototype={constructor:$,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!o)for(var i in this)i.charAt(0)==="t"&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var i=this;function f(I,T){return U.type="throw",U.arg=o,i.next=I,T&&(i.method="next",i.arg=e),!!T}for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d],U=c.completion;if(c.tryLoc==="root")return f("end");if(c.tryLoc<=this.prev){var E=n.call(c,"catchLoc"),R=n.call(c,"finallyLoc");if(E&&R){if(this.prev<c.catchLoc)return f(c.catchLoc,!0);if(this.prev<c.finallyLoc)return f(c.finallyLoc)}else if(E){if(this.prev<c.catchLoc)return f(c.catchLoc,!0)}else{if(!R)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return f(c.finallyLoc)}}}},abrupt:function(o,i){for(var f=this.tryEntries.length-1;f>=0;--f){var d=this.tryEntries[f];if(d.tryLoc<=this.prev&&n.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var c=d;break}}c&&(o==="break"||o==="continue")&&c.tryLoc<=i&&i<=c.finallyLoc&&(c=null);var U=c?c.completion:{};return U.type=o,U.arg=i,c?(this.method="next",this.next=c.finallyLoc,k):this.complete(U)},complete:function(o,i){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&i&&(this.next=i),k},finish:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var f=this.tryEntries[i];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),_(f),k}},catch:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var f=this.tryEntries[i];if(f.tryLoc===o){var d=f.completion;if(d.type==="throw"){var c=d.arg;_(f)}return c}}throw Error("illegal catch attempt")},delegateYield:function(o,i,f){return this.delegate={iterator:B(o),resultName:i,nextLoc:f},this.method==="next"&&(this.arg=e),k}},t}function ze(e,t,r,n,a,l,s){try{var g=e[l](s),p=g.value}catch(b){r(b);return}g.done?t(p):Promise.resolve(p).then(n,a)}function tr(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var l=e.apply(t,r);function s(p){ze(l,n,a,s,g,"next",p)}function g(p){ze(l,n,a,s,g,"throw",p)}s(void 0)})}}function vt(e,t){return or(e)||nr(e,t)||mt(e,t)||rr()}function rr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,l,s,g=[],p=!0,b=!1;try{if(l=(r=r.call(e)).next,t!==0)for(;!(p=(n=l.call(r)).done)&&(g.push(n.value),g.length!==t);p=!0);}catch(S){b=!0,a=S}finally{try{if(!p&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(b)throw a}}return g}}function or(e){if(Array.isArray(e))return e}function G(e){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(e)}function ir(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=mt(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(b){throw b},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,s=!1,g;return{s:function(){r=r.call(e)},n:function(){var b=r.next();return l=b.done,b},e:function(b){s=!0,g=b},f:function(){try{!l&&r.return!=null&&r.return()}finally{if(s)throw g}}}}function mt(e,t){if(e){if(typeof e=="string")return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}}function Be(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(r),!0).forEach(function(n){ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ar(e,t,r){return t=gt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gt(n.key),n)}}function lr(e,t,r){return t&&Me(e.prototype,t),r&&Me(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gt(e){var t=sr(e,"string");return G(t)=="symbol"?t:t+""}function sr(e,t){if(G(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(G(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pe="tus-v1",he="ietf-draft-03",ee="ietf-draft-05",fr={endpoint:null,uploadUrl:null,metadata:{},metadataForPartialUploads:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:bt,chunkSize:Number.POSITIVE_INFINITY,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:pe},de=function(){function e(t,r){ur(this,e),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return lr(e,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![pe,he,ee].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var a=this.options.retryDelays;if(a!=null&&Object.prototype.toString.call(a)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var l=0,s=["uploadUrl","uploadSize","uploadLengthDeferred"];l<s.length;l++){var g=s[l];if(this.options[g]){this._emitError(new Error("tus: cannot use the ".concat(g," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(n,this.options).then(function(p){return r._fingerprint=p,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(p){if(r._source=p,r.options.uploadLengthDeferred)r._size=null;else if(r.options.uploadSize!=null){if(r._size=Number(r.options.uploadSize),Number.isNaN(r._size)){r._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(r._size=r._source.size,r._size==null){r._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(p){r._emitError(p)})}},{key:"_startParallelUpload",value:function(){var r,n=this,a=this._size,l=0;this._parallelUploads=[];var s=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,g=(r=this.options.parallelUploadBoundaries)!==null&&r!==void 0?r:pr(this._source.size,s);this._parallelUploadUrls&&g.forEach(function(S,j){S.uploadUrl=n._parallelUploadUrls[j]||null}),this._parallelUploadUrls=new Array(g.length);var p=g.map(function(S,j){var L=0;return n._source.slice(S.start,S.end).then(function(z){var H=z.value;return new Promise(function(A,k){var q=V(V({},n.options),{},{uploadUrl:S.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:n.options.metadataForPartialUploads,headers:V(V({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:A,onError:k,onProgress:function(m){l=l-L+m,L=m,n._emitProgress(l,a)},onUploadUrlAvailable:function(){n._parallelUploadUrls[j]=v.url,n._parallelUploadUrls.filter(function(m){return!!m}).length===g.length&&n._saveUploadInUrlStorage()}}),v=new e(H,q);v.start(),n._parallelUploads.push(v)})})}),b;Promise.all(p).then(function(){b=n._openRequest("POST",n.options.endpoint),b.setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var S=Ke(n.options.metadata);return S!==""&&b.setHeader("Upload-Metadata",S),n._sendRequest(b,null)}).then(function(S){if(!X(S.getStatus(),200)){n._emitHttpError(b,S,"tus: unexpected response while creating upload");return}var j=S.getHeader("Location");if(j==null){n._emitHttpError(b,S,"tus: invalid or missing Location header");return}n.url=Ze(n.options.endpoint,j),"Created upload at ".concat(n.url),n._emitSuccess(S)}).catch(function(S){n._emitError(S)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(r){var n=this;if(this._parallelUploads!=null){var a=ir(this._parallelUploads),l;try{for(a.s();!(l=a.n()).done;){var s=l.value;s.abort(r)}}catch(g){a.e(g)}finally{a.f()}}return this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():e.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,a,l){this._emitError(new le(a,l,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var a=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(a&&(this._retryAttempt=0),Ye(r,this._retryAttempt,this.options)){var l=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},l);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(r){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess({lastResponse:r})}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,a){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,a)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length","1"):n.setHeader("Upload-Length","".concat(this._size));var a=Ke(this.options.metadata);a!==""&&n.setHeader("Upload-Metadata",a);var l;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,l=this._addChunkToRequest(n)):((this.options.protocol===he||this.options.protocol===ee)&&n.setHeader("Upload-Complete","?0"),l=this._sendRequest(n,null)),l.then(function(s){if(!X(s.getStatus(),200)){r._emitHttpError(n,s,"tus: unexpected response while creating upload");return}var g=s.getHeader("Location");if(g==null){r._emitHttpError(n,s,"tus: invalid or missing Location header");return}if(r.url=Ze(r.options.endpoint,g),"Created upload at ".concat(r.url),typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._size===0){r._emitSuccess(s),r._source.close();return}r._saveUploadInUrlStorage().then(function(){r.options.uploadDataDuringCreation?r._handleUploadResponse(n,s):(r._offset=0,r._performUpload())})}).catch(function(s){r._emitHttpError(n,null,"tus: failed to create upload",s)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),a=this._sendRequest(n,null);a.then(function(l){var s=l.getStatus();if(!X(s,200)){if(s===423){r._emitHttpError(n,l,"tus: upload is currently locked; retry later");return}if(X(s,400)&&r._removeFromUrlStorage(),!r.options.endpoint){r._emitHttpError(n,l,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var g=Number.parseInt(l.getHeader("Upload-Offset"),10);if(Number.isNaN(g)){r._emitHttpError(n,l,"tus: invalid or missing offset value");return}var p=Number.parseInt(l.getHeader("Upload-Length"),10);if(Number.isNaN(p)&&!r.options.uploadLengthDeferred&&r.options.protocol===pe){r._emitHttpError(n,l,"tus: invalid or missing length value");return}typeof r.options.onUploadUrlAvailable=="function"&&r.options.onUploadUrlAvailable(),r._saveUploadInUrlStorage().then(function(){if(g===p){r._emitProgress(p,p),r._emitSuccess(l);return}r._offset=g,r._performUpload()})}).catch(function(l){r._emitHttpError(n,null,"tus: failed to resume upload",l)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset","".concat(this._offset));var a=this._addChunkToRequest(n);a.then(function(l){if(!X(l.getStatus(),200)){r._emitHttpError(n,l,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,l)}).catch(function(l){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),l)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,a=this._offset,l=this._offset+this.options.chunkSize;return r.setProgressHandler(function(s){n._emitProgress(a+s,n._size)}),this.options.protocol===pe?r.setHeader("Content-Type","application/offset+octet-stream"):this.options.protocol===ee&&r.setHeader("Content-Type","application/partial-upload"),(l===Number.POSITIVE_INFINITY||l>this._size)&&!this.options.uploadLengthDeferred&&(l=this._size),this._source.slice(a,l).then(function(s){var g=s.value,p=s.done,b=g!=null&&g.size?g.size:0;n.options.uploadLengthDeferred&&p&&(n._size=n._offset+b,r.setHeader("Upload-Length","".concat(n._size)));var S=n._offset+b;return!n.options.uploadLengthDeferred&&p&&S!==n._size?Promise.reject(new Error("upload was configured with a size of ".concat(n._size," bytes, but the source is done after ").concat(S," bytes"))):g===null?n._sendRequest(r):((n.options.protocol===he||n.options.protocol===ee)&&r.setHeader("Upload-Complete",p?"?1":"?0"),n._emitProgress(n._offset,n._size),n._sendRequest(r,g))})}},{key:"_handleUploadResponse",value:function(r,n){var a=Number.parseInt(n.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(a,this._size),this._emitChunkComplete(a-this._offset,a,this._size),this._offset=a,a===this._size){this._emitSuccess(n),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var a=Ve(r,n,this.options);return this._req=a,a}},{key:"_removeFromUrlStorage",value:function(){var r=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(a){r._urlStorageKey=a})}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Xe(r,n,this.options)}}],[{key:"terminate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=Ve("DELETE",r,n);return Xe(a,null,n).then(function(l){if(l.getStatus()!==204)throw new le("tus: unexpected response while terminating upload",null,a,l)}).catch(function(l){if(l instanceof le||(l=new le("tus: failed to terminate upload",l,a,null)),!Ye(l,0,n))throw l;var s=n.retryDelays[0],g=n.retryDelays.slice(1),p=V(V({},n),{},{retryDelays:g});return new Promise(function(b){return setTimeout(b,s)}).then(function(){return e.terminate(r,p)})})}}])}();function Ke(e){return Object.entries(e).map(function(t){var r=vt(t,2),n=r[0],a=r[1];return"".concat(n," ").concat(Xt.encode(String(a)))}).join(",")}function X(e,t){return e>=t&&e<t+100}function Ve(e,t,r){var n=r.httpStack.createRequest(e,t);r.protocol===he?n.setHeader("Upload-Draft-Interop-Version","5"):r.protocol===ee?n.setHeader("Upload-Draft-Interop-Version","6"):n.setHeader("Tus-Resumable","1.0.0");for(var a=r.headers||{},l=0,s=Object.entries(a);l<s.length;l++){var g=vt(s[l],2),p=g[0],b=g[1];n.setHeader(p,b)}if(r.addRequestId){var S=er();n.setHeader("X-Request-ID",S)}return n}function Xe(e,t,r){return Pe.apply(this,arguments)}function Pe(){return Pe=tr(Ue().mark(function e(t,r,n){var a;return Ue().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(typeof n.onBeforeRequest!="function"){s.next=3;break}return s.next=3,n.onBeforeRequest(t);case 3:return s.next=5,t.send(r);case 5:if(a=s.sent,typeof n.onAfterResponse!="function"){s.next=9;break}return s.next=9,n.onAfterResponse(t,a);case 9:return s.abrupt("return",a);case 10:case"end":return s.stop()}},e)})),Pe.apply(this,arguments)}function cr(){var e=!0;return typeof navigator<"u"&&navigator.onLine===!1&&(e=!1),e}function Ye(e,t,r){return r.retryDelays==null||t>=r.retryDelays.length||e.originalRequest==null?!1:r&&typeof r.onShouldRetry=="function"?r.onShouldRetry(e,t,r):bt(e)}function bt(e){var t=e.originalResponse?e.originalResponse.getStatus():0;return(!X(t,400)||t===409||t===423)&&cr()}function Ze(e,t){return new Qt(t,e).toString()}function pr(e,t){for(var r=Math.floor(e/t),n=[],a=0;a<t;a++)n.push({start:r*a,end:r*(a+1)});return n[t-1].end=e,n}de.defaultOptions=fr;var _t=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function hr(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var a=n.response;t(a)},n.onerror=function(a){r(a)},n.open("GET",e),n.send()})}var dr=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function yr(e){return new Promise(function(t,r){var n=new FileReader;n.onload=function(){var a=new Uint8Array(n.result);t({value:a})},n.onerror=function(a){r(a)},n.readAsArrayBuffer(e)})}function oe(e){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(e)}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,br(n.key),n)}}function gr(e,t,r){return t&&mr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function br(e){var t=_r(e,"string");return oe(t)=="symbol"?t:t+""}function _r(e,t){if(oe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var We=function(){function e(t){vr(this,e),this._file=t,this.size=t.size}return gr(e,[{key:"slice",value:function(r,n){if(dr())return yr(this._file.slice(r,n));var a=this._file.slice(r,n),l=n>=this.size;return Promise.resolve({value:a,done:l})}},{key:"close",value:function(){}}])}();function ie(e){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(e)}function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pr(n.key),n)}}function Ur(e,t,r){return t&&Sr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pr(e){var t=xr(e,"string");return ie(t)=="symbol"?t:t+""}function xr(e,t){if(ie(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ie(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Je(e){return e===void 0?0:e.size!==void 0?e.size:e.length}function Er(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}var Or=function(){function e(t){wr(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return Ur(e,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var a=this,l=n<=this._bufferOffset+Je(this._buffer);if(this._done||l){var s=this._getDataFromBuffer(r,n),g=s==null?this._done:!1;return Promise.resolve({value:s,done:g})}return this._reader.read().then(function(p){var b=p.value,S=p.done;return S?a._done=!0:a._buffer===void 0?a._buffer=b:a._buffer=Er(a._buffer,b),a._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var a=Je(this._buffer)===0;return this._done&&a?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])}();function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(e)}function xe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */xe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(u,o,i){u[o]=i.value},l=typeof Symbol=="function"?Symbol:{},s=l.iterator||"@@iterator",g=l.asyncIterator||"@@asyncIterator",p=l.toStringTag||"@@toStringTag";function b(u,o,i){return Object.defineProperty(u,o,{value:i,enumerable:!0,configurable:!0,writable:!0}),u[o]}try{b({},"")}catch{b=function(i,f,d){return i[f]=d}}function S(u,o,i,f){var d=o&&o.prototype instanceof q?o:q,c=Object.create(d.prototype),U=new $(f||[]);return a(c,"_invoke",{value:F(u,i,U)}),c}function j(u,o,i){try{return{type:"normal",arg:u.call(o,i)}}catch(f){return{type:"throw",arg:f}}}t.wrap=S;var L="suspendedStart",z="suspendedYield",H="executing",A="completed",k={};function q(){}function v(){}function y(){}var m={};b(m,s,function(){return this});var h=Object.getPrototypeOf,P=h&&h(h(B([])));P&&P!==r&&n.call(P,s)&&(m=P);var w=y.prototype=q.prototype=Object.create(m);function O(u){["next","throw","return"].forEach(function(o){b(u,o,function(i){return this._invoke(o,i)})})}function x(u,o){function i(d,c,U,E){var R=j(u[d],u,c);if(R.type!=="throw"){var I=R.arg,T=I.value;return T&&M(T)=="object"&&n.call(T,"__await")?o.resolve(T.__await).then(function(D){i("next",D,U,E)},function(D){i("throw",D,U,E)}):o.resolve(T).then(function(D){I.value=D,U(I)},function(D){return i("throw",D,U,E)})}E(R.arg)}var f;a(this,"_invoke",{value:function(c,U){function E(){return new o(function(R,I){i(c,U,R,I)})}return f=f?f.then(E,E):E()}})}function F(u,o,i){var f=L;return function(d,c){if(f===H)throw Error("Generator is already running");if(f===A){if(d==="throw")throw c;return{value:e,done:!0}}for(i.method=d,i.arg=c;;){var U=i.delegate;if(U){var E=N(U,i);if(E){if(E===k)continue;return E}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(f===L)throw f=A,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);f=H;var R=j(u,o,i);if(R.type==="normal"){if(f=i.done?A:z,R.arg===k)continue;return{value:R.arg,done:i.done}}R.type==="throw"&&(f=A,i.method="throw",i.arg=R.arg)}}}function N(u,o){var i=o.method,f=u.iterator[i];if(f===e)return o.delegate=null,i==="throw"&&u.iterator.return&&(o.method="return",o.arg=e,N(u,o),o.method==="throw")||i!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+i+"' method")),k;var d=j(f,u.iterator,o.arg);if(d.type==="throw")return o.method="throw",o.arg=d.arg,o.delegate=null,k;var c=d.arg;return c?c.done?(o[u.resultName]=c.value,o.next=u.nextLoc,o.method!=="return"&&(o.method="next",o.arg=e),o.delegate=null,k):c:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,k)}function K(u){var o={tryLoc:u[0]};1 in u&&(o.catchLoc=u[1]),2 in u&&(o.finallyLoc=u[2],o.afterLoc=u[3]),this.tryEntries.push(o)}function _(u){var o=u.completion||{};o.type="normal",delete o.arg,u.completion=o}function $(u){this.tryEntries=[{tryLoc:"root"}],u.forEach(K,this),this.reset(!0)}function B(u){if(u||u===""){var o=u[s];if(o)return o.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length)){var i=-1,f=function d(){for(;++i<u.length;)if(n.call(u,i))return d.value=u[i],d.done=!1,d;return d.value=e,d.done=!0,d};return f.next=f}}throw new TypeError(M(u)+" is not iterable")}return v.prototype=y,a(w,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=b(y,p,"GeneratorFunction"),t.isGeneratorFunction=function(u){var o=typeof u=="function"&&u.constructor;return!!o&&(o===v||(o.displayName||o.name)==="GeneratorFunction")},t.mark=function(u){return Object.setPrototypeOf?Object.setPrototypeOf(u,y):(u.__proto__=y,b(u,p,"GeneratorFunction")),u.prototype=Object.create(w),u},t.awrap=function(u){return{__await:u}},O(x.prototype),b(x.prototype,g,function(){return this}),t.AsyncIterator=x,t.async=function(u,o,i,f,d){d===void 0&&(d=Promise);var c=new x(S(u,o,i,f),d);return t.isGeneratorFunction(o)?c:c.next().then(function(U){return U.done?U.value:c.next()})},O(w),b(w,p,"Generator"),b(w,s,function(){return this}),b(w,"toString",function(){return"[object Generator]"}),t.keys=function(u){var o=Object(u),i=[];for(var f in o)i.push(f);return i.reverse(),function d(){for(;i.length;){var c=i.pop();if(c in o)return d.value=c,d.done=!1,d}return d.done=!0,d}},t.values=B,$.prototype={constructor:$,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!o)for(var i in this)i.charAt(0)==="t"&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var i=this;function f(I,T){return U.type="throw",U.arg=o,i.next=I,T&&(i.method="next",i.arg=e),!!T}for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d],U=c.completion;if(c.tryLoc==="root")return f("end");if(c.tryLoc<=this.prev){var E=n.call(c,"catchLoc"),R=n.call(c,"finallyLoc");if(E&&R){if(this.prev<c.catchLoc)return f(c.catchLoc,!0);if(this.prev<c.finallyLoc)return f(c.finallyLoc)}else if(E){if(this.prev<c.catchLoc)return f(c.catchLoc,!0)}else{if(!R)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return f(c.finallyLoc)}}}},abrupt:function(o,i){for(var f=this.tryEntries.length-1;f>=0;--f){var d=this.tryEntries[f];if(d.tryLoc<=this.prev&&n.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var c=d;break}}c&&(o==="break"||o==="continue")&&c.tryLoc<=i&&i<=c.finallyLoc&&(c=null);var U=c?c.completion:{};return U.type=o,U.arg=i,c?(this.method="next",this.next=c.finallyLoc,k):this.complete(U)},complete:function(o,i){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&i&&(this.next=i),k},finish:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var f=this.tryEntries[i];if(f.finallyLoc===o)return this.complete(f.completion,f.afterLoc),_(f),k}},catch:function(o){for(var i=this.tryEntries.length-1;i>=0;--i){var f=this.tryEntries[i];if(f.tryLoc===o){var d=f.completion;if(d.type==="throw"){var c=d.arg;_(f)}return c}}throw Error("illegal catch attempt")},delegateYield:function(o,i,f){return this.delegate={iterator:B(o),resultName:i,nextLoc:f},this.method==="next"&&(this.arg=e),k}},t}function Qe(e,t,r,n,a,l,s){try{var g=e[l](s),p=g.value}catch(b){r(b);return}g.done?t(p):Promise.resolve(p).then(n,a)}function Rr(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var l=e.apply(t,r);function s(p){Qe(l,n,a,s,g,"next",p)}function g(p){Qe(l,n,a,s,g,"throw",p)}s(void 0)})}}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lr(n.key),n)}}function Ar(e,t,r){return t&&jr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lr(e){var t=Tr(e,"string");return M(t)=="symbol"?t:t+""}function Tr(e,t){if(M(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(M(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cr=function(){function e(){kr(this,e)}return Ar(e,[{key:"openFile",value:function(){var t=Rr(xe().mark(function n(a,l){var s;return xe().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(_t()&&a&&typeof a.uri<"u")){p.next=11;break}return p.prev=1,p.next=4,hr(a.uri);case 4:return s=p.sent,p.abrupt("return",new We(s));case 8:throw p.prev=8,p.t0=p.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(p.t0));case 11:if(!(typeof a.slice=="function"&&typeof a.size<"u")){p.next=13;break}return p.abrupt("return",Promise.resolve(new We(a)));case 13:if(typeof a.read!="function"){p.next=18;break}if(l=Number(l),Number.isFinite(l)){p.next=17;break}return p.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return p.abrupt("return",Promise.resolve(new Or(a,l)));case 18:return p.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return p.stop()}},n,null,[[1,8]])}));function r(n,a){return t.apply(this,arguments)}return r}()}])}();function Ir(e,t){return _t()?Promise.resolve(Dr(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function Dr(e,t){var r=e.exif?Fr(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}function Fr(e){var t=0;if(e.length===0)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t}function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$r(n.key),n)}}function Le(e,t,r){return t&&qr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e){var t=Hr(e,"string");return ae(t)=="symbol"?t:t+""}function Hr(e,t){if(ae(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ae(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nr=function(){function e(){Ae(this,e)}return Le(e,[{key:"createRequest",value:function(r,n){return new zr(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}])}(),zr=function(){function e(t,r){Ae(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return Le(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){n.lengthComputable&&r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(a,l){r._xhr.onload=function(){a(new Br(r._xhr))},r._xhr.onerror=function(s){l(s)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}(),Br=function(){function e(t){Ae(this,e),this._xhr=t}return Le(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}();function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vr(n.key),n)}}function Kr(e,t,r){return t&&Mr(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vr(e){var t=Xr(e,"string");return ue(t)=="symbol"?t:t+""}function Xr(e,t){if(ue(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ue(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ee=!1;try{Ee="localStorage"in window;var ge="tusSupport",et=localStorage.getItem(ge);localStorage.setItem(ge,et),et===null&&localStorage.removeItem(ge)}catch(e){if(e.code===e.SECURITY_ERR||e.code===e.QUOTA_EXCEEDED_ERR)Ee=!1;else throw e}var Yr=Ee,Zr=function(){function e(){Gr(this,e)}return Kr(e,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var a=Math.round(Math.random()*1e12),l="tus::".concat(r,"::").concat(a);return localStorage.setItem(l,JSON.stringify(n)),Promise.resolve(l)}},{key:"_findEntries",value:function(r){for(var n=[],a=0;a<localStorage.length;a++){var l=localStorage.key(a);if(l.indexOf(r)===0)try{var s=JSON.parse(localStorage.getItem(l));s.urlStorageKey=l,n.push(s)}catch{}}return n}}])}();function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function Wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,St(n.key),n)}}function Qr(e,t,r){return r&&Jr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function en(e,t,r){return t=ye(t),tn(e,wt()?Reflect.construct(t,r||[],ye(e).constructor):t.apply(e,r))}function tn(e,t){if(t&&(W(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rn(e)}function rn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wt=function(){return!!e})()}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ye(e)}function nn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Oe(e,t)}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(n){on(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function on(e,t,r){return t=St(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function St(e){var t=an(e,"string");return W(t)=="symbol"?t:t+""}function an(e,t){if(W(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(W(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rt=Y(Y({},de.defaultOptions),{},{httpStack:new Nr,fileReader:new Cr,urlStorage:Yr?new Zr:new Ft,fingerprint:Ir}),ln=function(e){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Wr(this,t),n=Y(Y({},rt),n),en(this,t,[r,n])}return nn(t,e),Qr(t,null,[{key:"terminate",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a=Y(Y({},rt),a),de.terminate(n,a)}}])}(de);export{ln as U};
