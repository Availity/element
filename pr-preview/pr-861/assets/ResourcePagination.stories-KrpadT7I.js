import{j as r,r as g}from"./iframe-DdGJyqAg.js";import{B as f}from"./index-VAodLW9S.js";import{a as h}from"./index-BvIUS6Oo.js";import{L as y,a as P,b as x}from"./index-DntNB69Q.js";import{P as d}from"./Pagination-CvSVgX1O.js";import{u as v}from"./useQuery-GXOAUS7k.js";import{Q as R}from"./suspense-BzFS8Nep.js";import{Q as b}from"./queryClient-WLJnH_7H.js";import"./preload-helper-PPVm8Dsz.js";import"./Box-CoFPB8Zy.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./Grid-DZe0cyy5.js";import"./useTheme-Cv4lKaq_.js";import"./styled-Zzv4A2is.js";import"./styled-DZNwGmaG.js";import"./isMuiElement-DDjJU4Hv.js";import"./Stack-VReAszZR.js";import"./Container-Dqr8G4iZ.js";import"./index-CrIdewm5.js";import"./___vite-browser-external_commonjs-proxy-DBR-zej2.js";import"./index-D9N9sMnM.js";import"./_toKey-CN9ZoP-r.js";import"./List-CL4x-icz.js";import"./ListItem-CXdOPZHx.js";import"./memoTheme-zSpKnFub.js";import"./useSlot-eMa7p3Q9.js";import"./mergeSlotProps-DPHtdEFZ.js";import"./useForkRef-B5TSGzbi.js";import"./ListItemText-BsCxe1tr.js";import"./listItemTextClasses-CiRxluPw.js";import"./Typography-DLXtgzgf.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ListItemIcon-CXJHyyMV.js";import"./listItemIconClasses-CyGEUV5Q.js";import"./ListItemButton-B5Bwi5km.js";import"./ButtonBase-CFis8PXN.js";import"./useTimeout-Cz_VOQaa.js";import"./TransitionGroupContext-DXcWZkFx.js";import"./useEventCallback-CPaQ5FLe.js";import"./isFocusVisible-B8k4qzLc.js";import"./PaginationItem-BAw7SsUq.js";import"./index-DcoLq1GP.js";import"./faCircleArrowRight-DD93uDiF.js";import"./faUser-5enrXuLZ.js";import"./SvgIcon-C8uI1pQt.js";import"./PaginationItem-D1WWQ0Tj.js";import"./createSvgIcon-DK_4S9NY.js";import"./Pagination-CE0QGN-J.js";import"./useControlled-JTS7gCiC.js";import"./useBaseQuery-BPH-SPHO.js";import"./infiniteQueryBehavior-BTtYVWpE.js";const j=async({page:t,itemsPerPage:i=10,parameters:o={},getResult:a,resource:e})=>{const s={limit:i,offset:(t-1)*i,...o.params},l=e.addParams(s,o),n=await e.postGet(s,l),m=a||e.getResult,u=(typeof m=="function"?m.call(e,n.data):n.data[m])||n.data;if(!Array.isArray(u))throw new TypeError(`Expected data to be an array but got \`${typeof u}\`. Use the \`getResult\` prop to specify how to get the data from the API response.`);return{items:u,totalCount:n.data.totalCount}},c=({page:t,itemsPerPage:i,parameters:o,getResult:a,resource:e})=>v(["resource",t],()=>j({page:t,itemsPerPage:i,parameters:o,getResult:a,resource:e}));try{c.displayName="useResourcePagination",c.__docgenInfo={description:"",displayName:"useResourcePagination",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},getResult:{defaultValue:null,description:'When a function, the function is called with the response body from the API call and is expected to return an array containing the list of items for the page. When a string, the string is expected to be a simple key used to get the value from the response. ("simple" means dot notation is not supported for grabbing values from nested objects. If your result is deeply nested, provide a function)',name:"getResult",required:!0,type:{name:"string | ((result: TData) => unknown[])"}},itemsPerPage:{defaultValue:{value:"10"},description:"If array, defaults `totalCount` to the length of the array, and page values are sliced from the Array. If a function, it is called with the current page as an argument and expects an array of items to be returned.",name:"itemsPerPage",required:!1,type:{name:"number"}},parameters:{defaultValue:{value:"{}"},description:"Object use to create querystring parameters in the request.",name:"parameters",required:!1,type:{name:"{ params?: Record<string, unknown>; } & Record<string, unknown>"}},resource:{defaultValue:null,description:"Availity API resource (see [@availity/api-axios](https://github.com/Availity/sdk-js/tree/master/packages/api-axios)).",name:"resource",required:!0,type:{name:"Resource<TData>"}}}}}catch{}const be={title:"Components/Pagination/useResourcePagination",component:d,tags:["autodocs"],decorators:[t=>r.jsx(R,{client:new b,children:r.jsx(t,{})})],args:{count:10}},p={render:()=>{const[t,i]=g.useState(1),o=10,a=c({page:t,resource:h,getResult:e=>e.organizations,itemsPerPage:o});return a.isLoading?r.jsx("div",{children:"Loading..."}):a.data?r.jsxs(f,{children:[r.jsx(y,{children:a.data?.items.map(e=>r.jsx(P,{children:r.jsx(x,{primary:e.name,secondary:e.customerId})}))}),r.jsx(d,{page:t,count:Math.ceil(Math.abs(a.data.totalCount/o)),onChange:(e,s)=>i(s)})]}):r.jsx("div",{children:"Error"})}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [page, setPage] = useState(1);
    const itemsPerPage = 10;
    const resp = useResourcePagination({
      page,
      resource: avOrganizationsApi,
      getResult: result => result.organizations,
      itemsPerPage
    });
    if (resp.isLoading) {
      return <div>Loading...</div>;
    }
    return resp.data ? <Box>
        <List>
          {resp.data?.items.map(item => <ListItem>
              <ListItemText primary={item.name} secondary={item.customerId} />
            </ListItem>)}
        </List>
        <Pagination page={page} count={Math.ceil(Math.abs(resp.data.totalCount / itemsPerPage))} onChange={(event, newPage) => setPage(newPage)} />
      </Box> : <div>Error</div>;
  }
}`,...p.parameters?.docs?.source}}};const je=["_useResourcePagination"];export{je as __namedExportsOrder,p as _useResourcePagination,be as default};
