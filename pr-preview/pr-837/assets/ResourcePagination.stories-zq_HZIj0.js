import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{B as y}from"./index-DWvMPRyT.js";import{a as P}from"./index-DdNunzh7.js";import{L as x,a as v,b as R}from"./index-nsVav1LM.js";import{P as h}from"./Pagination-B3FAK14p.js";import{u as b}from"./useQuery-DTEV8lnP.js";import{r as j}from"./index-BSuoOqEd.js";import{i as I}from"./suspense-C8kBW543.js";import{Q as L}from"./queryClient-CWQiQwuQ.js";import"./Box-BAprLmuU.js";import"./identifier-DhnHujDJ.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./useTheme-C_c7PR3o.js";import"./extendSxProp-plByhdXY.js";import"./Grid-BrQtrDmH.js";import"./useTheme-DG5qVMsu.js";import"./DefaultPropsProvider-B1sWsgx2.js";import"./styled-BN1MHGNr.js";import"./styled-9znMky1q.js";import"./isMuiElement-CsRUsG_W.js";import"./useThemeProps-DxTj-Mj7.js";import"./Stack-C-7_RWLD.js";import"./Container-BRT0GL3j.js";import"./index-DLKRbc4C.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./index-DuRQpI0H.js";import"./_toKey-DFcMYS53.js";import"./List-CmPLZKsv.js";import"./ListItem-BsT-iTFw.js";import"./memoTheme-BwIkkReu.js";import"./useForkRef-BIkqQIqh.js";import"./isHostComponent-DVu5iVWx.js";import"./ListItemText-DnstbL6l.js";import"./listItemTextClasses-CiRxluPw.js";import"./useSlot-jI6_c_PV.js";import"./mergeSlotProps-C8ahzxnq.js";import"./Typography-CHtEfMke.js";import"./index-DtRw77fL.js";import"./emotion-react.browser.esm-CVJjYY2z.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./useThemeProps-C6agzR_2.js";import"./ListItemIcon-CSayeSjm.js";import"./listItemIconClasses-CyGEUV5Q.js";import"./ListItemButton-_4nQiiA3.js";import"./useEnhancedEffect-CIAiDanS.js";import"./ButtonBase-AdAh9sBA.js";import"./useTimeout-B9dULhq6.js";import"./TransitionGroupContext-CcytU7uK.js";import"./useEventCallback-Dvy07Fv6.js";import"./isFocusVisible-B8k4qzLc.js";import"./PaginationItem-CobQTiYK.js";import"./index-BgHLshU-.js";import"./faCircleArrowRight-DSzUu1Qy.js";import"./faUser-D77uLSLS.js";import"./SvgIcon-enpUMgPP.js";import"./PaginationItem-BzbH0rHY.js";import"./index-bqlmQ0VS.js";import"./createSvgIcon-DjY4rWdK.js";import"./Pagination-BLi9aQPz.js";import"./useControlled-DUUijreW.js";import"./useBaseQuery-kbC-d2oe.js";import"./infiniteQueryBehavior-B_QQvG9O.js";const w=async({page:t,itemsPerPage:s=10,parameters:i={},getResult:a,resource:e})=>{const o={limit:s,offset:(t-1)*s,...i.params},m=e.addParams(o,i),n=await e.postGet(o,m),u=a||e.getResult,c=(typeof u=="function"?u.call(e,n.data):n.data[u])||n.data;if(!Array.isArray(c))throw new TypeError(`Expected data to be an array but got \`${typeof c}\`. Use the \`getResult\` prop to specify how to get the data from the API response.`);return{items:c,totalCount:n.data.totalCount}},d=({page:t,itemsPerPage:s,parameters:i,getResult:a,resource:e})=>b(["resource",t],()=>w({page:t,itemsPerPage:s,parameters:i,getResult:a,resource:e}));try{d.displayName="useResourcePagination",d.__docgenInfo={description:"",displayName:"useResourcePagination",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},getResult:{defaultValue:null,description:'When a function, the function is called with the response body from the API call and is expected to return an array containing the list of items for the page. When a string, the string is expected to be a simple key used to get the value from the response. ("simple" means dot notation is not supported for grabbing values from nested objects. If your result is deeply nested, provide a function)',name:"getResult",required:!0,type:{name:"string | ((result: TData) => unknown[])"}},itemsPerPage:{defaultValue:{value:"10"},description:"If array, defaults `totalCount` to the length of the array, and page values are sliced from the Array. If a function, it is called with the current page as an argument and expects an array of items to be returned.",name:"itemsPerPage",required:!1,type:{name:"number"}},parameters:{defaultValue:{value:"{}"},description:"Object use to create querystring parameters in the request.",name:"parameters",required:!1,type:{name:"{ params?: Record<string, unknown>; } & Record<string, unknown>"}},resource:{defaultValue:null,description:"Availity API resource (see [@availity/api-axios](https://github.com/Availity/sdk-js/tree/master/packages/api-axios)).",name:"resource",required:!0,type:{name:"Resource<TData>"}}}}}catch{}const Mt={title:"Components/Pagination/useResourcePagination",component:h,tags:["autodocs"],decorators:[t=>r.jsx(I,{client:new L,children:r.jsx(t,{})})],args:{count:10}},p={render:()=>{var e;const[t,s]=j.useState(1),i=10,a=d({page:t,resource:P,getResult:o=>o.organizations,itemsPerPage:i});return a.isLoading?r.jsx("div",{children:"Loading..."}):a.data?r.jsxs(y,{children:[r.jsx(x,{children:(e=a.data)==null?void 0:e.items.map(o=>r.jsx(v,{children:r.jsx(R,{primary:o.name,secondary:o.customerId})}))}),r.jsx(h,{page:t,count:Math.ceil(Math.abs(a.data.totalCount/i)),onChange:(o,m)=>s(m)})]}):r.jsx("div",{children:"Error"})}};var l,g,f;p.parameters={...p.parameters,docs:{...(l=p.parameters)==null?void 0:l.docs,source:{originalSource:`{
  render: () => {
    const [page, setPage] = useState(1);
    const itemsPerPage = 10;
    const resp = useResourcePagination({
      page,
      resource: avOrganizationsApi,
      getResult: result => result.organizations,
      itemsPerPage
    });
    if (resp.isLoading) {
      return <div>Loading...</div>;
    }
    return resp.data ? <Box>
        <List>
          {resp.data?.items.map(item => <ListItem>
              <ListItemText primary={item.name} secondary={item.customerId} />
            </ListItem>)}
        </List>
        <Pagination page={page} count={Math.ceil(Math.abs(resp.data.totalCount / itemsPerPage))} onChange={(event, newPage) => setPage(newPage)} />
      </Box> : <div>Error</div>;
  }
}`,...(f=(g=p.parameters)==null?void 0:g.docs)==null?void 0:f.source}}};const Ot=["_useResourcePagination"];export{Ot as __namedExportsOrder,p as _useResourcePagination,Mt as default};
