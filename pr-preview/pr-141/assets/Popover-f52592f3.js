import{b as O,_ as h}from"./createTheme-e6b56ddb.js";import{r as a}from"./index-570b25c1.js";import{c as Q}from"./clsx-8416b751.js";import{g as wo,s as so,c as bo}from"./styled-78cd751f.js";import{u as Eo}from"./useThemeProps-285a8f6c.js";import{g as To}from"./generateUtilityClasses-2915a045.js";import{j as C}from"./jsx-runtime-390e5fc8.js";import{M as Ro}from"./Modal-33895bdc.js";import{M as So}from"./Paper-adaa179d.js";import{o as Z}from"./ownerWindow-03d1c82d.js";import{G as Mo}from"./Grow-d970f38d.js";import{u as Oo}from"./useForkRef-153a0a89.js";import{o as oo}from"./ownerDocument-613eb639.js";import{u as to}from"./useSlotProps-1710581f.js";import{i as Co}from"./objectWithoutPropertiesLoose-b6174fb2.js";import{d as zo}from"./debounce-517eeb3c.js";function _o(e){return wo("MuiPopover",e)}To("MuiPopover",["root","paper"]);const ko=["onEntering"],Lo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Wo=["slotProps"];function eo(e,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=e.height/2:o==="bottom"&&(s=e.height),s}function ro(e,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=e.width/2:o==="right"&&(s=e.width),s}function no(e){return[e.horizontal,e.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function z(e){return typeof e=="function"?e():e}const Do=e=>{const{classes:o}=e;return bo({root:["root"],paper:["paper"]},_o,o)},Ho=so(Ro,{name:"MuiPopover",slot:"Root",overridesResolver:(e,o)=>o.root})({}),$o=so(So,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),No=a.forwardRef(function(o,s){var _,k,L;const y=Eo({props:o,name:"MuiPopover"}),{action:io,anchorEl:p,anchorOrigin:P={vertical:"top",horizontal:"left"},anchorPosition:W,anchorReference:g="anchorEl",children:lo,className:ao,container:po,elevation:D=8,marginThreshold:i=16,open:f,PaperProps:co={},slots:x,slotProps:w,transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:b=Mo,transitionDuration:E="auto",TransitionProps:{onEntering:H}={},disableScrollLock:T=!1}=y,$=O(y.TransitionProps,ko),fo=O(y,Lo),u=(_=w==null?void 0:w.paper)!=null?_:co,R=a.useRef(),uo=Oo(R,u.ref),S=h({},y,{anchorOrigin:P,anchorReference:g,elevation:D,marginThreshold:i,externalPaperSlotProps:u,transformOrigin:v,TransitionComponent:b,transitionDuration:E,TransitionProps:$}),N=Do(S),j=a.useCallback(()=>{if(g==="anchorPosition")return W;const t=z(p),n=(t&&t.nodeType===1?t:oo(R.current).body).getBoundingClientRect();return{top:n.top+eo(n,P.vertical),left:n.left+ro(n,P.horizontal)}},[p,P.horizontal,P.vertical,W,g]),A=a.useCallback(t=>({vertical:eo(t,v.vertical),horizontal:ro(t,v.horizontal)}),[v.horizontal,v.vertical]),U=a.useCallback(t=>{const r={width:t.offsetWidth,height:t.offsetHeight},n=A(r);if(g==="none")return{top:null,left:null,transformOrigin:no(n)};const V=j();let d=V.top-n.vertical,m=V.left-n.horizontal;const X=d+r.height,Y=m+r.width,q=Z(z(p)),J=q.innerHeight-i,K=q.innerWidth-i;if(i!==null&&d<i){const l=d-i;d-=l,n.vertical+=l}else if(i!==null&&X>J){const l=X-J;d-=l,n.vertical+=l}if(i!==null&&m<i){const l=m-i;m-=l,n.horizontal+=l}else if(Y>K){const l=Y-K;m-=l,n.horizontal+=l}return{top:`${Math.round(d)}px`,left:`${Math.round(m)}px`,transformOrigin:no(n)}},[p,g,j,A,i]),[mo,F]=a.useState(f),c=a.useCallback(()=>{const t=R.current;if(!t)return;const r=U(t);r.top!==null&&(t.style.top=r.top),r.left!==null&&(t.style.left=r.left),t.style.transformOrigin=r.transformOrigin,F(!0)},[U]);a.useEffect(()=>(T&&window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)),[p,T,c]);const ho=(t,r)=>{H&&H(t,r),c()},Po=()=>{F(!1)};a.useEffect(()=>{f&&c()}),a.useImperativeHandle(io,()=>f?{updatePosition:()=>{c()}}:null,[f,c]),a.useEffect(()=>{if(!f)return;const t=zo(()=>{c()}),r=Z(p);return r.addEventListener("resize",t),()=>{t.clear(),r.removeEventListener("resize",t)}},[p,f,c]);let G=E;E==="auto"&&!b.muiSupportAuto&&(G=void 0);const go=po||(p?oo(z(p)).body:void 0),M=(k=x==null?void 0:x.root)!=null?k:Ho,I=(L=x==null?void 0:x.paper)!=null?L:$o,vo=to({elementType:I,externalSlotProps:h({},u,{style:mo?u.style:h({},u.style,{opacity:0})}),additionalProps:{elevation:D,ref:uo},ownerState:S,className:Q(N.paper,u==null?void 0:u.className)}),B=to({elementType:M,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:fo,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:go,open:f},ownerState:S,className:Q(N.root,ao)}),{slotProps:yo}=B,xo=O(B,Wo);return C(M,h({},xo,!Co(M)&&{slotProps:yo,disableScrollLock:T},{children:C(b,h({appear:!0,in:f,onEntering:ho,onExited:Po,timeout:G},$,{children:C(I,h({},vo,{children:lo}))}))}))}),tt=No;export{tt as M,$o as P};
//# sourceMappingURL=Popover-f52592f3.js.map
