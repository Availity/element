{"version":3,"file":"index-a14b3699.js","sources":["../../../packages/feedback/dist/index.mjs"],"sourcesContent":["// src/lib/Feedback.tsx\nimport { useState } from \"react\";\nimport { Popover } from \"@availity/mui-popover\";\nimport { Button as Button2 } from \"@availity/mui-button\";\nimport { Container, styled as styled3 } from \"@mui/material\";\nimport { avLogMessagesApi } from \"@availity/api-axios\";\n\n// src/lib/FeedbackForm.tsx\nimport { useEffect } from \"react\";\nimport { TextField } from \"@availity/mui-textfield\";\nimport { LoadingButton, Button } from \"@availity/mui-button\";\nimport { ToggleButtonGroup, ToggleButton } from \"@availity/mui-toggle-button\";\nimport { Grid, styled as styled2 } from \"@mui/material\";\nimport { FaceFrownIcon, FaceNeutralIcon, FaceSmileIcon } from \"@availity/mui-icon\";\n\n// ../../node_modules/@availity/message-core/dist/index.mjs\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _lastId;\nvar AvMessage = class {\n  constructor() {\n    __publicField(this, \"subscribers\", {});\n    __publicField(this, \"getEventData\", (event) => {\n      const isSameWindow = event.source === window;\n      if (!this.isEnabled || !event || !event.data || !event.origin || !event.source || !this.isDomain(event.origin)) {\n        return;\n      }\n      let { data } = event;\n      if (typeof data === \"string\") {\n        try {\n          data = JSON.parse(data);\n        } catch {\n        }\n      }\n      if (typeof data === \"string\") {\n        event = data;\n        data = void 0;\n      } else {\n        event = data && data.event || this.DEFAULT_EVENT;\n      }\n      const metadata = { isSameWindow };\n      this.onMessage(event, data, metadata);\n    });\n    __privateAdd(this, _lastId, 0);\n    this.isEnabled = true;\n    this.DEFAULT_EVENT = \"avMessage\";\n    this.DOMAIN = /https?:\\/\\/([\\w-]+\\.)?availity\\.(com|net)/;\n    window.addEventListener(\"message\", this.getEventData);\n  }\n  enabled(value) {\n    if (arguments.length > 0) {\n      this.isEnabled = !!value;\n    }\n    return this.isEnabled;\n  }\n  subscribe(event, callback, options) {\n    var _a;\n    if (!this.subscribers[event]) {\n      this.subscribers[event] = [];\n    }\n    __privateSet(this, _lastId, __privateGet(this, _lastId) + 1);\n    const id = __privateGet(this, _lastId);\n    const ignoreSameWindow = (_a = options == null ? void 0 : options.ignoreSameWindow) != null ? _a : true;\n    const subscriber = { id, callback, options: { ignoreSameWindow } };\n    this.subscribers[event].push(subscriber);\n    return () => {\n      this.subscribers[event] = this.subscribers[event].filter((subscriber2) => subscriber2.id !== id);\n    };\n  }\n  unsubscribe(event) {\n    delete this.subscribers[event];\n  }\n  unsubscribeAll() {\n    this.subscribers = {};\n  }\n  onMessage(event, data, metadata) {\n    const { isSameWindow } = metadata;\n    if (this.subscribers[event]) {\n      for (const subscriber of this.subscribers[event]) {\n        const { ignoreSameWindow } = subscriber.options;\n        const skip = isSameWindow && ignoreSameWindow;\n        if (!skip) {\n          subscriber.callback(data);\n        }\n      }\n    }\n  }\n  isDomain(url) {\n    return !this.DOMAIN.test(this.domain()) || this.DOMAIN.test(url);\n  }\n  domain() {\n    if (window.location.origin) {\n      return window.location.origin;\n    }\n    if (window.location.hostname) {\n      return `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : \"\"}`;\n    }\n    return \"*\";\n  }\n  send(payload, target = window.top) {\n    if (!this.isEnabled || !payload) {\n      return;\n    }\n    try {\n      const message = typeof payload === \"string\" ? payload : JSON.stringify(payload);\n      target.postMessage(message, this.domain());\n    } catch (error) {\n      console.warn(\"AvMessage.send()\", error);\n    }\n  }\n};\n_lastId = /* @__PURE__ */ new WeakMap();\nvar AvMessage_default = AvMessage;\nvar src_default = new AvMessage_default();\n\n// ../form-utils/src/lib/FieldHelpIcon.tsx\nimport { HelpCircleIcon } from \"@availity/mui-icon\";\nimport { IconButton } from \"@availity/mui-button\";\nimport { jsx } from \"react/jsx-runtime\";\nvar triggerFieldHelp = (id) => {\n  src_default.send({\n    event: \"nav:help:field\",\n    id\n  });\n};\nvar FieldHelpIcon = ({ helpTopicId, labelId, sx, ...rest }) => {\n  return /* @__PURE__ */ jsx(IconButton, {\n    ...rest,\n    color: \"primary\",\n    title: \"Help\",\n    role: \"link\",\n    onClick: () => triggerFieldHelp(helpTopicId),\n    \"aria-describedby\": labelId,\n    size: \"small\",\n    sx: { ...sx, padding: 0.5, fontSize: \"inherit\", marginTop: \"-2px\", opacity: 1 },\n    children: /* @__PURE__ */ jsx(HelpCircleIcon, {\n      \"aria-hidden\": true,\n      titleAccess: void 0\n    })\n  });\n};\n\n// ../form-utils/src/lib/FormControlLabel.tsx\nimport { forwardRef } from \"react\";\nimport {\n  Box,\n  FormControlLabel as MuiFormControlLabel\n} from \"@mui/material\";\nimport { jsx as jsx2, jsxs } from \"react/jsx-runtime\";\nvar FormControlLabel = forwardRef(({ helpTopicId, id, ...rest }, ref) => {\n  const labelId = id || (rest.htmlFor ? `${rest.htmlFor}-label` : void 0);\n  return /* @__PURE__ */ jsxs(Box, {\n    children: [\n      /* @__PURE__ */ jsx2(MuiFormControlLabel, {\n        id: labelId,\n        ...rest,\n        ref\n      }),\n      helpTopicId ? /* @__PURE__ */ jsx2(FieldHelpIcon, {\n        helpTopicId: \"12345\",\n        labelId\n      }) : null\n    ]\n  });\n});\n\n// ../form-utils/src/lib/FormHelperText.tsx\nimport MuiFormHelperText from \"@mui/material/FormHelperText\";\nimport { WarningTriangleIcon } from \"@availity/mui-icon\";\nimport { jsx as jsx3, jsxs as jsxs2 } from \"react/jsx-runtime\";\n\n// ../form-utils/src/lib/FormLabel.tsx\nimport { forwardRef as forwardRef2 } from \"react\";\nimport { Box as Box2, FormLabel as MuiFormLabel, styled } from \"@mui/material\";\nimport { jsx as jsx4, jsxs as jsxs3 } from \"react/jsx-runtime\";\nvar Children = styled(\"span\", {\n  name: \"MuiFormLabel\",\n  slot: \"Children\",\n  overridesResolver: (props, styles) => styles.children\n})({});\nvar StyleOverrides = {\n  position: \"relative !important\",\n  transform: \"none !important\",\n  transition: \"none !important\",\n  animation: \"none !important\"\n};\nvar FormLabel = forwardRef2((props, ref) => {\n  const { children, helpTopicId, id, sx, ...rest } = props;\n  const labelId = id || (rest.htmlFor ? `${rest.htmlFor}-label` : void 0);\n  return /* @__PURE__ */ jsxs3(Box2, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    sx,\n    children: [\n      /* @__PURE__ */ jsx4(MuiFormLabel, {\n        id: labelId,\n        sx: { ...StyleOverrides },\n        ...rest,\n        ref,\n        children: /* @__PURE__ */ jsx4(Children, {\n          className: \"MuiFormLabel-children\",\n          children\n        })\n      }),\n      helpTopicId ? /* @__PURE__ */ jsx4(FieldHelpIcon, {\n        helpTopicId,\n        labelId,\n        sx: { px: 0.5 }\n      }) : null\n    ]\n  });\n});\n\n// ../form-utils/src/lib/Input.tsx\nimport MuiInput from \"@mui/material/OutlinedInput\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nvar InputPropOverrides = {\n  notched: false\n};\n\n// ../form-utils/src/lib/Select.tsx\nimport MuiSelect from \"@mui/material/Select\";\nimport Divider from \"@mui/material/Divider\";\nimport Stack from \"@mui/material/Stack\";\nimport { ExpandIcon } from \"@availity/mui-icon\";\nimport { jsx as jsx6, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar InnerEndAdornment = (args) => /* @__PURE__ */ jsxs4(Stack, {\n  ...args,\n  direction: \"row\",\n  spacing: 1,\n  height: \"100%\",\n  paddingY: \".5rem\",\n  top: \"unset!important\",\n  children: [\n    /* @__PURE__ */ jsx6(Divider, {\n      orientation: \"vertical\"\n    }),\n    /* @__PURE__ */ jsx6(ExpandIcon, {\n      sx: { position: \"relative\", top: \"calc(50% - .5rem)\" }\n    })\n  ]\n});\nvar SelectPropOverrides = {\n  IconComponent: InnerEndAdornment,\n  ...InputPropOverrides\n};\n\n// src/lib/FeedbackForm.tsx\nimport { avRegionsApi } from \"@availity/api-axios\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { jsx as jsx7, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar SmileButtons = styled2(ToggleButtonGroup, { name: \"AvFeedbackContainer\", slot: \"SmileButtons\" })({});\nvar SmileButton = ({ disabled, Icon, label, value, ...props }) => /* @__PURE__ */ jsx7(\"div\", {\n  children: /* @__PURE__ */ jsx7(ToggleButton, {\n    \"aria-label\": value,\n    value,\n    ...props,\n    disabled,\n    children: /* @__PURE__ */ jsx7(Icon, {\n      fontSize: \"large\"\n    })\n  })\n});\nvar FeedbackForm = ({\n  analytics,\n  appName,\n  handleClose,\n  loading,\n  sent,\n  setLoading,\n  setSent\n}) => {\n  var _a;\n  const {\n    control,\n    formState: { errors },\n    handleSubmit,\n    register,\n    setValue,\n    watch\n  } = useForm();\n  const onSubmit = async ({ smileField, ...values }) => {\n    setLoading(true);\n    try {\n      const response = await avRegionsApi.getCurrentRegion();\n      await analytics.info({\n        surveyId: `${appName.replace(/\\s/g, \"_\")}_Smile_Survey`,\n        smileLocation: `${appName}`,\n        smile: `icon-${smileField}`,\n        url: window.location.href,\n        region: response.data.regions[0] && response.data.regions[0].id,\n        userAgent: window.navigator.userAgent,\n        submitTime: new Date(),\n        ...values\n      });\n      setSent(true);\n      setLoading(false);\n    } catch {\n      setSent(false);\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (sent) {\n      setTimeout(() => {\n        handleClose();\n      }, 2e3);\n    }\n  }, [sent]);\n  const options = [\n    {\n      Icon: FaceSmileIcon,\n      label: \"What do you like?\",\n      value: \"smile\"\n    },\n    {\n      Icon: FaceNeutralIcon,\n      label: \"What would you improve?\",\n      value: \"meh\"\n    },\n    { Icon: FaceFrownIcon, label: \"What don't you like?\", value: \"frown\" }\n  ];\n  const getFeedbackLabel = () => {\n    const smile = watch(\"smileField\");\n    const option = options.find((option2) => option2.value === smile);\n    return (option == null ? void 0 : option.label) || \"What would you improve?\";\n  };\n  if (!sent) {\n    return /* @__PURE__ */ jsxs5(Grid, {\n      component: \"form\",\n      container: true,\n      justifyContent: \"center\",\n      onSubmit: handleSubmit(onSubmit),\n      \"aria-label\": \"Feedback Form\",\n      \"aria-describedby\": \"feedback-form-header\",\n      children: [\n        /* @__PURE__ */ jsx7(Controller, {\n          control,\n          name: \"smileField\",\n          render: ({ field }) => {\n            return /* @__PURE__ */ jsx7(SmileButtons, {\n              children: options.map((props, index) => /* @__PURE__ */ jsx7(SmileButton, {\n                autoFocus: index === 0,\n                disabled: loading,\n                ...props\n              }, props.value)),\n              ...field,\n              \"aria-labelledby\": \"feedback-form-header\",\n              onChange: (event, value) => {\n                setValue(field.name, value);\n              },\n              size: \"medium\",\n              exclusive: true\n            });\n          }\n        }),\n        /* @__PURE__ */ jsx7(TextField, {\n          ...register(\"feedback\", {\n            required: \"This field is required\",\n            maxLength: { value: 200, message: \"This field must not exceed 200 characters\" }\n          }),\n          fullWidth: true,\n          multiline: true,\n          minRows: 3,\n          maxRows: 3,\n          label: getFeedbackLabel(),\n          inputProps: { \"aria-required\": \"true\" },\n          InputLabelProps: {\n            component: FormLabel,\n            required: true\n          },\n          helperText: ((_a = errors.feedback) == null ? void 0 : _a.message) || \"Max 200 characters\",\n          error: !!errors.feedback,\n          disabled: loading\n        }),\n        /* @__PURE__ */ jsxs5(Grid, {\n          container: true,\n          direction: \"row\",\n          marginTop: \"16px\",\n          spacing: 1,\n          children: [\n            /* @__PURE__ */ jsx7(Grid, {\n              item: true,\n              xs: 6,\n              children: /* @__PURE__ */ jsx7(Button, {\n                color: \"secondary\",\n                disabled: loading,\n                fullWidth: true,\n                onClick: handleClose,\n                children: \"Cancel\"\n              })\n            }),\n            /* @__PURE__ */ jsx7(Grid, {\n              item: true,\n              xs: 6,\n              children: /* @__PURE__ */ jsx7(LoadingButton, {\n                disabled: !watch(\"smileField\"),\n                fullWidth: true,\n                loading,\n                type: \"submit\",\n                variant: \"contained\",\n                children: \"Send Feedback\"\n              })\n            })\n          ]\n        })\n      ]\n    });\n  } else {\n    return null;\n  }\n};\n\n// src/lib/FeedbackHeader.tsx\nimport { IconButton as IconButton2 } from \"@availity/mui-button\";\nimport { CloseIcon } from \"@availity/mui-icon\";\n\n// ../typography/src/lib/Typography.tsx\nimport { forwardRef as forwardRef3 } from \"react\";\nimport { Typography as MuiTypography } from \"@mui/material\";\nimport { jsx as jsx8 } from \"react/jsx-runtime\";\nvar Typography = forwardRef3(\n  ({ children, ...rest }, ref) => {\n    return /* @__PURE__ */ jsx8(MuiTypography, {\n      ...rest,\n      ref,\n      children\n    });\n  }\n);\n\n// src/lib/FeedbackHeader.tsx\nimport { Grid as Grid2 } from \"@mui/material\";\nimport { jsx as jsx9, jsxs as jsxs6 } from \"react/jsx-runtime\";\nvar FeedbackHeader = ({ appName, handleClose, loading, sent }) => {\n  return /* @__PURE__ */ jsxs6(Grid2, {\n    alignItems: \"center\",\n    container: true,\n    direction: \"row\",\n    marginBottom: !sent ? \"8px\" : \"0px\",\n    justifyContent: \"space-between\",\n    flexWrap: \"nowrap\",\n    id: \"feedback-form-header\",\n    children: [\n      /* @__PURE__ */ jsx9(Grid2, {\n        item: true,\n        whiteSpace: \"normal\",\n        children: /* @__PURE__ */ jsx9(Typography, {\n          component: \"h2\",\n          variant: \"h5\",\n          children: sent ? \"Thank you for your feedback.\" : `Tell us what you think about ${appName}`\n        })\n      }),\n      /* @__PURE__ */ jsx9(Grid2, {\n        item: true,\n        marginRight: \"-8px\",\n        children: /* @__PURE__ */ jsx9(IconButton2, {\n          disabled: loading,\n          title: \"Close\",\n          onClick: handleClose,\n          children: /* @__PURE__ */ jsx9(CloseIcon, {})\n        })\n      })\n    ]\n  });\n};\n\n// src/lib/Feedback.tsx\nimport { Fragment, jsx as jsx10, jsxs as jsxs7 } from \"react/jsx-runtime\";\nvar FeedbackContainer = styled3(Container, { name: \"AvFeedbackContainer\", slot: \"root\" })({});\nvar Feedback = ({ analytics = avLogMessagesApi, appName }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [sent, setSent] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handlePopoverOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handlePopoverClose = () => {\n    setAnchorEl(null);\n  };\n  const open = Boolean(anchorEl);\n  return /* @__PURE__ */ jsxs7(Fragment, {\n    children: [\n      /* @__PURE__ */ jsx10(Button2, {\n        onClick: handlePopoverOpen,\n        color: \"secondary\",\n        size: \"large\",\n        children: \"Give Feedback\"\n      }),\n      /* @__PURE__ */ jsx10(Popover, {\n        anchorEl,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"right\"\n        },\n        sx: { marginTop: \"4px\" },\n        disableRestoreFocus: true,\n        onClose: handlePopoverClose,\n        open,\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"right\"\n        },\n        children: /* @__PURE__ */ jsxs7(FeedbackContainer, {\n          children: [\n            /* @__PURE__ */ jsx10(FeedbackHeader, {\n              appName,\n              handleClose: handlePopoverClose,\n              loading,\n              sent\n            }),\n            /* @__PURE__ */ jsx10(FeedbackForm, {\n              analytics,\n              appName,\n              handleClose: handlePopoverClose,\n              loading,\n              sent,\n              setLoading,\n              setSent\n            })\n          ]\n        })\n      })\n    ]\n  });\n};\nexport {\n  Feedback\n};\n"],"names":["__defProp","__defNormalProp","obj","key","value","__publicField","__accessCheck","member","msg","__privateGet","getter","__privateAdd","__privateSet","setter","_lastId","AvMessage","event","isSameWindow","data","metadata","callback","options","_a","id","ignoreSameWindow","subscriber","subscriber2","url","payload","target","message","error","AvMessage_default","src_default","triggerFieldHelp","FieldHelpIcon","helpTopicId","labelId","sx","rest","jsx","IconButton","HelpCircleIcon","forwardRef","ref","jsxs","Box","jsx2","MuiFormControlLabel","Children","styled","props","styles","StyleOverrides","FormLabel","forwardRef2","children","jsxs3","Box2","jsx4","MuiFormLabel","SmileButtons","styled2","ToggleButtonGroup","SmileButton","disabled","Icon","label","jsx7","ToggleButton","FeedbackForm","analytics","appName","handleClose","loading","sent","setLoading","setSent","control","errors","handleSubmit","register","setValue","watch","useForm","onSubmit","smileField","values","response","avRegionsApi","useEffect","FaceSmileIcon","FaceNeutralIcon","FaceFrownIcon","getFeedbackLabel","smile","option","option2","jsxs5","Grid","Controller","field","index","TextField","Button","LoadingButton","Typography","forwardRef3","jsx8","MuiTypography","FeedbackHeader","jsxs6","Grid2","jsx9","IconButton2","CloseIcon","FeedbackContainer","styled3","Container","Feedback","avLogMessagesApi","anchorEl","setAnchorEl","useState","handlePopoverOpen","handlePopoverClose","jsxs7","Fragment","jsx10","Button2","Popover"],"mappings":"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"}