import{r as a}from"./index-BSuoOqEd.js";import{u as J}from"./useTheme-DG5qVMsu.js";import{j as O}from"./jsx-runtime-D_zvdyIk.js";import{T as Q,g as D,r as U}from"./utils-DuVTnmV7.js";import{u as X}from"./useTimeout-B9dULhq6.js";import{u as b}from"./useForkRef-BIkqQIqh.js";import{g as C}from"./getReactElementRef-B8liFQVS.js";import{r as Y}from"./index-CRBziY_1.js";import{u as w}from"./useEnhancedEffect-CIAiDanS.js";function H(n,l){typeof n=="function"?n(l):n&&(n.current=l)}function j(n){return`scale(${n}, ${n**2})`}const Z={entering:{opacity:1,transform:j(1)},entered:{opacity:1,transform:"none"}},v=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),S=a.forwardRef(function(l,f){const{addEndListener:o,appear:g=!0,children:i,easing:r,in:p,onEnter:h,onEntered:T,onEntering:F,onExit:A,onExited:G,onExiting:L,style:R,timeout:u="auto",TransitionComponent:N=Q,...V}=l,$=X(),P=a.useRef(),d=J(),y=a.useRef(null),z=b(y,C(i),f),m=t=>c=>{if(t){const e=y.current;c===void 0?t(e):t(e,c)}},K=m(F),M=m((t,c)=>{U(t);const{duration:e,delay:x,easing:s}=D({style:R,timeout:u,easing:r},{mode:"enter"});let E;u==="auto"?(E=d.transitions.getAutoHeightDuration(t.clientHeight),P.current=E):E=e,t.style.transition=[d.transitions.create("opacity",{duration:E,delay:x}),d.transitions.create("transform",{duration:v?E:E*.666,delay:x,easing:s})].join(","),h&&h(t,c)}),W=m(T),_=m(L),k=m(t=>{const{duration:c,delay:e,easing:x}=D({style:R,timeout:u,easing:r},{mode:"exit"});let s;u==="auto"?(s=d.transitions.getAutoHeightDuration(t.clientHeight),P.current=s):s=c,t.style.transition=[d.transitions.create("opacity",{duration:s,delay:e}),d.transitions.create("transform",{duration:v?s:s*.666,delay:v?e:e||s*.333,easing:x})].join(","),t.style.opacity=0,t.style.transform=j(.75),A&&A(t)}),q=m(G),B=t=>{u==="auto"&&$.start(P.current||0,t),o&&o(y.current,t)};return O.jsx(N,{appear:g,in:p,nodeRef:y,onEnter:M,onEntered:W,onEntering:K,onExit:k,onExited:q,onExiting:_,addEndListener:B,timeout:u==="auto"?null:u,...V,children:(t,{ownerState:c,...e})=>a.cloneElement(i,{style:{opacity:0,transform:j(.75),visibility:t==="exited"&&!p?"hidden":void 0,...Z[t],...R,...i.props.style},ref:z,...e})})});S&&(S.muiSupportAuto=!0);function I(n){return typeof n=="function"?n():n}const ct=a.forwardRef(function(l,f){const{children:o,container:g,disablePortal:i=!1}=l,[r,p]=a.useState(null),h=b(a.isValidElement(o)?C(o):null,f);if(w(()=>{i||p(I(g)||document.body)},[g,i]),w(()=>{if(r&&!i)return H(f,r),()=>{H(f,null)}},[f,r,i]),i){if(a.isValidElement(o)){const T={ref:h};return a.cloneElement(o,T)}return o}return r&&Y.createPortal(o,r)});export{S as G,ct as P,H as s};
