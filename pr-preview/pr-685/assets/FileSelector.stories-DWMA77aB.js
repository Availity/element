import{j as c}from"./jsx-runtime-CcL-W3nW.js";import{P as Mt}from"./index-BrWjJmRs.js";import{r as m,e as Nt}from"./index-DcWiA9TO.js";import{b as wt,u as Lt,F as Bt}from"./index.esm-D1k4U55D.js";import{B as xt,I as Ut}from"./index-DLsH_p52.js";import{B as Qe,S as Ht,G}from"./index-Cyp_3NIz.js";import{T as Ne}from"./index-BtPDELIe.js";import{P as g}from"./index-Dk74W0Oi.js";import{D as Ft}from"./index-AUbJaabt.js";import{w as $t,b as Kt,x as Wt,y as Ge,z as Xe,G as Je,J as Ye,K as Ze,L as et,P as Qt,Q as pe,R as Gt,D as Xt}from"./index-0eQTE8wr.js";import{i as Jt}from"./index-quQK2gLi.js";import{a as Yt,b as Zt}from"./index-BgW6UHtS.js";import{b as Ie,L as er,a as tr,d as rr}from"./index-D1-E5OQ4.js";import{L as nr}from"./index-C95T7xKh.js";import{U as ir}from"./index-CZ4ILn_U.js";import{s as or}from"./index-BXb5JWGK.js";import{u as ar}from"./useQuery-D4UpBS0N.js";import{u as sr,i as lr}from"./suspense-BqeUBMhm.js";import{Q as ur}from"./queryClient-CjDmLjqo.js";import"./Paper-DXcIEVia.js";import"./generateUtilityClass-CVWqFxsA.js";import"./identifier-Dtqimryx.js";import"./useTheme-DUkCvbx_.js";import"./DefaultPropsProvider-_cNB_dWy.js";import"./useTheme-C2CrmYKc.js";import"./styled-CF1hcdwO.js";import"./memoTheme-D-rVhYRp.js";import"./generateUtilityClasses-BGOCnVj7.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Tooltip-CiiaKkqp.js";import"./index-nos-0K8U.js";import"./useSlot-DnkSxE3X.js";import"./resolveComponentProps-Dg20wxiM.js";import"./useForkRef-BVrIj09m.js";import"./useTimeout-B8wmcRZV.js";import"./useEnhancedEffect-D2f2tbda.js";import"./useControlled-WdbyInBW.js";import"./useId-DszduLV4.js";import"./getReactElementRef-AnOffBoZ.js";import"./Portal-CBAx_nZm.js";import"./utils-D5ZkK9XY.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./TransitionGroupContext-D-IBNIfW.js";import"./index-BEx9gAkE.js";import"./ownerDocument-DW-IO8s5.js";import"./useSlotProps-BAIpVL6Y.js";import"./isFocusVisible-B8k4qzLc.js";import"./IconButton-Caxu-qgA.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-DbVRbsLs.js";import"./emotion-react.browser.esm-CU7ej9d2.js";import"./CircularProgress-D8w9ZPs6.js";import"./Button-BAEbeAyH.js";import"./LoadingButton-9DxABi24.js";import"./Box-DWnb8VZB.js";import"./extendSxProp-B5AgUjQT.js";import"./Grid2-y9MPRr2u.js";import"./styled-vBjI3IQc.js";import"./isMuiElement-DAzOCCHH.js";import"./useThemeProps-BIK-1DKm.js";import"./Stack-BcsM4Vc0.js";import"./Container-Cqq8qXXg.js";import"./Typography-CvSvtD2a.js";import"./index-f0Aa_BgU.js";import"./Divider-jUONNV4j.js";import"./dividerClasses-BmOcEkDu.js";import"./faCircleArrowRight-fEvkKBkH.js";import"./faUser-DXPB7Q64.js";import"./faSortDown-nq-jkck6.js";import"./SvgIcon-DSdWmKAH.js";import"./index-DMWJB0MK.js";import"./faCheck-B05F4ORy.js";import"./Select-hLZ2S4VH.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-68oiojFJ.js";import"./Menu-Byu17A6t.js";import"./Popover-ChEuM7rO.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Modal-B5s0Thvt.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-B4gbyDGC.js";import"./Fade-Dl4gmST4.js";import"./List-ChBzRQcW.js";import"./utils-DoM3o7-Q.js";import"./createSvgIcon-TketyoFF.js";import"./OutlinedInput-CQlxW3ax.js";import"./FormLabel-98YPf6ct.js";import"./FormControlLabel-GqYWwHWT.js";import"./Switch-BqVUWLaW.js";import"./SwitchBase-Z9YgLJlx.js";import"./RadioGroup-BogPRRDq.js";import"./Alert-ui2dSBj_.js";import"./Close-CpXO-CFZ.js";import"./AlertTitle-PObx1HD8.js";import"./ListItem-BaRQg_q0.js";import"./ListItemText-BAfvFchG.js";import"./listItemTextClasses-QA0fdXLT.js";import"./useThemeProps-NV-uCBd-.js";import"./LinearProgress-aFncvf6g.js";import"./useBaseQuery-CJ5trF24.js";function X(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(f){try{u(n.next(f))}catch(h){a(h)}}function d(f){try{u(n.throw(f))}catch(h){a(h)}}function u(f){f.done?i(f.value):o(f.value).then(s,d)}u((n=n.apply(e,t||[])).next())})}function J(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return d([u,f])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function cr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function dr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cr(arguments[t]));return e}var pr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function re(e,t){var r=fr(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function fr(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),o=pr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var mr=[".DS_Store","Thumbs.db"];function hr(e){return X(this,void 0,void 0,function(){return J(this,function(t){return he(e)&&gr(e)?[2,wr(e.dataTransfer,e.type)]:yr(e)?[2,vr(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,br(e)]:[2,[]]})})}function gr(e){return he(e.dataTransfer)}function yr(e){return he(e)&&he(e.target)}function he(e){return typeof e=="object"&&e!==null}function vr(e){return Oe(e.target.files).map(function(t){return re(t)})}function br(e){return X(this,void 0,void 0,function(){var t;return J(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return re(n)})]}})})}function wr(e,t){return X(this,void 0,void 0,function(){var r,n;return J(this,function(o){switch(o.label){case 0:return e===null?[2,[]]:e.items?(r=Oe(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(xr))]):[3,2];case 1:return n=o.sent(),[2,tt(_t(n))];case 2:return[2,tt(Oe(e.files).map(function(i){return re(i)}))]}})})}function tt(e){return e.filter(function(t){return mr.indexOf(t.name)===-1})}function Oe(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function xr(e){if(typeof e.webkitGetAsEntry!="function")return rt(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Dt(t):rt(e)}function _t(e){return e.reduce(function(t,r){return dr(t,Array.isArray(r)?_t(r):[r])},[])}function rt(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var r=re(t);return Promise.resolve(r)}function Fr(e){return X(this,void 0,void 0,function(){return J(this,function(t){return[2,e.isDirectory?Dt(e):_r(e)]})})}function Dt(e){var t=e.createReader();return new Promise(function(r,n){var o=[];function i(){var a=this;t.readEntries(function(s){return X(a,void 0,void 0,function(){var d,u,f;return J(this,function(h){switch(h.label){case 0:if(s.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return d=h.sent(),r(d),[3,4];case 3:return u=h.sent(),n(u),[3,4];case 4:return[3,6];case 5:f=Promise.all(s.map(Fr)),o.push(f),i(),h.label=6;case 6:return[2]}})})},function(s){n(s)})}i()})}function _r(e){return X(this,void 0,void 0,function(){return J(this,function(t){return[2,new Promise(function(r,n){e.file(function(o){var i=re(o,e.fullPath);r(i)},function(o){n(o)})})]})})}var Dr=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):o===s})}return!0};function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(r),!0).forEach(function(n){Et(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e,t){return Ir(e)||jr(e,t)||Sr(e,t)||Er()}function Er(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(e,t){if(e){if(typeof e=="string")return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(e,t)}}function at(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(d){i=!0,s=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Ir(e){if(Array.isArray(e))return e}var Or="file-invalid-type",Cr="file-too-large",Pr="file-too-small",Ar="too-many-files",Tr=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Or,message:"File type must be ".concat(r)}},st=function(t){return{code:Cr,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},lt=function(t){return{code:Pr,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Rr={code:Ar,message:"Too many files"};function St(e,t){var r=e.type==="application/x-moz-file"||Dr(e,t);return[r,r?null:Tr(t)]}function jt(e,t,r){if(ee(e.size))if(ee(t)&&ee(r)){if(e.size>r)return[!1,st(r)];if(e.size<t)return[!1,lt(t)]}else{if(ee(t)&&e.size<t)return[!1,lt(t)];if(ee(r)&&e.size>r)return[!1,st(r)]}return[!0,null]}function ee(e){return e!=null}function kr(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,a=e.maxFiles;return!i&&t.length>1||i&&a>=1&&t.length>a?!1:t.every(function(s){var d=St(s,r),u=ot(d,1),f=u[0],h=jt(s,n,o),I=ot(h,1),O=I[0];return f&&O})}function ge(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function fe(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ut(e){e.preventDefault()}function Vr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function qr(e){return e.indexOf("Edge/")!==-1}function zr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Vr(e)||qr(e)}function T(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.some(function(s){return!ge(n)&&s&&s.apply(void 0,[n].concat(i)),ge(n)})}}function ct(){return"showOpenFilePicker"in window}function Mr(e){return e=typeof e=="string"?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter(function(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}).reduce(function(t,r){return it(it({},t),{},Et({},r,[]))},{}):{}}]}var Nr=["children"],Lr=["open"],Br=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ur=["refKey","onChange","onClick"];function Hr(e){return Wr(e)||Kr(e)||It(e)||$r()}function $r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wr(e){if(Array.isArray(e))return Ce(e)}function je(e,t){return Xr(e)||Gr(e,t)||It(e,t)||Qr()}function Qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function It(e,t){if(e){if(typeof e=="string")return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(e,t)}}function Ce(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,a,s;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(d){i=!0,s=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Xr(e){if(Array.isArray(e))return e}function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dt(Object(r),!0).forEach(function(n){Pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e,t){if(e==null)return{};var r=Jr(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jr(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var Le=m.forwardRef(function(e,t){var r=e.children,n=ye(e,Nr),o=Ct(n),i=o.open,a=ye(o,Lr);return m.useImperativeHandle(t,function(){return{open:i}},[i]),Nt.createElement(m.Fragment,null,r(v(v({},a),{},{open:i})))});Le.displayName="Dropzone";var Ot={disabled:!1,getFilesFromEvent:hr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1};Le.defaultProps=Ot;Le.propTypes={children:g.func,accept:g.oneOfType([g.string,g.arrayOf(g.string)]),multiple:g.bool,preventDropOnDocument:g.bool,noClick:g.bool,noKeyboard:g.bool,noDrag:g.bool,noDragEventsBubbling:g.bool,minSize:g.number,maxSize:g.number,maxFiles:g.number,disabled:g.bool,getFilesFromEvent:g.func,onFileDialogCancel:g.func,onFileDialogOpen:g.func,useFsAccessApi:g.bool,onDragEnter:g.func,onDragLeave:g.func,onDragOver:g.func,onDrop:g.func,onDropAccepted:g.func,onDropRejected:g.func,validator:g.func};var Ae={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Ct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=v(v({},Ot),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,i=t.maxSize,a=t.minSize,s=t.multiple,d=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,h=t.onDragOver,I=t.onDrop,O=t.onDropAccepted,R=t.onDropRejected,k=t.onFileDialogCancel,V=t.onFileDialogOpen,L=t.useFsAccessApi,U=t.preventDropOnDocument,q=t.noClick,B=t.noKeyboard,Y=t.noDrag,A=t.noDragEventsBubbling,H=t.validator,E=m.useMemo(function(){return typeof V=="function"?V:pt},[V]),F=m.useMemo(function(){return typeof k=="function"?k:pt},[k]),y=m.useRef(null),w=m.useRef(null),$=m.useReducer(Yr,Ae),b=je($,2),z=b[0],S=b[1],ne=z.isFocused,ie=z.isFileDialogActive,oe=z.draggedFiles,_=function(){ie&&setTimeout(function(){if(w.current){var p=w.current.files;p.length||(S({type:"closeDialog"}),F())}},300)};m.useEffect(function(){return L&&ct()?function(){}:(window.addEventListener("focus",_,!1),function(){window.removeEventListener("focus",_,!1)})},[w,ie,F,L]);var D=m.useRef([]),C=function(p){y.current&&y.current.contains(p.target)||(p.preventDefault(),D.current=[])};m.useEffect(function(){return U&&(document.addEventListener("dragover",ut,!1),document.addEventListener("drop",C,!1)),function(){U&&(document.removeEventListener("dragover",ut),document.removeEventListener("drop",C))}},[y,U]);var M=m.useCallback(function(l){l.preventDefault(),l.persist(),ce(l),D.current=[].concat(Hr(D.current),[l.target]),fe(l)&&Promise.resolve(o(l)).then(function(p){ge(l)&&!A||(S({draggedFiles:p,isDragActive:!0,type:"setDraggedFiles"}),u&&u(l))})},[o,u,A]),N=m.useCallback(function(l){l.preventDefault(),l.persist(),ce(l);var p=fe(l);if(p&&l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return p&&h&&h(l),!1},[h,A]),ae=m.useCallback(function(l){l.preventDefault(),l.persist(),ce(l);var p=D.current.filter(function(j){return y.current&&y.current.contains(j)}),x=p.indexOf(l.target);x!==-1&&p.splice(x,1),D.current=p,!(p.length>0)&&(S({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),fe(l)&&f&&f(l))},[y,f,A]),se=m.useCallback(function(l,p){var x=[],j=[];l.forEach(function(P){var Z=St(P,r),Q=je(Z,2),we=Q[0],xe=Q[1],Fe=jt(P,a,i),de=je(Fe,2),_e=de[0],De=de[1],Ee=H?H(P):null;if(we&&_e&&!Ee)x.push(P);else{var Se=[xe,De];Ee&&(Se=Se.concat(Ee)),j.push({file:P,errors:Se.filter(function(zt){return zt})})}}),(!s&&x.length>1||s&&d>=1&&x.length>d)&&(x.forEach(function(P){j.push({file:P,errors:[Rr]})}),x.splice(0)),S({acceptedFiles:x,fileRejections:j,type:"setFiles"}),I&&I(x,j,p),j.length>0&&R&&R(j,p),x.length>0&&O&&O(x,p)},[S,s,r,a,i,d,I,O,R,H]),le=m.useCallback(function(l){l.preventDefault(),l.persist(),ce(l),D.current=[],fe(l)&&Promise.resolve(o(l)).then(function(p){ge(l)&&!A||se(p,l)}),S({type:"reset"})},[o,se,A]),K=m.useCallback(function(){if(L&&ct()){S({type:"openDialog"}),E();var l={multiple:s,types:Mr(r)};window.showOpenFilePicker(l).then(function(p){return o(p)}).then(function(p){return se(p,null)}).catch(function(p){return F(p)}).finally(function(){return S({type:"closeDialog"})});return}w.current&&(S({type:"openDialog"}),E(),w.current.value=null,w.current.click())},[S,E,F,L,se,r,s]),Be=m.useCallback(function(l){!y.current||!y.current.isEqualNode(l.target)||(l.keyCode===32||l.keyCode===13)&&(l.preventDefault(),K())},[y,w,K]),Ue=m.useCallback(function(){S({type:"focus"})},[]),He=m.useCallback(function(){S({type:"blur"})},[]),$e=m.useCallback(function(){q||(zr()?setTimeout(K,0):K())},[w,q,K]),W=function(p){return n?null:p},be=function(p){return B?null:W(p)},ue=function(p){return Y?null:W(p)},ce=function(p){A&&p.stopPropagation()},Rt=m.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=l.refKey,x=p===void 0?"ref":p,j=l.role,P=l.onKeyDown,Z=l.onFocus,Q=l.onBlur,we=l.onClick,xe=l.onDragEnter,Fe=l.onDragOver,de=l.onDragLeave,_e=l.onDrop,De=ye(l,Br);return v(v(Pe({onKeyDown:be(T(P,Be)),onFocus:be(T(Z,Ue)),onBlur:be(T(Q,He)),onClick:W(T(we,$e)),onDragEnter:ue(T(xe,M)),onDragOver:ue(T(Fe,N)),onDragLeave:ue(T(de,ae)),onDrop:ue(T(_e,le)),role:typeof j=="string"&&j!==""?j:"button"},x,y),!n&&!B?{tabIndex:0}:{}),De)}},[y,Be,Ue,He,$e,M,N,ae,le,B,Y,n]),kt=m.useCallback(function(l){l.stopPropagation()},[]),Vt=m.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=l.refKey,x=p===void 0?"ref":p,j=l.onChange,P=l.onClick,Z=ye(l,Ur),Q=Pe({accept:r,multiple:s,type:"file",style:{display:"none"},onChange:W(T(j,le)),onClick:W(T(P,kt)),autoComplete:"off",tabIndex:-1},x,w);return v(v({},Q),Z)}},[w,r,s,le,n]),Ke=oe.length,We=Ke>0&&kr({files:oe,accept:r,minSize:a,maxSize:i,multiple:s,maxFiles:d}),qt=Ke>0&&!We;return v(v({},z),{},{isDragAccept:We,isDragReject:qt,isFocused:ne&&!n,getRootProps:Rt,getInputProps:Vt,rootRef:y,inputRef:w,open:W(K)})}function Yr(e,t){switch(t.type){case"focus":return v(v({},e),{},{isFocused:!0});case"blur":return v(v({},e),{},{isFocused:!1});case"openDialog":return v(v({},Ae),{},{isFileDialogActive:!0});case"closeDialog":return v(v({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var r=t.isDragActive,n=t.draggedFiles;return v(v({},e),{},{draggedFiles:n,isDragActive:r});case"setFiles":return v(v({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return v({},Ae);default:return e}}function pt(){}var Zr=Object.defineProperty,ft=Object.getOwnPropertySymbols,en=Object.prototype.hasOwnProperty,tn=Object.prototype.propertyIsEnumerable,mt=(e,t,r)=>t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t)=>{for(var r in t||(t={}))en.call(t,r)&&mt(e,r,t[r]);if(ft)for(var r of ft(t))tn.call(t,r)&&mt(e,r,t[r]);return e},te=(e,t,r)=>new Promise((n,o)=>{var i=d=>{try{s(r.next(d))}catch(u){o(u)}},a=d=>{try{s(r.throw(d))}catch(u){o(u)}},s=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,a);s((r=r.apply(e,t)).next())}),rn=class{constructor(e){this._body="",this._response=e}getStatus(){return this._response.status}getHeader(e){return this._response.headers.get(e)||void 0}getBody(){return this._body}parseBody(){return te(this,null,function*(){this._body=yield this._response.text()})}getUnderlyingObject(){return this._response}},nn=class{constructor(e,t){this._method=e,this._url=t,this._headers={},this._abortController=new AbortController}getMethod(){return this._method}getURL(){return this._url}setHeader(e,t){this._headers[e]=t}getHeader(e){return this._headers[e]}setProgressHandler(e){this._progressHandler=e}send(e=null){return te(this,null,function*(){var t;try{const r=yield fetch(this._url,{method:this._method,headers:this._headers,body:e,signal:this._abortController.signal,credentials:"include"});if(this._progressHandler){const o=(t=r.clone().body)==null?void 0:t.getReader();if(o){let i=0,a,s;for(;!a&&({value:s,done:a}=yield o.read(),!a);)i+=(s==null?void 0:s.length)||0,this._progressHandler(i)}}const n=new rn(r.clone());return n.parseBody(),n}catch(r){throw r.name==="AbortError"?new Error("Request aborted"):r}})}abort(){return this._abortController.abort(),Promise.resolve()}getUnderlyingObject(){return this._abortController}},gt=class{createRequest(e,t){return new nn(e,t)}getName(){return"FetchHttpStack"}},on=e=>{let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},an=e=>e.originalResponse!==void 0,Pt=(e,t,r)=>new Promise(n=>{const{metadata:o={},endpoint:i}=t,a=Object.values(o),s=[e.name,e.type,e.size,e.lastModified],d=[s.toString().replaceAll(",",""),i,a].join(""),u=Math.abs(on(d)),f=["tus",...s,u].filter(h=>h??!1).join("-");n(r?r(null,f):f)}),sn={endpoint:"/ms/api/availity/internal/core/vault/upload/v1/resumable",chunkSize:6e6,removeFingerprintOnSuccess:!0,pollingTime:5e3,retryDelays:[0,1e3,3e3,5e3],stripFileNamePathSegments:!0,onPreStart:[],maxAvScanRetries:10,fingerprint:Pt},ln=class{constructor(e,t){if(!e)throw new Error("[file] must be defined and of type File");if(!t||!t.bucketId)throw new Error("[options.bucketId] must be defined");if(!t.customerId)throw new Error("[options.customerId] must be defined");if(!t.clientId)throw new Error("[options.clientId] must be defined");this.file=e,this.options=ht(ht({},sn),t),this.options.endpoint=or({relative:this.options.endpoint}),this.avScanRetries=0,this.bytesScanned=0,this.bytesSent=0,this.bytesTotal=0,this.error=null,this.errorMessage="",this.id="",this.onError=[],this.onPreStart=this.options.onPreStart||[],this.onProgress=[],this.onSuccess=[],this.percentage=0,this.preStartValidationResults=[],this.references=[],this.s3References=[],this.status="pending",this.timeoutId=void 0,this.waitForPassword=!0;const n={"availity-filename":this.trimFileName(e.name),"availity-content-type":e.type,"availity-attachment-name":"N/A"};Object.assign(n,this.options.metadata);const o=new ir(this.file,{endpoint:`${this.options.endpoint}/${this.options.bucketId}/`,chunkSize:this.options.chunkSize,retryDelays:this.options.retryDelays,removeFingerprintOnSuccess:this.options.removeFingerprintOnSuccess,fingerprint:this.options.fingerprint,metadata:n,headers:{"X-XSRF-TOKEN":this.getToken(),"X-Availity-Customer-ID":this.options.customerId,"X-Client-ID":this.options.clientId},httpStack:new gt,onError:i=>{this.setError("rejected","Network Error",i),this.error=i},onProgress:(i,a)=>{this.bytesSent=i,this.bytesTotal=a,this.percentage=this.getPercentage();for(const s of this.onProgress)s()},onSuccess:i=>{this.bytesScanned=Number.parseInt(i.lastResponse.getHeader("AV-Scan-Bytes")||"0",10),this.percentage=this.getPercentage();const a=this.getResult(i.lastResponse);if(a.status==="accepted"){this.percentage=100,this.status=a.status,this.errorMessage="",this.error=null;const s=i.lastResponse.getHeader("references"),d=i.lastResponse.getHeader("s3-references");s&&(this.references=JSON.parse(s)),d&&(this.s3References=JSON.parse(d));for(const u of this.onSuccess)u(i);return}if(a.status==="rejected"){this.setError(a.status,a.message);return}this.scan()}});this.upload=o}inStatusCategory(e,t){return e>=t&&e<t+100}scan(e){return te(this,null,function*(){clearTimeout(this.timeoutId);try{const r=new gt().createRequest("HEAD",this.upload.url||this.options.endpoint),n={"Tus-Resumable":"1.0.0","X-Client-ID":this.options.clientId,"X-Availity-Customer-ID":this.options.customerId,"X-XSRF-TOKEN":this.getToken()};e&&(n[e.header]=e.value);for(const[a,s]of Object.entries(n))r.setHeader(a,s);const o=yield r.send();if(!this.inStatusCategory(o.getStatus(),200)){this.setError("rejected",`Invalid status returned: ${o.getStatus()}`);return}this.bytesScanned=Number.parseInt(o.getHeader("AV-Scan-Bytes")||"0",10),this.percentage=this.getPercentage();const i=this.getResult(o);if(i.status==="rejected"){this.setError(i.status,i.message);return}if(i.status==="encrypted"&&this.waitForPassword){this.setError(i.status,i.message),clearTimeout(this.timeoutId);return}if(i.status==="accepted"){this.percentage=100,this.status=i.status,this.errorMessage="",this.error=null;const a=o.getHeader("references"),s=o.getHeader("s3-references");a&&(this.references=JSON.parse(a)),s&&(this.s3References=JSON.parse(s));for(const d of this.onSuccess)d({lastResponse:o});return}i.status==="decrypting"&&this.setError(i.status,i.message);for(const a of this.onProgress)a()}catch(t){this.setError("rejected","Network Error",t),this.error=t}if(this.avScanRetries>this.options.maxAvScanRetries){this.setError("rejected","AV scan timed out, max retries exceeded");return}this.timeoutId=setTimeout(()=>{this.avScanRetries+=1,this.scan()},this.options.pollingTime)})}getPercentage(){if(!this.bytesTotal)return 0;const e=this.bytesSent+this.bytesScanned,t=this.bytesTotal*2;return e/t*100}getToken(){return document.cookie.replace(/(?:(?:^|.*;\s*)XSRF-TOKEN\s*=\s*([^;]*).*$)|^.*$/,"$1")}start(){if(this.isValidFile()){if(!this.id){this.setError("rejected","No id set. Call `generateId` or set one manually with `setId` before calling `start`.");return}for(const e of this.onPreStart)this.preStartValidationResults.push(e(this));if(this.preStartValidationResults.some(e=>!e)){this.status==="pending"&&this.setError("rejected","preStart validation failed");return}this.upload.start()}}setId(e){this.id=e}generateId(){return te(this,null,function*(){const{fingerprint:e}=this.options,t=yield e(this.file,this.options);return this.setId(t.replaceAll(/[^\dA-Za-z-]/g,"")),this.id})}fingerprint(e,t,r){return te(this,null,function*(){return Pt(e,t,r)})}sendPassword(e){this.waitForPassword=!1,this.scan({header:"Encryption-Password",value:e})}isValidSize(){return this.options.maxSize&&this.file.size>this.options.maxSize?(this.setError("rejected","Document is too large"),!1):!0}isAllowedFileTypes(){if(!this.options.fileTypes||this.options.fileTypes.length===0)return!0;if(!this.file.name)return!1;const e=this.file.name,t=e.substring(e.lastIndexOf(".")).toLowerCase();return this.options.fileTypes=this.options.fileTypes.map(r=>r.toLowerCase()),this.options.fileTypes.includes(t)?!0:(this.setError("rejected",`Document type ${t} is not allowed`),!1)}isAllowedFileNameCharacters(){if(!this.options.allowedFileNameCharacters)return!0;const e=this.file.name.substring(0,this.file.name.lastIndexOf(".")),t=new RegExp(`([^${this.options.allowedFileNameCharacters}])`,"g");return e.match(t)!==null?(this.setError("rejected","File name contains characters not allowed"),!1):!0}isValidFile(){return this.isAllowedFileNameCharacters()&&this.isAllowedFileTypes()&&this.isValidSize()}trimFileName(e){return this.options.stripFileNamePathSegments&&(e=e.substring(e.lastIndexOf("\\")+1),e=e.substring(e.lastIndexOf("/")+1)),e}getResult(e){const t=e.getHeader("av-scan-result"),r=e.getHeader("upload-result"),n=e.getHeader("decryption-result"),o=e.getHeader("upload-message");return t==="rejected"?{status:t,message:o||"Failed AV scan"}:r==="rejected"?(this.waitForPassword=!0,n==="rejected"?{status:r,message:o||"Maximum password attempts reached"}:{status:r,message:o||"File upload rejected"}):r==="encrypted"?!this.waitForPassword&&(n===null||n==="pending")?{status:"decrypting",message:o||"Decrypting file"}:n==="rejected"?(this.waitForPassword=!0,{status:r,message:o||"Incorrect password"}):{status:r,message:o||"Encrypted files require a password"}:t==="accepted"&&r==="accepted"?{status:"accepted",message:o||""}:{status:"pending",message:o||""}}setError(e,t,r){this.status=e;try{this.parseErrorMessage(t,r)}catch{}for(const n of this.onError)n(r||new Error(this.errorMessage))}parseErrorMessage(e,t){if(t){let r="";if(an(t)&&(r=t.originalRequest.getHeader("Upload-Message")||""),r||(r=t.message),r){this.errorMessage=r;return}}this.errorMessage=e}abort(){this.upload&&this.upload.abort()}},un=ln;const Te=({name:e,children:t="Browse Files",color:r,inputId:n,inputProps:o={},maxSize:i,onChange:a,onClick:s,...d})=>{const{register:u}=wt(),{accept:f,multiple:h,ref:I,style:O,type:R}=o,k=u(e);return c.jsxs(c.Fragment,{children:[c.jsx(Jt,{...k,onChange:a,value:"",inputRef:I,type:R,sx:O,inputProps:{accept:f,size:i??void 0,multiple:h},id:n}),c.jsx(xt,{color:r,...d,onClick:s,fullWidth:!1,children:t})]})};try{Te.displayName="FilePickerBtn",Te.__docgenInfo={description:"",displayName:"FilePickerBtn",props:{name:{defaultValue:null,description:"Name attribute for the input field, used by react-hook-form for form state management.",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback function triggered when files are selected through the input.",name:"onChange",required:!0,type:{name:"(event: ChangeEvent<HTMLInputElement>) => void"}},inputId:{defaultValue:null,description:"Optional ID attribute for the file input element.",name:"inputId",required:!1,type:{name:"string"}},inputProps:{defaultValue:{value:"{}"},description:"Additional props to customize the underlying input element.",name:"inputProps",required:!1,type:{name:"DropzoneInputProps & { ref?: RefObject<HTMLInputElement>; }"}},maxSize:{defaultValue:null,description:"Maximum allowed size per file in bytes. Files exceeding this size will be rejected.",name:"maxSize",required:!1,type:{name:"number"}},color:{defaultValue:{value:"secondary"},description:"The color of the component.",name:"color",required:!1,type:{name:'"primary" | "secondary" | "tertiary"'}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<ButtonClasses> & Partial<ClassNameMap<never>>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},children:{defaultValue:{value:"Browse Files"},description:"The content of the component.",name:"children",required:!1,type:{name:"ReactNode"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLButtonElement>"}},tabIndex:{defaultValue:{value:"0"},description:"",name:"tabIndex",required:!1,type:{name:"number"}},action:{defaultValue:null,description:"A ref for imperative actions.\nIt currently only supports `focusVisible()` action.",name:"action",required:!1,type:{name:"Ref<ButtonBaseActions>"}},disabled:{defaultValue:{value:`false
false`},description:"If `true`, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},focusVisibleClassName:{defaultValue:null,description:`This prop can help identify which element has keyboard focus.
The class name will be applied when the element gains the focus through keyboard interaction.
It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).
The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/HEAD/explainer.md).
A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a \`focus-visible\` class to other components
if needed.`,name:"focusVisibleClassName",required:!1,type:{name:"string"}},LinkComponent:{defaultValue:{value:"'a'"},description:"The component used to render a link when the `href` prop is provided.",name:"LinkComponent",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},onFocusVisible:{defaultValue:null,description:"Callback fired when the component is focused with a keyboard.\nWe trigger a `onFocus` callback too.",name:"onFocusVisible",required:!1,type:{name:"FocusEventHandler<any>"}},loading:{defaultValue:{value:"null"},description:"If `true`, the loading indicator is visible and the button is disabled.\nIf `true | false`, the loading wrapper is always rendered before the children to prevent [Google Translation Crash](https://github.com/mui/material-ui/issues/27853).",name:"loading",required:!1,type:{name:"boolean"}},loadingIndicator:{defaultValue:{value:'<CircularProgress color="inherit" size={16} />'},description:'Element placed before the children if the button is in loading state.\nThe node should contain an element with `role="progressbar"` with an accessible name.\nBy default, it renders a `CircularProgress` that is labeled by the button itself.',name:"loadingIndicator",required:!1,type:{name:"ReactNode"}},size:{defaultValue:{value:"large"},description:"The size of the component.",name:"size",required:!1,type:{name:'"small" | "large" | "medium"'}},href:{defaultValue:null,description:"The URL to link to when the button is clicked.\nIf defined, an `a` element will be used as the root node.",name:"href",required:!1,type:{name:"string"}},fullWidth:{defaultValue:{value:"false"},description:"If `true`, the button will take up the full width of its container.",name:"fullWidth",required:!1,type:{name:"boolean"}},endIcon:{defaultValue:null,description:"Element placed after the children.",name:"endIcon",required:!1,type:{name:"ReactNode"}},loadingPosition:{defaultValue:{value:"'center'"},description:"The loading indicator can be positioned on the start, end, or the center of the button.",name:"loadingPosition",required:!1,type:{name:'"center" | "end" | "start"'}},startIcon:{defaultValue:null,description:"Element placed before the children.",name:"startIcon",required:!1,type:{name:"ReactNode"}}}}}catch{}const cn={backgroundColor:"background.secondary",border:"1px dotted",borderColor:"secondary.light",borderRadius:"4px",padding:"2rem","&:hover":{backgroundColor:"background.primary",borderColor:"border.primary"}},dn={width:"100%",height:"100%"},pn=()=>{let e=0;return{id:e,increment:()=>e+=1}},fn=pn(),Re=({allowedFileTypes:e=[],disabled:t,maxFiles:r,maxSize:n,multiple:o,name:i,onChange:a,onClick:s,onDrop:d,setFileRejections:u,setTotalSize:f,validator:h})=>{const{setValue:I,watch:O}=wt(),R=m.useCallback(E=>{const F=O(i)??[],y=[];if(F.some(b=>b.name===E.name)&&y.push({code:"duplicate-name",message:"A file with this name already exists"}),r&&F.length>=r&&y.push({code:"too-many-files",message:`Too many files. You may only upload ${r} file(s).`}),h){const b=h(E);b&&(Array.isArray(b)?y.push(...b):y.push(b))}return y.length>0?y:null},[r]),k=m.useCallback((E,F,y)=>{let w=0;for(const b of E)w+=b.size;f(b=>b+w);const $=O(i)??[];if(I(i,$.concat(E)),F.length>0)for(const b of F)b.id=fn.increment();u&&u(F),d&&d(E,F,y)},[u]),V=e.join(","),{getRootProps:L,getInputProps:U}=Ct({onDrop:k,maxSize:n,maxFiles:r,disabled:t,multiple:o,accept:V,validator:R}),q=U({multiple:o,accept:V,onChange:a}),B=E=>{q.onChange&&q.onChange(E)},{role:Y,tabIndex:A,...H}=L();return c.jsx(Qe,{sx:cn,...H,children:c.jsx(Qe,{sx:dn,children:c.jsx(Ht,{spacing:2,alignItems:"center",justifyContent:"center",children:c.jsxs(c.Fragment,{children:[c.jsx($t,{fontSize:"xlarge",color:"secondary"}),c.jsx(Ne,{variant:"subtitle2",fontWeight:"700",children:"Drag and Drop Files Here"}),c.jsx(Ft,{children:"OR"}),c.jsx(Te,{name:i,color:"primary",disabled:t,maxSize:n,onClick:s,inputProps:q,onChange:B})]})})})})};try{Re.displayName="Dropzone",Re.__docgenInfo={description:"",displayName:"Dropzone",props:{name:{defaultValue:null,description:"Name given to the input field. Used by react-hook-form",name:"name",required:!0,type:{name:"string"}},allowedFileTypes:{defaultValue:{value:"[]"},description:"List of allowed file extensions (e.g. ['.pdf', '.doc']). Each extension must start with a dot",name:"allowedFileTypes",required:!1,type:{name:"`.${string}`[]"}},disabled:{defaultValue:null,description:"Whether the dropzone is disabled",name:"disabled",required:!1,type:{name:"boolean"}},maxFiles:{defaultValue:null,description:"Maximum number of files that can be uploaded",name:"maxFiles",required:!1,type:{name:"number"}},maxSize:{defaultValue:null,description:"Maximum size of each file in bytes",name:"maxSize",required:!1,type:{name:"number"}},multiple:{defaultValue:null,description:"Whether multiple file selection is allowed",name:"multiple",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"Handler called when the file input's value changes",name:"onChange",required:!1,type:{name:"(event: DropEvent) => void"}},onClick:{defaultValue:null,description:"Handler called when the file picker button is clicked",name:"onClick",required:!1,type:{name:"(event: MouseEvent<HTMLButtonElement, MouseEvent>) => void"}},onDrop:{defaultValue:null,description:'More sophisticated version of "onChange". This is the recommend function to use for changes to the form state',name:"onDrop",required:!1,type:{name:"(acceptedFiles: File[], fileRejections: (FileRejection & { id: number; })[], event: DropEvent) => void"}},setFileRejections:{defaultValue:null,description:"Callback to handle rejected files that don't meet validation criteria",name:"setFileRejections",required:!1,type:{name:"(fileRejections: (FileRejection & { id: number; })[]) => void"}},setTotalSize:{defaultValue:null,description:"Callback to update the total size of all uploaded files",name:"setTotalSize",required:!0,type:{name:"Dispatch<SetStateAction<number>>"}},validator:{defaultValue:null,description:"Validation function used for custom validation that is not covered with the other props",name:"validator",required:!1,type:{name:"(file: File) => FileError | FileError[]"}}}}}catch{}const mn={"file-too-large":"File exceeds maximum size","file-invalid-type":"File has an invalid type","file-too-small":"File is smaller than minimum size","too-many-file":"Too many files","duplicate-name":"Duplicate file selected"},ke=({errors:e,fileName:t,id:r,onClose:n})=>e.length===0?null:c.jsx(c.Fragment,{children:e.map(o=>c.jsxs(Yt,{severity:"error",onClose:n,children:[c.jsxs(Zt,{children:[mn[o.code]||"Error",": ",t]}),o.message]},`${r}-${o.code}`))});try{ke.displayName="ErrorAlert",ke.__docgenInfo={description:"",displayName:"ErrorAlert",props:{errors:{defaultValue:null,description:"Array of file rejection errors",name:"errors",required:!0,type:{name:"FileError[]"}},fileName:{defaultValue:null,description:"Name of the file that encountered errors",name:"fileName",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"Unique identifier for the error alert",name:"id",required:!0,type:{name:"number"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const Ve=({upload:e,onProgress:t,onError:r,onSuccess:n})=>{const[o,i]=m.useState(e.percentage||0),[a,s]=m.useState(!1),d=()=>{i(e.percentage),s(!1),t&&t(e)},u=()=>{s(!0),r&&r(e)},f=()=>{i(100),s(!1),n&&n(e)};return e.onProgress.push(d),e.onSuccess.push(f),e.onError.push(u),e.errorMessage?c.jsx(c.Fragment,{children:c.jsxs(Ie,{primaryTypographyProps:{color:"text.error",variant:"body2"},children:[c.jsx(Kt,{})," ",e.errorMessage]})}):c.jsx(nr,{value:o,"aria-label":`${e.file.name}-progress`})};try{Ve.displayName="UploadProgressBar",Ve.__docgenInfo={description:"",displayName:"UploadProgressBar",props:{upload:{defaultValue:null,description:`The upload instance returned by creating a new Upload via
@availity /upload-core.`,name:"upload",required:!0,type:{name:"Upload"}},onProgress:{defaultValue:null,description:"Callback function to hook into the onProgress within the Upload instance provided in the upload prop.",name:"onProgress",required:!1,type:{name:"(upload: Upload) => void"}},onSuccess:{defaultValue:null,description:"Callback function to hook into the onSuccess within the Upload instance provided in the upload prop.",name:"onSuccess",required:!1,type:{name:"(upload: Upload) => void"}},onError:{defaultValue:null,description:"Callback function to hook into the onError within the Upload instance provided in the upload prop.",name:"onError",required:!1,type:{name:"(upload: Upload) => void"}}}}}catch{}function At(e,t=2){if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,o=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,i)).toFixed(n))} ${o[i]}`}const Tt={png:pe,jpg:pe,jpeg:pe,gif:pe,csv:Qt,ppt:et,pptx:et,xls:Ze,xlsx:Ze,doc:Ye,docx:Ye,txt:Je,text:Je,zip:Xe,"7zip":Xe,xml:Ge,html:Ge,pdf:Wt},hn=e=>e?e in Tt:!1,gn=e=>{var n;const t=((n=e.split(".").pop())==null?void 0:n.toLowerCase())||"";return hn(t)?Tt[t]:Gt};async function yn(e,t){const{onSuccess:r,onError:n,...o}=t,i=new un(e,o);return await i.generateId(),r&&i.onSuccess.push(r),n&&i.onError.push(n),i.start(),i}function vn(e,t,r){const n=!!e;return ar(["upload",e.name,t],()=>yn(e,t),{enabled:n,retry:!1,refetchOnWindowFocus:!1,...r})}const qe=({file:e,options:t,onRemoveFile:r,queryOptions:n})=>{const o=gn(e.name),{data:i}=vn(e,t,n);return i?c.jsxs(tr,{secondaryAction:c.jsx(Ut,{title:"remove file",edge:"end",onClick:()=>{r(i.id,i)},children:c.jsx(Xt,{})}),children:[c.jsxs(G,{container:!0,spacing:2,alignItems:"center",justifyContent:"space-between",width:"100%",children:[c.jsx(G,{size:{xs:1},children:c.jsx(rr,{children:c.jsx(o,{})})}),c.jsx(G,{size:{xs:3},children:c.jsx(Ie,{children:i.trimFileName(i.file.name)})}),c.jsx(G,{size:{xs:2},children:c.jsx(Ie,{children:At(i.file.size)})}),c.jsx(G,{size:{xs:6},children:c.jsx(Ve,{upload:i})})]}),c.jsx(Ft,{})]}):null},ze=({files:e,options:t,onRemoveFile:r,queryOptions:n})=>e.length===0?null:c.jsx(er,{children:e.map(o=>c.jsx(qe,{file:o,options:t,onRemoveFile:r,queryOptions:n},o.name))});try{qe.displayName="FileRow",qe.__docgenInfo={description:"",displayName:"FileRow",props:{file:{defaultValue:null,description:"The File object containing information about the uploaded file",name:"file",required:!0,type:{name:"File"}},onRemoveFile:{defaultValue:null,description:`Callback function called when a file is removed
@param id - The unique identifier of the file being removed
@param upload - The Upload instance associated with the file`,name:"onRemoveFile",required:!0,type:{name:"(id: string, upload: Upload) => void"}},options:{defaultValue:null,description:"Configuration options for the upload call",name:"options",required:!0,type:{name:"Options"}},queryOptions:{defaultValue:null,description:"Query options from `react-query` for the upload call",name:"queryOptions",required:!1,type:{name:"UploadQueryOptions"}}}}}catch{}try{ze.displayName="FileList",ze.__docgenInfo={description:"",displayName:"FileList",props:{files:{defaultValue:null,description:"Array of File objects to be displayed in the list",name:"files",required:!0,type:{name:"File[]"}},options:{defaultValue:null,description:"Configuration options for the upload call",name:"options",required:!0,type:{name:"Options"}},queryOptions:{defaultValue:null,description:"Query options from `react-query` for the upload call",name:"queryOptions",required:!1,type:{name:"UploadQueryOptions"}},onRemoveFile:{defaultValue:null,description:`Callback function called when a file is removed
@param id - The unique identifier of the file being removed
@param upload - The Upload instance associated with the file`,name:"onRemoveFile",required:!0,type:{name:"(id: string, upload: Upload) => void"}}}}}catch{}const Me=({allowedFileTypes:e,maxFileSize:t})=>{const r=typeof t=="number"?`Maximum file size is ${At(t)}. `:null,n=e.length>0?`Supported file types include: ${e.join(", ")}.`:"All file types allowed.";return c.jsxs(Ne,{variant:"caption",children:[r,n]})};try{Me.displayName="FileTypesMessage",Me.__docgenInfo={description:"",displayName:"FileTypesMessage",props:{allowedFileTypes:{defaultValue:null,description:'Allowed file type extensions. Each extension should be prefixed with a ".". eg: .txt, .pdf, .png',name:"allowedFileTypes",required:!0,type:{name:"`.${string}`[]"}},maxFileSize:{defaultValue:null,description:"Maximum size per file in bytes. This will be formatted. eg: 1024 * 20 = 20 KB",name:"maxFileSize",required:!0,type:{name:"number"}}}}}catch{}const bn="/cloud/web/appl/vault/upload/v1/resumable",ve=({name:e,allowedFileNameCharacters:t,allowedFileTypes:r=[],bucketId:n,clientId:o,children:i,customerId:a,disabled:s=!1,endpoint:d,isCloud:u,label:f="Upload file",maxFiles:h,maxSize:I,multiple:O=!0,onChange:R,onDrop:k,onSubmit:V,onSuccess:L,onError:U,onFilePreUpload:q=[],onUploadRemove:B,retryDelays:Y,queryOptions:A,validator:H})=>{const[E,F]=m.useState(0),[y,w]=m.useState([]),$=sr(),b=Lt({defaultValues:{[e]:[]}}),z={bucketId:n,customerId:a,clientId:o,fileTypes:r,maxSize:I,allowedFileNameCharacters:t,onError:U,onSuccess:L,retryDelays:Y};q&&(z.onPreStart=q),d&&(z.endpoint=d),u&&(z.endpoint=bn);const S=(_,D)=>{const C=b.watch(e),M=C.filter(N=>N.name!==D.file.name);if(M.length!==C.length){const N=C.find(ae=>ae.name===D.file.name);try{D.abort()}catch{console.error("Encountered an issue stopping the file upload")}b.setValue(e,M),$.removeQueries(["upload",D.file.name]),N!=null&&N.size&&F(E-N.size),B&&B(M,_)}},ne=b.watch(e),ie=_=>{if(_[e].length===0)return;const D=$.getQueriesData(["upload"]),C=[];for(const[,M]of D)M&&C.push(M);V&&V(C,_)},oe=_=>{const D=y.filter(C=>C.id!==_);w(D)};return c.jsx(Bt,{...b,children:c.jsxs("form",{onSubmit:b.handleSubmit(ie),children:[c.jsxs(c.Fragment,{children:[c.jsx(Ne,{marginBottom:"4px",children:f}),c.jsx(Re,{name:e,allowedFileTypes:r,disabled:s,maxFiles:h,maxSize:I,multiple:O,onChange:R,onDrop:k,setFileRejections:w,setTotalSize:F,validator:H}),c.jsx(Me,{allowedFileTypes:r,maxFileSize:I})]}),i,y.length>0?y.map(_=>c.jsx(ke,{errors:_.errors,fileName:_.file.name,id:_.id,onClose:()=>oe(_.id)},_.id)):null,c.jsx(ze,{files:ne,options:z,onRemoveFile:S,queryOptions:A}),ne.length>0&&c.jsx(G,{size:{xs:12},justifyContent:"end",display:"flex",paddingTop:2.5,children:c.jsx(xt,{type:"submit",sx:{marginLeft:"auto",marginRight:0},children:"Submit"})})]})})};try{ve.displayName="FileSelector",ve.__docgenInfo={description:"",displayName:"FileSelector",props:{name:{defaultValue:null,description:`Name attribute for the form field. Used by react-hook-form for form state management
and must be unique within the form context`,name:"name",required:!0,type:{name:"string"}},bucketId:{defaultValue:null,description:"The ID of the bucket where files will be uploaded",name:"bucketId",required:!0,type:{name:"string"}},customerId:{defaultValue:null,description:"The customer ID associated with the upload",name:"customerId",required:!0,type:{name:"string"}},allowedFileNameCharacters:{defaultValue:null,description:`Regular expression pattern of allowed characters in file names
@example "a-zA-Z0-9-_."`,name:"allowedFileNameCharacters",required:!1,type:{name:"string"}},allowedFileTypes:{defaultValue:{value:"[]"},description:`List of allowed file extensions. Each extension must start with a dot
@example ['.pdf', '.doc', '.docx']`,name:"allowedFileTypes",required:!1,type:{name:"`.${string}`[]"}},children:{defaultValue:null,description:"Optional content to render below the file upload area",name:"children",required:!1,type:{name:"ReactNode"}},clientId:{defaultValue:null,description:"Client identifier used for upload authentication",name:"clientId",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Whether the file selector is disabled",name:"disabled",required:!1,type:{name:"boolean"}},endpoint:{defaultValue:null,description:"Custom endpoint URL for file uploads. If not provided, default endpoint will be used",name:"endpoint",required:!1,type:{name:"string"}},isCloud:{defaultValue:null,description:`Whether to use the cloud upload endpoint
When true, uses '/cloud/web/appl/vault/upload/v1/resumable'`,name:"isCloud",required:!1,type:{name:"boolean"}},label:{defaultValue:{value:"Upload file"},description:"Label text or element displayed above the upload area",name:"label",required:!1,type:{name:"ReactNode"}},maxFiles:{defaultValue:null,description:"Maximum number of files that can be uploaded simultaneously",name:"maxFiles",required:!1,type:{name:"number"}},maxSize:{defaultValue:null,description:`Maximum file size allowed per file in bytes
Use Kibi or Mibibytes. eg: 1kb = 1024 bytes; 1mb = 1024kb`,name:"maxSize",required:!0,type:{name:"number"}},multiple:{defaultValue:{value:"true"},description:"Whether multiple file selection is allowed",name:"multiple",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:`Callback fired when files are selected
@param event - The change event containing the selected file(s)`,name:"onChange",required:!1,type:{name:"(event: ChangeEvent<HTMLInputElement>) => void"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"(acceptedFiles: File[], fileRejections: (FileRejection & { id: number; })[], event: DropEvent) => void"}},onSubmit:{defaultValue:null,description:`Callback fired when the form is submitted
@param uploads - Array of Upload instances for the submitted files
@param values - Object containing the form values, with files indexed by the name prop`,name:"onSubmit",required:!1,type:{name:"(uploads: Upload[], values: Record<string, File[]>) => void"}},onSuccess:{defaultValue:null,description:"Callback fired when a file is successfully uploaded",name:"onSuccess",required:!1,type:{name:"() => void"}},onError:{defaultValue:null,description:"Callback fired when an error occurs during upload",name:"onError",required:!1,type:{name:"(error: Error) => void"}},onFilePreUpload:{defaultValue:{value:"[]"},description:`Array of functions to execute before file upload begins.
Each function should return a boolean indicating whether to proceed with the upload.`,name:"onFilePreUpload",required:!1,type:{name:"(() => boolean)[]"}},onUploadRemove:{defaultValue:null,description:`Callback fired when a file is removed from the upload list
@param files - Array of remaining files
@param removedUploadId - ID of the removed upload`,name:"onUploadRemove",required:!1,type:{name:"(files: File[], removedUploadId: string) => void"}},queryOptions:{defaultValue:null,description:"Query options from `react-query` for the upload call",name:"queryOptions",required:!1,type:{name:"UploadQueryOptions"}},retryDelays:{defaultValue:null,description:"Array of delays (in milliseconds) between upload retry attempts",name:"retryDelays",required:!1,type:{name:"number[]"}},validator:{defaultValue:null,description:"Validation function used for custom validation that is not covered with the other props",name:"validator",required:!1,type:{name:"(file: File) => FileError | FileError[]"}}}}}catch{}const ho={title:"Components/File Selector/File Selector",component:ve,tags:["autodocs"],decorators:[e=>c.jsx(lr,{client:new ur({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),children:c.jsx(e,{})})]},me={render:e=>c.jsx(Mt,{sx:{padding:"2rem"},children:c.jsx(ve,{...e})}),args:{name:"file-selector",allowedFileTypes:[],clientId:"123",customerId:"456",bucketId:"789",retryDelays:[],maxSize:1*1024*1024,isCloud:!0,multiple:!0}};var yt,vt,bt;me.parameters={...me.parameters,docs:{...(yt=me.parameters)==null?void 0:yt.docs,source:{originalSource:`{
  render: (props: FileSelectorProps) => {
    return <Paper sx={{
      padding: '2rem'
    }}>
        <FileSelector {...props} />
      </Paper>;
  },
  args: {
    name: 'file-selector',
    allowedFileTypes: [],
    clientId: '123',
    customerId: '456',
    bucketId: '789',
    retryDelays: [],
    maxSize: 1 * 1024 * 1024,
    // 1MB
    isCloud: true,
    multiple: true
  }
}`,...(bt=(vt=me.parameters)==null?void 0:vt.docs)==null?void 0:bt.source}}};const go=["_FileSelector"];export{me as _FileSelector,go as __namedExportsOrder,ho as default};
