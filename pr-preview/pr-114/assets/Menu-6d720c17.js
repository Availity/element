import{r}from"./index-570b25c1.js";import"./react-is.production.min-a192e302.js";import{c as A}from"./clsx.m-fb33c42b.js";import{g as j,s as H,c as G,r as he}from"./styled-fc2b35f5.js";import{u as me}from"./useTheme-117bd4f5.js";import{u as B}from"./useThemeProps-5f33a28c.js";import{g as V}from"./generateUtilityClasses-8a827d83.js";import{j as O,a as ge}from"./jsx-runtime-390e5fc8.js";import{g as ve,M as Me}from"./Modal-dfa5517d.js";import{M as ae}from"./Paper-c73104d0.js";import{G as be}from"./Tooltip-528bd356.js";import{u as le}from"./useForkRef-153a0a89.js";import{o as $}from"./ownerDocument-613eb639.js";import{o as oe,d as ye}from"./ownerWindow-698471fc.js";import{u as Pe}from"./useEnhancedEffect-460150e6.js";const we=r.createContext({}),Re=we;function Ce(t){return j("MuiList",t)}V("MuiList",["root","padding","dense","subheader"]);const xe=t=>{const{classes:e,disablePadding:o,dense:b,subheader:d}=t;return G({root:["root",!o&&"padding",b&&"dense",d&&"subheader"]},Ce,e)},Ee=H("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disablePadding&&e.padding,o.dense&&e.dense,o.subheader&&e.subheader]}})(({ownerState:t})=>({listStyle:"none",margin:0,padding:0,position:"relative",...!t.disablePadding&&{paddingTop:8,paddingBottom:8},...t.subheader&&{paddingTop:0}})),Le=r.forwardRef(function(e,o){const b=B({props:e,name:"MuiList"}),{children:d,className:p,component:c="ul",dense:i=!1,disablePadding:u=!1,subheader:w,...x}=b,T=r.useMemo(()=>({dense:i}),[i]),E={...b,component:c,dense:i,disablePadding:u},s=xe(E);return O(Re.Provider,{value:T,children:ge(Ee,{as:c,className:A(s.root,p),ref:o,ownerState:E,...x,children:[w,d]})})}),Se=Le;function U(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function ne(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function ce(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function K(t,e,o,b,d,p){let c=!1,i=d(t,e,e?o:!1);for(;i;){if(i===t.firstChild){if(c)return!1;c=!0}const u=b?!1:i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||!ce(i,p)||u)i=d(t,i,o);else return i.focus(),!0}return!1}const Te=r.forwardRef(function(e,o){const{actions:b,autoFocus:d=!1,autoFocusItem:p=!1,children:c,className:i,disabledItemsFocusable:u=!1,disableListWrap:w=!1,onKeyDown:x,variant:T="selectedMenu",...E}=e,s=r.useRef(null),y=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Pe(()=>{d&&s.current.focus()},[d]),r.useImperativeHandle(b,()=>({adjustStyleForScrollbar:(n,a)=>{const h=!s.current.style.width;if(n.clientHeight<s.current.clientHeight&&h){const m=`${ve($(n))}px`;s.current.style[a.direction==="rtl"?"paddingLeft":"paddingRight"]=m,s.current.style.width=`calc(100% + ${m})`}return s.current}}),[]);const R=n=>{const a=s.current,h=n.key,m=$(a).activeElement;if(h==="ArrowDown")n.preventDefault(),K(a,m,w,u,U);else if(h==="ArrowUp")n.preventDefault(),K(a,m,w,u,ne);else if(h==="Home")n.preventDefault(),K(a,null,w,u,U);else if(h==="End")n.preventDefault(),K(a,null,w,u,ne);else if(h.length===1){const f=y.current,I=h.toLowerCase(),L=performance.now();f.keys.length>0&&(L-f.lastTime>500?(f.keys=[],f.repeating=!0,f.previousKeyMatched=!0):f.repeating&&I!==f.keys[0]&&(f.repeating=!1)),f.lastTime=L,f.keys.push(I);const v=m&&!f.repeating&&ce(m,f);f.previousKeyMatched&&(v||K(a,m,!1,u,U,f))?n.preventDefault():f.previousKeyMatched=!1}x&&x(n)},S=le(s,o);let g=-1;r.Children.forEach(c,(n,a)=>{r.isValidElement(n)&&(n.props.disabled||(T==="selectedMenu"&&n.props.selected||g===-1)&&(g=a),g===a&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(g+=1,g>=c.length&&(g=-1)))});const D=r.Children.map(c,(n,a)=>{if(a===g){const h={};return p&&(h.autoFocus=!0),n.props.tabIndex===void 0&&T==="selectedMenu"&&(h.tabIndex=0),r.cloneElement(n,h)}return n});return O(Se,{role:"menu",ref:S,className:i,onKeyDown:R,tabIndex:d?0:-1,...E,children:D})}),De=Te;function Ie(t){return j("MuiPopover",t)}V("MuiPopover",["root","paper"]);function re(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function se(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function ie(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function W(t){return typeof t=="function"?t():t}const ke=t=>{const{classes:e}=t;return G({root:["root"],paper:["paper"]},Ie,e)},Oe=H(Me,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ze=H(ae,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Fe=r.forwardRef(function(e,o){const b=B({props:e,name:"MuiPopover"}),{action:d,anchorEl:p,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:i,anchorReference:u="anchorEl",children:w,className:x,container:T,elevation:E=8,marginThreshold:s=16,open:y,PaperProps:R={},transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:g=be,transitionDuration:D="auto",TransitionProps:{onEntering:n,...a}={},...h}=b,m=r.useRef(),f=le(m,R.ref),I={...b,anchorOrigin:c,anchorReference:u,elevation:E,marginThreshold:s,PaperProps:R,transformOrigin:S,TransitionComponent:g,transitionDuration:D,TransitionProps:a},L=ke(I),v=r.useCallback(()=>{if(u==="anchorPosition")return i;const l=W(p),P=(l&&l.nodeType===1?l:$(m.current).body).getBoundingClientRect();return{top:P.top+re(P,c.vertical),left:P.left+se(P,c.horizontal)}},[p,c.horizontal,c.vertical,i,u]),k=r.useCallback(l=>({vertical:re(l,S.vertical),horizontal:se(l,S.horizontal)}),[S.horizontal,S.vertical]),_=r.useCallback(l=>{const M={width:l.offsetWidth,height:l.offsetHeight},P=k(M);if(u==="none")return{top:null,left:null,transformOrigin:ie(P)};const q=v();let F=q.top-P.vertical,N=q.left-P.horizontal;const J=F+M.height,Q=N+M.width,Z=oe(W(p)),ee=Z.innerHeight-s,te=Z.innerWidth-s;if(F<s){const C=F-s;F-=C,P.vertical+=C}else if(J>ee){const C=J-ee;F-=C,P.vertical+=C}if(N<s){const C=N-s;N-=C,P.horizontal+=C}else if(Q>te){const C=Q-te;N-=C,P.horizontal+=C}return{top:`${Math.round(F)}px`,left:`${Math.round(N)}px`,transformOrigin:ie(P)}},[p,u,v,k,s]),[ue,X]=r.useState(y),z=r.useCallback(()=>{const l=m.current;if(!l)return;const M=_(l);M.top!==null&&(l.style.top=M.top),M.left!==null&&(l.style.left=M.left),l.style.transformOrigin=M.transformOrigin,X(!0)},[_]),fe=(l,M)=>{n&&n(l,M),z()},pe=()=>{X(!1)};r.useEffect(()=>{y&&z()}),r.useImperativeHandle(d,()=>y?{updatePosition:()=>{z()}}:null,[y,z]),r.useEffect(()=>{if(!y)return;const l=ye(()=>{z()}),M=oe(p);return M.addEventListener("resize",l),()=>{l.clear(),M.removeEventListener("resize",l)}},[p,y,z]);let Y=D;D==="auto"&&!g.muiSupportAuto&&(Y=void 0);const de=T||(p?$(W(p)).body:void 0);return O(Oe,{BackdropProps:{invisible:!0},className:A(L.root,x),container:de,open:y,ref:o,ownerState:I,...h,children:O(g,{appear:!0,in:y,onEntering:fe,onExited:pe,timeout:Y,...a,children:O(ze,{elevation:E,...R,ref:f,className:A(L.paper,R.className),...ue?void 0:{style:{...R.style,opacity:0}},ownerState:I,children:w})})})}),Ne=Fe;function He(t){return j("MuiMenu",t)}V("MuiMenu",["root","paper","list"]);const Ke={vertical:"top",horizontal:"right"},Ae={vertical:"top",horizontal:"left"},$e=t=>{const{classes:e}=t;return G({root:["root"],paper:["paper"],list:["list"]},He,e)},Ue=H(Ne,{shouldForwardProp:t=>he(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),We=H(ae,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),je=H(De,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Ge=r.forwardRef(function(e,o){const b=B({props:e,name:"MuiMenu"}),{autoFocus:d=!0,children:p,disableAutoFocusItem:c=!1,MenuListProps:i={},onClose:u,open:w,PaperProps:x={},PopoverClasses:T,transitionDuration:E="auto",TransitionProps:{onEntering:s,...y}={},variant:R="selectedMenu",...S}=b,g=me(),D=g.direction==="rtl",n={...b,autoFocus:d,disableAutoFocusItem:c,MenuListProps:i,onEntering:s,PaperProps:x,transitionDuration:E,TransitionProps:y,variant:R},a=$e(n),h=d&&!c&&w,m=r.useRef(null),f=(v,k)=>{m.current&&m.current.adjustStyleForScrollbar(v,g),s&&s(v,k)},I=v=>{v.key==="Tab"&&(v.preventDefault(),u&&u(v,"tabKeyDown"))};let L=-1;return r.Children.map(p,(v,k)=>{r.isValidElement(v)&&(v.props.disabled||(R==="selectedMenu"&&v.props.selected||L===-1)&&(L=k))}),O(Ue,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:D?"right":"left"},transformOrigin:D?Ke:Ae,PaperProps:{as:We,...x,classes:{...x.classes,root:a.paper}},className:a.root,open:w,ref:o,transitionDuration:E,TransitionProps:{onEntering:f,...y},ownerState:n,...S,classes:T,children:O(je,{onKeyDown:I,actions:m,autoFocus:d&&(L===-1||c),autoFocusItem:h,variant:R,...i,className:A(a.list,i.className),children:p})})}),it=Ge;export{Re as L,it as M,De as a,Se as b};
//# sourceMappingURL=Menu-6d720c17.js.map
