import{r as s}from"./index-DcWiA9TO.js";import{u as J}from"./useTheme-Cf-RAc4Y.js";import{j as O}from"./jsx-runtime-CcL-W3nW.js";import{T as Q,g as D,r as U}from"./utils-D5ZkK9XY.js";import{a as X}from"./useTimeout-B8wmcRZV.js";import{u as b,s as w}from"./useForkRef-BVrIj09m.js";import{g as C}from"./getReactElementRef-AnOffBoZ.js";import{r as Y}from"./index-BEx9gAkE.js";import{u as H}from"./useEnhancedEffect-D2f2tbda.js";function j(a){return`scale(${a}, ${a**2})`}const Z={entering:{opacity:1,transform:j(1)},entered:{opacity:1,transform:"none"}},v=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),S=s.forwardRef(function(x,l){const{addEndListener:e,appear:E=!0,children:o,easing:i,in:g,onEnter:p,onEntered:T,onEntering:F,onExit:A,onExited:G,onExiting:L,style:R,timeout:u="auto",TransitionComponent:N=Q,...V}=x,$=X(),P=s.useRef(),d=J(),h=s.useRef(null),z=b(h,C(o),l),f=t=>c=>{if(t){const n=h.current;c===void 0?t(n):t(n,c)}},K=f(F),M=f((t,c)=>{U(t);const{duration:n,delay:y,easing:r}=D({style:R,timeout:u,easing:i},{mode:"enter"});let m;u==="auto"?(m=d.transitions.getAutoHeightDuration(t.clientHeight),P.current=m):m=n,t.style.transition=[d.transitions.create("opacity",{duration:m,delay:y}),d.transitions.create("transform",{duration:v?m:m*.666,delay:y,easing:r})].join(","),p&&p(t,c)}),W=f(T),_=f(L),k=f(t=>{const{duration:c,delay:n,easing:y}=D({style:R,timeout:u,easing:i},{mode:"exit"});let r;u==="auto"?(r=d.transitions.getAutoHeightDuration(t.clientHeight),P.current=r):r=c,t.style.transition=[d.transitions.create("opacity",{duration:r,delay:n}),d.transitions.create("transform",{duration:v?r:r*.666,delay:v?n:n||r*.333,easing:y})].join(","),t.style.opacity=0,t.style.transform=j(.75),A&&A(t)}),q=f(G),B=t=>{u==="auto"&&$.start(P.current||0,t),e&&e(h.current,t)};return O.jsx(N,{appear:E,in:g,nodeRef:h,onEnter:M,onEntered:W,onEntering:K,onExit:k,onExited:q,onExiting:_,addEndListener:B,timeout:u==="auto"?null:u,...V,children:(t,{ownerState:c,...n})=>s.cloneElement(o,{style:{opacity:0,transform:j(.75),visibility:t==="exited"&&!g?"hidden":void 0,...Z[t],...R,...o.props.style},ref:z,...n})})});S&&(S.muiSupportAuto=!0);function I(a){return typeof a=="function"?a():a}const ct=s.forwardRef(function(x,l){const{children:e,container:E,disablePortal:o=!1}=x,[i,g]=s.useState(null),p=b(s.isValidElement(e)?C(e):null,l);if(H(()=>{o||g(I(E)||document.body)},[E,o]),H(()=>{if(i&&!o)return w(l,i),()=>{w(l,null)}},[l,i,o]),o){if(s.isValidElement(e)){const T={ref:p};return s.cloneElement(e,T)}return e}return i&&Y.createPortal(e,i)});export{S as G,ct as P};
