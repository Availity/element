import{j as d,a as t}from"./jsx-runtime-a3bcee63.js";import{P as V}from"./index-bcabbcd5.js";import{B as E}from"./index-6cb0af17.js";import{T as y}from"./index-bf8151f5.js";import{r}from"./index-570b25c1.js";import{M as H}from"./CircularProgress-96ade162.js";import"./Paper-389d56e7.js";import"./createTheme-3fee607a.js";import"./clsx-b831246b.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-16f43d9e.js";import"./styled-523cb007.js";import"./useThemeProps-98dc6282.js";import"./generateUtilityClasses-b58f947a.js";import"./Button-af0ca45f.js";import"./ButtonBase-44753119.js";import"./emotion-react.browser.esm-b00e6d55.js";import"./TransitionGroupContext-c71596b3.js";import"./useForkRef-153a0a89.js";import"./useIsFocusVisible-5e7b1ff1.js";import"./useEventCallback-e1b9edb9.js";import"./useEnhancedEffect-460150e6.js";import"./Tooltip-cae7e212.js";import"./useTheme-c07bb8e7.js";import"./objectWithoutPropertiesLoose-b6174fb2.js";import"./ownerDocument-613eb639.js";import"./Grow-8a00b99f.js";import"./index-8a077077.js";import"./_commonjsHelpers-042e6b4d.js";import"./utils-1ac07bae.js";import"./useSlotProps-039d2b0a.js";import"./useControlled-9b1271e0.js";import"./useId-6f4bfce0.js";import"./IconButton-3fd19b93.js";import"./LoadingButton-1ec35b70.js";import"./extends-90dea224.js";import"./Typography-f453bb5c.js";import"./extendSxProp-b1abb964.js";const I=()=>t(H,{"aria-label":"Loading",variant:"indeterminate"});function p({blocking:i,children:T,className:b="",keepInView:f,loader:k=t(I,{}),message:B,renderChildren:U=!0,tag:D="div",...N}){const[l,q]=r.useState("50%"),n=r.useRef(null),o=r.useRef(null),h=r.useRef(null),g=r.useRef(null),v=r.useCallback(()=>{if(i&&f&&h.current){const e=h.current.getBoundingClientRect(),s=window.innerHeight;if(e.top>s||e.bottom<0)return;if(e.top>=0&&e.bottom<=s){l!=="50%"&&q("50%");return}const c=g.current?g.current.getBoundingClientRect().height:0;let a=Math.max(Math.min(s,e.bottom)-Math.max(e.top,0),c)/2;e.top<0&&(a=Math.min(a-e.top,e.height-c/2)),l!==a&&q(a)}},[i,f,l]);r.useEffect(()=>(window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}),[v]);const u=(e,s=!1)=>{const{key:c,shiftKey:a}=e;return i&&c==="Tab"&&a===s},R=e=>{n.current&&u(e)&&n.current.focus()},P=e=>{n.current&&u(e)&&(e.preventDefault(),n.current.focus())},_=e=>{o.current&&u(e,!0)&&o.current.focus()},L=e=>{o.current&&u(e,!0)&&(e.preventDefault(),o.current.focus())},S=!i||U;return d(D,{className:i?`block-ui ${b}`:b,"aria-busy":i,...N,children:[i?t("div",{tabIndex:0,onKeyUp:R,onKeyDown:P,ref:o,className:"sr-only",children:B||"loading"}):null,S?T:null,i?d("div",{className:"block-ui-container",tabIndex:0,ref:n,onKeyUp:_,onKeyDown:L,children:[t("div",{className:"block-ui-overlay",ref:h}),t("div",{className:"block-ui-message-container",ref:g,style:{top:f?l:void 0},children:d("div",{className:"block-ui-message",children:[r.isValidElement(k)?t("div",{"aria-hidden":!0,children:k}):null,B||t("div",{className:"sr-only",children:"loading"})]})})]}):null]})}try{p.displayName="BlockUi",p.__docgenInfo={description:"",displayName:"BlockUi",props:{blocking:{defaultValue:null,description:"Set whether the component should block its children",name:"blocking",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children to display",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:{value:""},description:"CSS class name to pass to component",name:"className",required:!1,type:{name:"string"}},keepInView:{defaultValue:null,description:"Set whether the blocking component should follow the scroll or stay at a fixed postion",name:"keepInView",required:!1,type:{name:"boolean"}},loader:{defaultValue:{value:"<Loader />"},description:"Loader component to use",name:"loader",required:!1,type:{name:"Element"}},message:{defaultValue:null,description:"The message to display. Can also be a component.",name:"message",required:!1,type:{name:"ReactNode"}},renderChildren:{defaultValue:{value:"true"},description:"Control if the children are shown when the component is being blocked",name:"renderChildren",required:!1,type:{name:"boolean"}},tag:{defaultValue:null,description:"tag to render as container element",name:"tag",required:!1,type:{name:"ElementType<any>"}}}}}catch{}const qe={title:"Components/BlockUi/BlockUi",component:p,tags:["autodocs"]},m={render:i=>t(p,{...i,children:d(V,{sx:{padding:"1.5rem",minHeight:"250px"},children:[t(y,{variant:"h1",children:"Header"}),t(y,{paragraph:!0,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed at sapien efficitur turpis semper consequat. Cras vitae est quis ex vestibulum ultricies. Phasellus turpis massa, commodo eu nisi fringilla, cursus convallis ex. Fusce at hendrerit quam. Praesent vel leo eget ex feugiat eleifend vitae ut nunc. Sed ut lobortis enim. Aliquam non sagittis elit."}),t(y,{paragraph:!0,children:"Donec elementum urna in nisi ultricies, id venenatis nunc dictum. Phasellus fringilla nibh tellus, eget fermentum magna mollis suscipit. In ac leo vel ipsum luctus molestie id vel sem. Nullam tortor nisl, convallis vel purus vel, efficitur placerat lorem. Donec elementum gravida massa eget volutpat. Donec enim sapien, vestibulum ut erat ac, tincidunt ullamcorper justo. Quisque accumsan facilisis tincidunt. Duis molestie lorem a eros convallis sodales. Aenean malesuada leo eros, sed rutrum enim commodo quis"}),t(E,{children:"Click"})]})}),args:{blocking:!1,renderChildren:!0,message:"Loading"}};var x,w,C;m.parameters={...m.parameters,docs:{...(x=m.parameters)==null?void 0:x.docs,source:{originalSource:`{
  render: (args: BlockUiProps) => {
    return <BlockUi {...args}>
        <Paper sx={{
        padding: '1.5rem',
        minHeight: '250px'
      }}>
          <Typography variant="h1">Header</Typography>
          <Typography paragraph>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed at sapien efficitur turpis semper consequat.
            Cras vitae est quis ex vestibulum ultricies. Phasellus turpis massa, commodo eu nisi fringilla, cursus
            convallis ex. Fusce at hendrerit quam. Praesent vel leo eget ex feugiat eleifend vitae ut nunc. Sed ut
            lobortis enim. Aliquam non sagittis elit.
          </Typography>
          <Typography paragraph>
            Donec elementum urna in nisi ultricies, id venenatis nunc dictum. Phasellus fringilla nibh tellus, eget
            fermentum magna mollis suscipit. In ac leo vel ipsum luctus molestie id vel sem. Nullam tortor nisl,
            convallis vel purus vel, efficitur placerat lorem. Donec elementum gravida massa eget volutpat. Donec enim
            sapien, vestibulum ut erat ac, tincidunt ullamcorper justo. Quisque accumsan facilisis tincidunt. Duis
            molestie lorem a eros convallis sodales. Aenean malesuada leo eros, sed rutrum enim commodo quis
          </Typography>
          <Button>Click</Button>
        </Paper>
      </BlockUi>;
  },
  args: {
    blocking: false,
    renderChildren: true,
    message: 'Loading'
  }
}`,...(C=(w=m.parameters)==null?void 0:w.docs)==null?void 0:C.source}}};const xe=["_BlockUi"];export{m as _BlockUi,xe as __namedExportsOrder,qe as default};
//# sourceMappingURL=BlockUi.stories-a19a4054.js.map
