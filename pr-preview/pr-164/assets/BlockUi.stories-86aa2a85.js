import{j as p,a as t}from"./jsx-runtime-a3bcee63.js";import{P as D}from"./index-bcabbcd5.js";import{r as o}from"./index-570b25c1.js";import{M as K}from"./CircularProgress-96ade162.js";import{T as B}from"./index-bf8151f5.js";import"./Paper-389d56e7.js";import"./createTheme-3fee607a.js";import"./clsx-b831246b.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-16f43d9e.js";import"./styled-523cb007.js";import"./useThemeProps-98dc6282.js";import"./generateUtilityClasses-b58f947a.js";import"./_commonjsHelpers-042e6b4d.js";import"./emotion-react.browser.esm-b00e6d55.js";import"./Typography-f453bb5c.js";import"./extendSxProp-b1abb964.js";const M=()=>t(K,{"aria-label":"Loading",variant:"indeterminate"});function m({blocking:r,children:T,className:b="",keepInView:h,loader:k=t(M,{}),message:v,renderChildren:R=!0,tag:N="div",..._}){const[l,w]=o.useState("50%"),a=o.useRef(null),i=o.useRef(null),f=o.useRef(null),g=o.useRef(null),y=o.useCallback(()=>{if(r&&h&&f.current){const e=f.current.getBoundingClientRect(),s=window.innerHeight;if(e.top>s||e.bottom<0)return;if(e.top>=0&&e.bottom<=s){l!=="50%"&&w("50%");return}const c=g.current?g.current.getBoundingClientRect().height:0;let n=Math.max(Math.min(s,e.bottom)-Math.max(e.top,0),c)/2;e.top<0&&(n=Math.min(n-e.top,e.height-c/2)),l!==n&&w(n)}},[r,h,l]);o.useEffect(()=>(window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}),[y]);const d=(e,s=!1)=>{const{key:c,shiftKey:n}=e;return r&&c==="Tab"&&n===s},q=e=>{a.current&&d(e)&&a.current.focus()},L=e=>{a.current&&d(e)&&(e.preventDefault(),a.current.focus())},V=e=>{i.current&&d(e,!0)&&i.current.focus()},E=e=>{i.current&&d(e,!0)&&(e.preventDefault(),i.current.focus())},H=!r||R;return p(N,{className:r?`block-ui ${b}`:b,"aria-busy":r,..._,children:[r?t("div",{tabIndex:0,onKeyUp:q,onKeyDown:L,ref:i,className:"sr-only",children:v||"loading"}):null,H?T:null,r?p("div",{className:"block-ui-container",tabIndex:0,ref:a,onKeyUp:V,onKeyDown:E,children:[t("div",{className:"block-ui-overlay",ref:f}),t("div",{className:"block-ui-message-container",ref:g,style:{top:h?l:void 0},children:p("div",{className:"block-ui-message",children:[o.isValidElement(k)?t("div",{"aria-hidden":!0,children:k}):null,v||t("div",{className:"sr-only",children:"loading"})]})})]}):null]})}try{m.displayName="BlockUi",m.__docgenInfo={description:"",displayName:"BlockUi",props:{blocking:{defaultValue:null,description:"Set whether the component should block its children",name:"blocking",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"children to display",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:{value:""},description:"CSS class name to pass to component",name:"className",required:!1,type:{name:"string"}},keepInView:{defaultValue:null,description:"Set whether the blocking component should follow the scroll or stay at a fixed postion",name:"keepInView",required:!1,type:{name:"boolean"}},loader:{defaultValue:{value:"<Loader />"},description:"Loader component to use",name:"loader",required:!1,type:{name:"Element"}},message:{defaultValue:null,description:"The message to display. Can also be a component.",name:"message",required:!1,type:{name:"ReactNode"}},renderChildren:{defaultValue:{value:"true"},description:"Control if the children are shown when the component is being blocked",name:"renderChildren",required:!1,type:{name:"boolean"}},tag:{defaultValue:null,description:"tag to render as container element",name:"tag",required:!1,type:{name:"ElementType<any>"}}}}}catch{}const ee={title:"Components/BlockUi/BlockUi",component:m,tags:["autodocs"]},u={render:r=>t(m,{...r,children:p(D,{sx:{padding:"1.5rem",minHeight:"250px"},children:[t(B,{variant:"h1",children:"Header"}),t(B,{paragraph:!0,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})]})}),args:{blocking:!1,renderChildren:!0,message:"Loading"}};var U,x,C;u.parameters={...u.parameters,docs:{...(U=u.parameters)==null?void 0:U.docs,source:{originalSource:`{
  render: (args: BlockUiProps) => {
    return <BlockUi {...args}>
        <Paper sx={{
        padding: '1.5rem',
        minHeight: '250px'
      }}>
          <Typography variant="h1">Header</Typography>
          <Typography paragraph>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua.
          </Typography>
        </Paper>
      </BlockUi>;
  },
  args: {
    blocking: false,
    renderChildren: true,
    message: 'Loading'
  }
}`,...(C=(x=u.parameters)==null?void 0:x.docs)==null?void 0:C.source}}};const re=["_BlockUi"];export{u as _BlockUi,re as __namedExportsOrder,ee as default};
//# sourceMappingURL=BlockUi.stories-86aa2a85.js.map
