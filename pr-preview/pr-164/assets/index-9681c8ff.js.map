{"version":3,"file":"index-9681c8ff.js","sources":["../../../node_modules/@availity/message-core/dist/index.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/AvMessage.js\nvar _lastId;\nvar AvMessage = class {\n  constructor() {\n    __publicField(this, \"subscribers\", {});\n    __publicField(this, \"getEventData\", (event) => {\n      const isSameWindow = event.source === window;\n      if (!this.isEnabled || !event || !event.data || !event.origin || !event.source || !this.isDomain(event.origin)) {\n        return;\n      }\n      let { data } = event;\n      if (typeof data === \"string\") {\n        try {\n          data = JSON.parse(data);\n        } catch {\n        }\n      }\n      if (typeof data === \"string\") {\n        event = data;\n        data = void 0;\n      } else {\n        event = data && data.event || this.DEFAULT_EVENT;\n      }\n      const metadata = { isSameWindow };\n      this.onMessage(event, data, metadata);\n    });\n    __privateAdd(this, _lastId, 0);\n    this.isEnabled = true;\n    this.DEFAULT_EVENT = \"avMessage\";\n    this.DOMAIN = /https?:\\/\\/([\\w-]+\\.)?availity\\.(com|net)/;\n    window.addEventListener(\"message\", this.getEventData);\n  }\n  enabled(value) {\n    if (arguments.length > 0) {\n      this.isEnabled = !!value;\n    }\n    return this.isEnabled;\n  }\n  subscribe(event, callback, options) {\n    var _a;\n    if (!this.subscribers[event]) {\n      this.subscribers[event] = [];\n    }\n    __privateSet(this, _lastId, __privateGet(this, _lastId) + 1);\n    const id = __privateGet(this, _lastId);\n    const ignoreSameWindow = (_a = options == null ? void 0 : options.ignoreSameWindow) != null ? _a : true;\n    const subscriber = { id, callback, options: { ignoreSameWindow } };\n    this.subscribers[event].push(subscriber);\n    return () => {\n      this.subscribers[event] = this.subscribers[event].filter((subscriber2) => subscriber2.id !== id);\n    };\n  }\n  unsubscribe(event) {\n    delete this.subscribers[event];\n  }\n  unsubscribeAll() {\n    this.subscribers = {};\n  }\n  onMessage(event, data, metadata) {\n    const { isSameWindow } = metadata;\n    if (this.subscribers[event]) {\n      for (const subscriber of this.subscribers[event]) {\n        const { ignoreSameWindow } = subscriber.options;\n        const skip = isSameWindow && ignoreSameWindow;\n        if (!skip) {\n          subscriber.callback(data);\n        }\n      }\n    }\n  }\n  isDomain(url) {\n    return !this.DOMAIN.test(this.domain()) || this.DOMAIN.test(url);\n  }\n  domain() {\n    if (window.location.origin) {\n      return window.location.origin;\n    }\n    if (window.location.hostname) {\n      return `${window.location.protocol}//${window.location.hostname}${window.location.port ? `:${window.location.port}` : \"\"}`;\n    }\n    return \"*\";\n  }\n  send(payload, target = window.top) {\n    if (!this.isEnabled || !payload) {\n      return;\n    }\n    try {\n      const message = typeof payload === \"string\" ? payload : JSON.stringify(payload);\n      target.postMessage(message, this.domain());\n    } catch (error) {\n      console.warn(\"AvMessage.send()\", error);\n    }\n  }\n};\n_lastId = new WeakMap();\nvar AvMessage_default = AvMessage;\n\n// src/index.js\nvar src_default = new AvMessage_default();\nexport {\n  src_default as default\n};\n"],"names":["__defProp","__defNormalProp","obj","key","value","__publicField","__accessCheck","member","msg","__privateGet","getter","__privateAdd","__privateSet","setter","_lastId","AvMessage","event","isSameWindow","data","metadata","callback","options","_a","id","ignoreSameWindow","subscriber","subscriber2","url","payload","target","message","error","AvMessage_default","src_default"],"mappings":"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","x_google_ignoreList":[0]}