import{j as e,r as O}from"./iframe-BZz3QcUV.js";import{B as b,I as X}from"./index-B314xkb7.js";import{C as J}from"./index-BqE8gfOM.js";import{F as K,g as N,h as Q,a as Y}from"./index-D7JVpCQY.js";import{a as ee,k as re,C as te}from"./index-DVq5OAtC.js";import{B as f,G as d,S as P}from"./index-Vz6FX8E2.js";import{M as G}from"./index-Clz_tPm8.js";import{P as le}from"./index-CAvjtnSP.js";import{T as oe}from"./index-C-Iyr0cI.js";import{T as j}from"./index-ClM7p1ER.js";import{u as z,C as S}from"./index.esm-mXKn9lWt.js";import{T as i}from"./TableCell-CAU7p9lO.js";import{T as ae}from"./TableContainer-BY0A_n2j.js";import{T as ie}from"./Table-DZtLbLM6.js";import{T as ne}from"./TableHead-CoSwdY-S.js";import{T as E}from"./TableRow-DTuSTrZC.js";import{T as se}from"./TableBody-DhwZS5yx.js";import{F as ce}from"./FormControl-C2Br9PGu.js";import{I as H}from"./InputAdornment-CgKscaAV.js";import{P as me}from"./Popover-BrY2xuMs.js";import{F as ue}from"./FormGroup-jedMmTa3.js";import{L as pe}from"./Link-Ds_Mv2h3.js";import"./preload-helper-PPVm8Dsz.js";import"./Tooltip-BWJHZRl6.js";import"./useTheme-B7Cqxh2G.js";import"./styled-BM-ddlS9.js";import"./memoTheme-Bs2nn0CZ.js";import"./useSlot-r4YEcyId.js";import"./mergeSlotProps-B23xrLHr.js";import"./isHostComponent-DVu5iVWx.js";import"./useForkRef-CqxV8UPS.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./useTimeout-DLwU38Ef.js";import"./useControlled-DdT90daF.js";import"./useEventCallback-BVOh0J-M.js";import"./getReactElementRef-Bpvbu8Ov.js";import"./Portal-Zp5JyzDe.js";import"./utils-BgvT_xZo.js";import"./TransitionGroupContext-9H431pbn.js";import"./ownerDocument-DW-IO8s5.js";import"./useSlotProps-DFvf-0uJ.js";import"./isFocusVisible-B8k4qzLc.js";import"./IconButton-Cw2IKBAQ.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-DOxBZg-r.js";import"./CircularProgress-SMz0iZ9M.js";import"./Button-Cp--sx01.js";import"./Chip-CzAQp2o1.js";import"./createSvgIcon-CpO6BPRg.js";import"./SvgIcon-DKZWjmjR.js";import"./index-BiBDMnSv.js";import"./faCheck-BUdkY9Qv.js";import"./FormLabel-DAjwOrks.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-B768zcnH.js";import"./OutlinedInput-DNitDyEY.js";import"./utils-DoM3o7-Q.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Select-Cx4JwKMA.js";import"./Menu-DMEgO2wa.js";import"./Modal-CA8rC7t3.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-DN1aCuq7.js";import"./Fade-BQarXe1G.js";import"./List-BiE2s1yi.js";import"./FormHelperText-Bu3hR_Kj.js";import"./FormControlLabel-vq4-1n5v.js";import"./Typography-dKvhZPmN.js";import"./Switch-vChijCA0.js";import"./SwitchBase-C7jx3Ye5.js";import"./RadioGroup-B5TaUYpc.js";import"./Radio-DA-zdsxW.js";import"./Box-BOg-vuMP.js";import"./Divider-CLJilj78.js";import"./dividerClasses-CxQzuCbE.js";import"./Stack-DLX-eFuT.js";import"./styled-DdCwn5Ke.js";import"./faCircleArrowRight-B87giHcC.js";import"./faUser-meEUFR5-.js";import"./Grid-1nQ5vvaE.js";import"./isMuiElement-BdI-HeXQ.js";import"./Container-DqMY3rTf.js";import"./MenuItem-Ce5adnAn.js";import"./listItemIconClasses-CyGEUV5Q.js";import"./listItemTextClasses-CiRxluPw.js";import"./Paper-CDv_1HFe.js";import"./TextField-B1Z1z04U.js";import"./TableCell-D3tzXzpC.js";import"./visuallyHidden-Dan1xhjv.js";import"./TableContainer--hExnqm4.js";import"./Table-BxTNhU2t.js";import"./TableHead-D080P47i.js";import"./TableRow-B4iCZJbj.js";import"./TableBody-gOtPXLHX.js";import"./mergeSlotProps-Bzsz_uoU.js";const lt={title:"Components/Table/Patterns",tags:["autodocs"],parameters:{docs:{description:{component:"UX approved patterns to accompany Table"}}}},M=v=>e.jsxs(le,{sx:{borderWidth:"1px",borderColor:"border.decoration",marginTop:2,borderBottom:"none"},children:[e.jsx(v,{}),e.jsx(ae,{children:e.jsxs(ie,{children:[e.jsx(ne,{children:e.jsxs(E,{children:[e.jsx(i,{children:"Column 1"}),e.jsx(i,{children:"Column 2"}),e.jsx(i,{children:"Column 3"}),e.jsx(i,{children:"Column 4"}),e.jsx(i,{children:"Column 5"}),e.jsx(i,{children:"Column 6"})]})}),e.jsx(se,{children:e.jsx(E,{children:e.jsx(i,{sx:{borderBottom:"none"}})})})]})})]}),y={render:(v,{globals:{theme:F}})=>e.jsx(i,{component:"div",variant:"header",size:F==="light"?"medium":"small",children:e.jsx(j,{component:"div",variant:"h6",children:"Table Title"})}),decorators:[M]},x={render:(v,{globals:{theme:F}})=>{const R=[{searchbyValue:"column2",searchbyLabel:"Column 2",searchValue:"Payer 1"},{searchbyValue:"column5",searchbyLabel:"Column 5",searchValue:"Pending"}],B=[{label:"Column 1",value:"column1"},{label:"Column 2",value:"column2"},{label:"Column 3",value:"column3"}],W={searchbyValue:"column1",searchValue:""},[n,g]=O.useState(R),[T,L]=O.useState(null),I=!!T,k=I?"filter-popover":void 0,C=()=>{L(null)},_=r=>{L(r.currentTarget)},q=r=>{const l=n.findIndex(t=>t.searchbyValue===r.searchbyValue&&t.searchValue===r.searchValue);n.splice(l,1),g([...n])},w=r=>{const l=[...n,...r].sort((t,a)=>{const s=t.searchbyLabel.toUpperCase(),h=a.searchbyLabel.toUpperCase();return s<h?-1:s>h?1:0});g([...l])},{handleSubmit:$,control:A}=z({defaultValues:W}),D=r=>{const l={...r,searchbyLabel:B.find(t=>t.value===r.searchbyValue)?.label||""};!n.find(t=>t.searchbyValue===l.searchbyValue&&t.searchValue===l.searchValue)&&w([l])},U=()=>{const r={column4:"",column5:"",column6:""},l=[{label:"Column 4",value:"column4"},{label:"Column 5",value:"column5"},{label:"Column 6",value:"column6"}],t=[{label:"Value 1",value:"value1"},{label:"Value 2",value:"value2"},{label:"Value 3",value:"value3"}],{handleSubmit:a,control:s,reset:h,formState:{errors:de}}=z({defaultValues:r}),Z=m=>{const u=[];for(const[p,c]of Object.entries(m)){const V=c&&!n.find(o=>o.searchbyValue===p&&o.searchValue===c)&&{searchbyValue:p,searchbyLabel:l.find(o=>o.value===p)?.label||"",searchValue:c,searchLabel:t.find(o=>o.value===c)?.label||""};V&&u.push(V)}u&&w(u),C()};return e.jsx(f,{component:"form",id:"filter-form",onSubmit:a(Z),onReset:()=>h(),children:e.jsxs(P,{direction:"column",spacing:2,children:[l.map(m=>e.jsx(S,{name:m.value,control:s,render:({field:{onChange:u,value:p},fieldState:{error:c},formState:V})=>e.jsx(oe,{label:m.label,error:!!c,value:p,onChange:u,select:!0,margin:"none",children:t.map(o=>e.jsx(G,{value:o.value,children:o.label},o.value))},m.value)})),e.jsxs(P,{direction:"row",spacing:2,children:[e.jsx(b,{type:"reset",color:"secondary",children:"Reset Filters"}),e.jsx(b,{type:"submit",color:"primary",children:"Apply Filters"})]})]})})};return e.jsxs(i,{component:"div",variant:"header",size:F==="light"?"medium":"small",children:[e.jsx(j,{component:"h3",variant:"h6",sx:{marginBottom:3},children:"Table Title"}),e.jsxs(f,{component:"form",id:"search-form",onSubmit:$(D),sx:{paddingBottom:2},children:[e.jsx(K,{htmlFor:"searchbyValue",id:"searchbyValueLabel",children:"Search By"}),e.jsxs(d,{container:!0,spacing:1,sx:{flexWrap:"wrap"},children:[e.jsx(d,{children:e.jsx(S,{name:"searchbyValue",control:A,rules:{required:{value:!0,message:"This field is required"}},render:({field:{onChange:r,value:l,ref:t},fieldState:{error:a}})=>e.jsx(N,{fullWidth:!1,error:!!a,value:l,onChange:r,inputRef:t,margin:"none",sx:{flexShrink:0},labelId:"searchbyValueLabel",children:B.map(s=>e.jsx(G,{value:s.value,children:s.label},s.value))})})}),e.jsx(d,{size:"grow",children:e.jsx(S,{name:"searchValue",control:A,rules:{required:{value:!0,message:"This field is required"}},render:({field:{onChange:r,value:l,ref:t},fieldState:{error:a}})=>e.jsxs(ce,{error:!!a,margin:"none",sx:{flexGrow:1},fullWidth:!0,children:[e.jsx(Q,{id:"search",value:l,onChange:r,inputRef:t,startAdornment:e.jsx(H,{position:"start",children:e.jsx(ee,{})}),placeholder:"Search",fullWidth:!0}),e.jsx(Y,{children:a&&a.message})]})})}),e.jsx(d,{children:e.jsx(b,{type:"submit",color:"primary",size:"large",children:"Search"})}),e.jsx(d,{children:e.jsxs(b,{type:"button",color:"secondary","aria-controls":k||"",id:"filter-button",onClick:_,size:"large",children:[e.jsx(H,{position:"start",sx:{color:"inherit"},children:e.jsx(re,{})}),"Filter"]})})]})]}),e.jsx(me,{id:k,"aria-labelledby":"filter-header",open:I,anchorEl:T,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsxs(f,{sx:{padding:2},children:[e.jsxs(f,{sx:{justifyContent:"space-between",display:"flex",paddingBottom:2},children:[e.jsx(j,{component:"h2",variant:"h6",id:"filter-header",children:"Filters"}),e.jsx(X,{title:"close",onClick:C,sx:{m:"-12px"},children:e.jsx(te,{fontSize:"small"})})]}),e.jsx(U,{})]})}),e.jsxs(ue,{"aria-label":"filters",role:"group",row:!0,children:[n.map(r=>e.jsx(J,{label:`${r.searchbyLabel}: ${r.searchLabel||r.searchValue}`,onDelete:()=>q(r),sx:{mr:1,mb:1}},`${r.searchbyValue}-${r.searchValue.toString().replace(/[^A-Z0-9]+/gi,"_")}}`)),!!n.length&&e.jsx(pe,{component:"button",typography:"body1",height:"26px",onClick:()=>{g([])},children:"Clear All Filters"})]})]})},decorators:[M]};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: (args, {
    globals: {
      theme
    }
  }) => <TableCell component="div" variant="header" size={theme === 'light' ? 'medium' : 'small'}>
      <Typography component="div" variant="h6">
        Table Title
      </Typography>
    </TableCell>,
  decorators: [HeaderDecorator]
}`,...y.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  render: (args, {
    globals: {
      theme
    }
  }) => {
    type OptionType = {
      label: string;
      value: string;
    };
    type Filter = {
      searchbyValue: string;
      searchbyLabel: string;
      searchValue: string | number;
      searchLabel?: string;
    };
    const defaultFilters: Filter[] = [{
      searchbyValue: 'column2',
      searchbyLabel: 'Column 2',
      searchValue: 'Payer 1'
    }, {
      searchbyValue: 'column5',
      searchbyLabel: 'Column 5',
      searchValue: 'Pending'
    }];
    const searchByOptions = [{
      label: 'Column 1',
      value: 'column1'
    }, {
      label: 'Column 2',
      value: 'column2'
    }, {
      label: 'Column 3',
      value: 'column3'
    }];
    const defaultSearchByValues = {
      searchbyValue: 'column1',
      searchValue: ''
    };
    const [filters, setFilters] = useState<Array<Filter>>(defaultFilters);
    const [filterAnchorEl, setFilterAnchorEl] = useState<HTMLButtonElement | null>(null);
    const isFilterPopoverOpen = Boolean(filterAnchorEl);
    const filterPopoverId = isFilterPopoverOpen ? 'filter-popover' : undefined;
    const handlePopoverClose = () => {
      setFilterAnchorEl(null);
    };
    const handleFilterButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {
      setFilterAnchorEl(event.currentTarget);
    };
    const removeFilter = (filter: Filter) => {
      const index = filters.findIndex(item => item.searchbyValue === filter.searchbyValue && item.searchValue === filter.searchValue);
      filters.splice(index, 1);
      setFilters([...filters]);
    };
    const addFilters = (newFilters: Filter[]) => {
      const updatedFilters = [...filters, ...newFilters].sort((a, b) => {
        const nameA = a.searchbyLabel.toUpperCase();
        const nameB = b.searchbyLabel.toUpperCase();
        if (nameA < nameB) {
          return -1;
        }
        if (nameA > nameB) {
          return 1;
        }
        return 0;
      });
      setFilters([...updatedFilters]);
    };
    const {
      handleSubmit,
      control
    } = useForm<Filter>({
      defaultValues: defaultSearchByValues
    });
    const onSearchSubmit = (data: Omit<Filter, 'searchbyLabel'>) => {
      const newFilter = {
        ...data,
        searchbyLabel: searchByOptions.find(item => item.value === data.searchbyValue)?.label || ''
      };
      !filters.find(item => item.searchbyValue === newFilter.searchbyValue && item.searchValue === newFilter.searchValue) && addFilters([newFilter]);
    };
    const FilterForm = () => {
      type FilterForm = {
        column4?: string;
        column5?: string;
        column6?: string;
      };
      const defaultFilterFormValues = {
        column4: '',
        column5: '',
        column6: ''
      };
      const filterByOptions = [{
        label: 'Column 4',
        value: 'column4'
      }, {
        label: 'Column 5',
        value: 'column5'
      }, {
        label: 'Column 6',
        value: 'column6'
      }];
      const filterOptions = [{
        label: 'Value 1',
        value: 'value1'
      }, {
        label: 'Value 2',
        value: 'value2'
      }, {
        label: 'Value 3',
        value: 'value3'
      }];
      const {
        handleSubmit,
        control,
        reset,
        formState: {
          errors
        }
      } = useForm<FilterForm>({
        defaultValues: defaultFilterFormValues
      });
      const onSubmit = (data: FilterForm) => {
        const newFilters: Filter[] = [];
        for (const [key, value] of Object.entries(data)) {
          const newFilter = value && !filters.find(item => item.searchbyValue === key && item.searchValue === value) && {
            searchbyValue: key,
            searchbyLabel: filterByOptions.find(item => item.value === key)?.label || '',
            searchValue: value,
            searchLabel: filterOptions.find(item => item.value === value)?.label || ''
          };
          newFilter && newFilters.push(newFilter);
        }
        newFilters && addFilters(newFilters);
        handlePopoverClose();
      };
      return <Box component="form" id="filter-form" onSubmit={handleSubmit(onSubmit)} onReset={() => reset()}>
          <Stack direction="column" spacing={2}>
            {filterByOptions.map((filterby: OptionType) => <Controller name={filterby.value as keyof typeof FilterForm} control={control} render={({
            field: {
              onChange,
              value
            },
            fieldState: {
              error
            },
            formState
          }) => <TextField key={filterby.value} label={filterby.label} error={!!error} value={value} onChange={onChange} select margin="none">
                    {filterOptions.map((option: OptionType) => <MenuItem key={option.value} value={option.value}>
                        {option.label}
                      </MenuItem>)}
                  </TextField>} />)}
            <Stack direction="row" spacing={2}>
              <Button type="reset" color="secondary">
                Reset Filters
              </Button>
              <Button type="submit" color="primary">
                Apply Filters
              </Button>
            </Stack>
          </Stack>
        </Box>;
    };
    return <TableCell component="div" variant="header" size={theme === 'light' ? 'medium' : 'small'}>
        <Typography component="h3" variant="h6" sx={{
        marginBottom: 3
      }}>
          Table Title
        </Typography>
        <Box component="form" id="search-form" onSubmit={handleSubmit(onSearchSubmit)} sx={{
        paddingBottom: 2
      }}>
          <FormLabel htmlFor="searchbyValue" id="searchbyValueLabel">
            Search By
          </FormLabel>
          <Grid container spacing={1} sx={{
          flexWrap: 'wrap'
        }}>
            <Grid>
              <Controller name="searchbyValue" control={control} rules={{
              required: {
                value: true,
                message: 'This field is required'
              }
            }} render={({
              field: {
                onChange,
                value,
                ref
              },
              fieldState: {
                error
              }
            }) => <Select fullWidth={false} error={!!error} value={value} onChange={onChange} inputRef={ref} margin="none" sx={{
              flexShrink: 0
            }} labelId="searchbyValueLabel">
                    {searchByOptions.map((option: OptionType) => <MenuItem key={option.value} value={option.value}>
                        {option.label}
                      </MenuItem>)}
                  </Select>} />
            </Grid>
            <Grid size="grow">
              <Controller name="searchValue" control={control} rules={{
              required: {
                value: true,
                message: 'This field is required'
              }
            }} render={({
              field: {
                onChange,
                value,
                ref
              },
              fieldState: {
                error
              }
            }) => <FormControl error={!!error} margin="none" sx={{
              flexGrow: 1
            }} fullWidth>
                    <Input id="search" value={value} onChange={onChange} inputRef={ref} startAdornment={<InputAdornment position="start">
                          <SearchIcon />
                        </InputAdornment>} placeholder="Search" fullWidth />
                    <FormHelperText>{error && error.message}</FormHelperText>
                  </FormControl>} />
            </Grid>
            <Grid>
              <Button type="submit" color="primary" size="large">
                Search
              </Button>
            </Grid>
            <Grid>
              <Button type="button" color="secondary" aria-controls={filterPopoverId || ''} id="filter-button" onClick={handleFilterButtonClick} size="large">
                <InputAdornment position="start" sx={{
                color: 'inherit'
              }}>
                  <FilterIcon />
                </InputAdornment>
                Filter
              </Button>
            </Grid>
          </Grid>
        </Box>
        <Popover id={filterPopoverId} aria-labelledby="filter-header" open={isFilterPopoverOpen} anchorEl={filterAnchorEl} onClose={handlePopoverClose} anchorOrigin={{
        vertical: 'bottom',
        horizontal: 'right'
      }} transformOrigin={{
        vertical: 'top',
        horizontal: 'right'
      }}>
          <Box sx={{
          padding: 2
        }}>
            <Box sx={{
            justifyContent: 'space-between',
            display: 'flex',
            paddingBottom: 2
          }}>
              <Typography component="h2" variant="h6" id="filter-header">
                Filters
              </Typography>
              <IconButton title="close" onClick={handlePopoverClose} sx={{
              m: '-12px'
            }}>
                <CloseIcon fontSize="small" />
              </IconButton>
            </Box>
            <FilterForm />
          </Box>
        </Popover>
        <FormGroup aria-label="filters" role="group" row>
          {filters.map(filter => <Chip key={\`\${filter.searchbyValue}-\${filter.searchValue.toString().replace(/[^A-Z0-9]+/gi, '_')}}\`} label={\`\${filter.searchbyLabel}: \${filter.searchLabel || filter.searchValue}\`} onDelete={() => removeFilter(filter)} sx={{
          mr: 1,
          mb: 1
        }} />)}
          {!!filters.length && <MuiLink component="button" typography="body1" height="26px" onClick={() => {
          setFilters([]);
        }}>
              Clear All Filters
            </MuiLink>}
        </FormGroup>
      </TableCell>;
  },
  decorators: [HeaderDecorator]
}`,...x.parameters?.docs?.source}}};const ot=["_Header","_HeaderWithSearchAndFilter"];export{y as _Header,x as _HeaderWithSearchAndFilter,ot as __namedExportsOrder,lt as default};
