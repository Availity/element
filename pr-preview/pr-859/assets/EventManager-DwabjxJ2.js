import{av as N,ax as D,au as j}from"./iframe-C1vntzAX.js";import{a as $,b as q}from"./useTimeout-Dtp_2qQ3.js";var k=Symbol("NOT_FOUND");function F(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function P(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function U(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var A=t=>Array.isArray(t)?t:[t];function V(t){const e=Array.isArray(t[0])?t[0]:t;return U(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function K(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}function G(t){let e;return{get(r){return e&&t(e.key,r)?e.value:k},put(r,n){e={key:r,value:n}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function B(t,e){let r=[];function n(c){const l=r.findIndex(s=>e(c,s.key));if(l>-1){const s=r[l];return l>0&&(r.splice(l,1),r.unshift(s)),s.value}return k}function i(c,l){n(c)===k&&(r.unshift({key:c,value:l}),r.length>t&&r.pop())}function a(){return r}function f(){r=[]}return{get:n,put:i,getEntries:a,clear:f}}var H=(t,e)=>t===e;function J(t){return function(r,n){if(r===null||n===null||r.length!==n.length)return!1;const{length:i}=r;for(let a=0;a<i;a++)if(!t(r[a],n[a]))return!1;return!0}}function Q(t,e){const r=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:n=H,maxSize:i=1,resultEqualityCheck:a}=r,f=J(n);let c=0;const l=i<=1?G(f):B(i,f);function s(){let o=l.get(arguments);if(o===k){if(o=t.apply(null,arguments),c++,a){const h=l.getEntries().find(p=>a(p.value,o));h&&(o=h.value,c!==0&&c--)}l.put(arguments,o)}return o}return s.clearCache=()=>{l.clear(),s.resetResultsCount()},s.resultsCount=()=>c,s.resetResultsCount=()=>{c=0},s}var X=class{constructor(t){this.value=t}deref(){return this.value}},Y=typeof WeakRef<"u"?WeakRef:X,Z=0,O=1;function E(){return{s:Z,v:void 0,o:null,p:null}}function _(t,e={}){let r=E();const{resultEqualityCheck:n}=e;let i,a=0;function f(){let c=r;const{length:l}=arguments;for(let u=0,h=l;u<h;u++){const p=arguments[u];if(typeof p=="function"||typeof p=="object"&&p!==null){let d=c.o;d===null&&(c.o=d=new WeakMap);const m=d.get(p);m===void 0?(c=E(),d.set(p,c)):c=m}else{let d=c.p;d===null&&(c.p=d=new Map);const m=d.get(p);m===void 0?(c=E(),d.set(p,c)):c=m}}const s=c;let o;if(c.s===O)o=c.v;else if(o=t.apply(null,arguments),a++,n){const u=i?.deref?.()??i;u!=null&&n(u,o)&&(o=u,a!==0&&a--),i=typeof o=="object"&&o!==null||typeof o=="function"?new Y(o):o}return s.s=O,s.v=o,o}return f.clearCache=()=>{r=E(),f.resetResultsCount()},f.resultsCount=()=>a,f.resetResultsCount=()=>{a=0},f}function I(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,f=0,c,l={},s=i.pop();typeof s=="object"&&(l=s,s=i.pop()),F(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const o={...r,...l},{memoize:u,memoizeOptions:h=[],argsMemoize:p=_,argsMemoizeOptions:d=[]}=o,m=A(h),v=A(d),S=V(i),R=u(function(){return a++,s.apply(null,arguments)},...m),g=p(function(){f++;const C=K(S,arguments);return c=R.apply(null,C),c},...v);return Object.assign(g,{resultFunc:s,memoizedResultFunc:R,dependencies:S,dependencyRecomputations:()=>f,resetDependencyRecomputations:()=>{f=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:u,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ee=I(_),te=Object.assign((t,e=ee)=>{P(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((f,c,l)=>(f[r[l]]=c,f),{}))},{withTypes:()=>te});const re=I({memoize:Q,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),ae=(t,e,r,n,i,a,...f)=>{if(f.length>0)throw new Error("Unsupported number of selectors");let c;if(t&&e&&r&&n&&i&&a)c=(l,s,o,u)=>{const h=t(l,s,o,u),p=e(l,s,o,u),d=r(l,s,o,u),m=n(l,s,o,u),v=i(l,s,o,u);return a(h,p,d,m,v,s,o,u)};else if(t&&e&&r&&n&&i)c=(l,s,o,u)=>{const h=t(l,s,o,u),p=e(l,s,o,u),d=r(l,s,o,u),m=n(l,s,o,u);return i(h,p,d,m,s,o,u)};else if(t&&e&&r&&n)c=(l,s,o,u)=>{const h=t(l,s,o,u),p=e(l,s,o,u),d=r(l,s,o,u);return n(h,p,d,s,o,u)};else if(t&&e&&r)c=(l,s,o,u)=>{const h=t(l,s,o,u),p=e(l,s,o,u);return r(h,p,s,o,u)};else if(t&&e)c=(l,s,o,u)=>{const h=t(l,s,o,u);return e(h,s,o,u)};else if(t)c=t;else throw new Error("Missing arguments");return c},fe=(...t)=>{const e=new WeakMap;let r=1;const n=t[t.length-1],i=t.length-1||1,a=Math.max(n.length-i,0);if(a>3)throw new Error("Unsupported number of arguments");return(c,l,s,o)=>{let u=c.__cacheKey__;u||(u={id:r},c.__cacheKey__=u,r+=1);let h=e.get(u);if(!h){const p=t.length===1?[v=>v,n]:t;let d=t;const m=[void 0,void 0,void 0];switch(a){case 0:break;case 1:{d=[...p.slice(0,-1),()=>m[0],n];break}case 2:{d=[...p.slice(0,-1),()=>m[0],()=>m[1],n];break}case 3:{d=[...p.slice(0,-1),()=>m[0],()=>m[1],()=>m[2],n];break}default:throw new Error("Unsupported number of arguments")}h=re(...d),h.selectorArgs=m,e.set(u,h)}switch(a){case 3:h.selectorArgs[2]=o;case 2:h.selectorArgs[1]=s;case 1:h.selectorArgs[0]=l}switch(a){case 0:return h(c);case 1:return h(c,l);case 2:return h(c,l,s);case 3:return h(c,l,s,o);default:throw new Error("unreachable")}}};var M={exports:{}},z={};var x;function ne(){if(x)return z;x=1;var t=N(),e=D();function r(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,f=t.useEffect,c=t.useMemo,l=t.useDebugValue;return z.useSyncExternalStoreWithSelector=function(s,o,u,h,p){var d=a(null);if(d.current===null){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=c(function(){function S(y){if(!R){if(R=!0,g=y,y=h(y),p!==void 0&&m.hasValue){var w=m.value;if(p(w,y))return b=w}return b=y}if(w=b,n(g,y))return w;var T=h(y);return p!==void 0&&p(w,T)?(g=y,w):(g=y,b=T)}var R=!1,g,b,C=u===void 0?null:u;return[function(){return S(o())},C===null?void 0:function(){return S(C())}]},[o,u,h,p]);var v=i(s,d[0],d[1]);return f(function(){m.hasValue=!0,m.value=v},[v]),l(v),v},z}var W;function se(){return W||(W=1,M.exports=ne()),M.exports}var oe=se();function he(t,e,r,n,i){const a=f=>e(f,r,n,i);return oe.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getSnapshot,a)}const ie=()=>{};function pe(t,e,r){const n=$(ce,{store:t,selector:e}).current;n.effect=r,q(n.onMount)}function ce(t){const{store:e,selector:r}=t;let n=r(e.state);const i={effect:ie,dispose:null,subscribe:()=>{i.dispose??=e.subscribe(a=>{const f=r(a);i.effect(n,f),n=f})},onMount:()=>(i.subscribe(),()=>{i.dispose?.(),i.dispose=null})};return i.subscribe(),i}class L{static create(e){return new L(e)}constructor(e){this.state=e,this.listeners=new Set,this.updateTick=0}subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});getSnapshot=()=>this.state;setState(e){this.state=e,this.updateTick+=1;const r=this.updateTick,n=this.listeners.values();let i;for(;i=n.next(),!i.done;){if(r!==this.updateTick)return;const a=i.value;a(e)}}update(e){for(const r in e)if(!Object.is(this.state[r],e[r])){this.setState(j({},this.state,e));return}}set(e,r){Object.is(this.state[e],r)||this.setState(j({},this.state,{[e]:r}))}}class de{maxListeners=20;warnOnce=!1;events={};on(e,r,n={}){let i=this.events[e];i||(i={highPriority:new Map,regular:new Map},this.events[e]=i),n.isFirst?i.highPriority.set(r,!0):i.regular.set(r,!0)}removeListener(e,r){this.events[e]&&(this.events[e].regular.delete(r),this.events[e].highPriority.delete(r))}removeAllListeners(){this.events={}}emit(e,...r){const n=this.events[e];if(!n)return;const i=Array.from(n.highPriority.keys()),a=Array.from(n.regular.keys());for(let f=i.length-1;f>=0;f-=1){const c=i[f];n.highPriority.has(c)&&c.apply(this,r)}for(let f=0;f<a.length;f+=1){const c=a[f];n.regular.has(c)&&c.apply(this,r)}}once(e,r){const n=this;this.on(e,function i(...a){n.removeListener(e,i),r.apply(n,a)})}}export{de as E,L as S,fe as a,pe as b,ae as c,Q as l,he as u};
