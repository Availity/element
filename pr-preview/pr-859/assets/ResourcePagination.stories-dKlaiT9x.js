import{j as r,r as g}from"./iframe-BZz3QcUV.js";import{B as f}from"./index-Vz6FX8E2.js";import{a as h}from"./index-DiX5wH3J.js";import{L as y,a as P,b as x}from"./index-DVsODjP4.js";import{P as d}from"./Pagination-Bi9L3HW8.js";import{u as v}from"./useQuery-BNmb4kyX.js";import{Q as R}from"./suspense-CTq0yTTK.js";import{Q as b}from"./queryClient-D4B1D7TN.js";import"./preload-helper-PPVm8Dsz.js";import"./Box-BOg-vuMP.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./Grid-1nQ5vvaE.js";import"./useTheme-B7Cqxh2G.js";import"./styled-DdCwn5Ke.js";import"./styled-BM-ddlS9.js";import"./isMuiElement-BdI-HeXQ.js";import"./Stack-DLX-eFuT.js";import"./Container-DqMY3rTf.js";import"./index-ChEw8Ly-.js";import"./___vite-browser-external_commonjs-proxy-Dln5QaD1.js";import"./index-BhnKf5D0.js";import"./_toKey-CDTJfhSv.js";import"./List-BiE2s1yi.js";import"./ListItem-Cy0EOO0Q.js";import"./memoTheme-Bs2nn0CZ.js";import"./useForkRef-CqxV8UPS.js";import"./isHostComponent-DVu5iVWx.js";import"./ListItemText-IqL92u7D.js";import"./listItemTextClasses-CiRxluPw.js";import"./useSlot-r4YEcyId.js";import"./mergeSlotProps-B23xrLHr.js";import"./Typography-dKvhZPmN.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ListItemIcon-CC-QlFK7.js";import"./listItemIconClasses-CyGEUV5Q.js";import"./ListItemButton-DHrWzNXT.js";import"./ButtonBase-DOxBZg-r.js";import"./useTimeout-DLwU38Ef.js";import"./TransitionGroupContext-9H431pbn.js";import"./useEventCallback-BVOh0J-M.js";import"./isFocusVisible-B8k4qzLc.js";import"./PaginationItem-DHS6BVv8.js";import"./index-DVq5OAtC.js";import"./faCircleArrowRight-B87giHcC.js";import"./faUser-meEUFR5-.js";import"./SvgIcon-DKZWjmjR.js";import"./PaginationItem-DCYthC-V.js";import"./createSvgIcon-CpO6BPRg.js";import"./Pagination-DmF3CGIo.js";import"./useControlled-DdT90daF.js";import"./useBaseQuery-uT3bFQci.js";import"./infiniteQueryBehavior-BTtYVWpE.js";const j=async({page:t,itemsPerPage:i=10,parameters:o={},getResult:a,resource:e})=>{const s={limit:i,offset:(t-1)*i,...o.params},l=e.addParams(s,o),n=await e.postGet(s,l),m=a||e.getResult,u=(typeof m=="function"?m.call(e,n.data):n.data[m])||n.data;if(!Array.isArray(u))throw new TypeError(`Expected data to be an array but got \`${typeof u}\`. Use the \`getResult\` prop to specify how to get the data from the API response.`);return{items:u,totalCount:n.data.totalCount}},c=({page:t,itemsPerPage:i,parameters:o,getResult:a,resource:e})=>v(["resource",t],()=>j({page:t,itemsPerPage:i,parameters:o,getResult:a,resource:e}));try{c.displayName="useResourcePagination",c.__docgenInfo={description:"",displayName:"useResourcePagination",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},getResult:{defaultValue:null,description:'When a function, the function is called with the response body from the API call and is expected to return an array containing the list of items for the page. When a string, the string is expected to be a simple key used to get the value from the response. ("simple" means dot notation is not supported for grabbing values from nested objects. If your result is deeply nested, provide a function)',name:"getResult",required:!0,type:{name:"string | ((result: TData) => unknown[])"}},itemsPerPage:{defaultValue:{value:"10"},description:"If array, defaults `totalCount` to the length of the array, and page values are sliced from the Array. If a function, it is called with the current page as an argument and expects an array of items to be returned.",name:"itemsPerPage",required:!1,type:{name:"number"}},parameters:{defaultValue:{value:"{}"},description:"Object use to create querystring parameters in the request.",name:"parameters",required:!1,type:{name:"{ params?: Record<string, unknown>; } & Record<string, unknown>"}},resource:{defaultValue:null,description:"Availity API resource (see [@availity/api-axios](https://github.com/Availity/sdk-js/tree/master/packages/api-axios)).",name:"resource",required:!0,type:{name:"Resource<TData>"}}}}}catch{}const je={title:"Components/Pagination/useResourcePagination",component:d,tags:["autodocs"],decorators:[t=>r.jsx(R,{client:new b,children:r.jsx(t,{})})],args:{count:10}},p={render:()=>{const[t,i]=g.useState(1),o=10,a=c({page:t,resource:h,getResult:e=>e.organizations,itemsPerPage:o});return a.isLoading?r.jsx("div",{children:"Loading..."}):a.data?r.jsxs(f,{children:[r.jsx(y,{children:a.data?.items.map(e=>r.jsx(P,{children:r.jsx(x,{primary:e.name,secondary:e.customerId})}))}),r.jsx(d,{page:t,count:Math.ceil(Math.abs(a.data.totalCount/o)),onChange:(e,s)=>i(s)})]}):r.jsx("div",{children:"Error"})}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [page, setPage] = useState(1);
    const itemsPerPage = 10;
    const resp = useResourcePagination({
      page,
      resource: avOrganizationsApi,
      getResult: result => result.organizations,
      itemsPerPage
    });
    if (resp.isLoading) {
      return <div>Loading...</div>;
    }
    return resp.data ? <Box>
        <List>
          {resp.data?.items.map(item => <ListItem>
              <ListItemText primary={item.name} secondary={item.customerId} />
            </ListItem>)}
        </List>
        <Pagination page={page} count={Math.ceil(Math.abs(resp.data.totalCount / itemsPerPage))} onChange={(event, newPage) => setPage(newPage)} />
      </Box> : <div>Error</div>;
  }
}`,...p.parameters?.docs?.source}}};const Ie=["_useResourcePagination"];export{Ie as __namedExportsOrder,p as _useResourcePagination,je as default};
