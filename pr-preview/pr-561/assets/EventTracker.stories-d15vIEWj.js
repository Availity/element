import{j as e}from"./jsx-runtime-CcL-W3nW.js";import{r as o}from"./index-DcWiA9TO.js";import{T as x}from"./index-Bssefeeu.js";import{G as f,B as T}from"./index-Dnj5y9bu.js";import{d,g as S,h as w}from"./index-BlC5JLGo.js";import{T as C}from"./index-D69ufRNP.js";import{M as v}from"./index-DdX9Jy9G.js";import{B as h}from"./index-DSGElAqY.js";import{A as V}from"./index-BDGE-Boz.js";import{F as g}from"./FormControl-BhCdTdWt.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Typography-Dw3TlP36.js";import"./generateUtilityClass-DELP8s2G.js";import"./identifier-CenlGZaM.js";import"./index-BKNdG2lN.js";import"./extendSxProp-w61GJfY-.js";import"./DefaultPropsProvider-LCKMq1Iv.js";import"./useTheme-DwYC2ms6.js";import"./emotion-react.browser.esm-BKUJyPAt.js";import"./memoTheme-CIpOTVoB.js";import"./styled-wZqJTO_n.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./generateUtilityClasses-duJ5YrlI.js";import"./Box-DR5TX31P.js";import"./Grid2-CHb9J3Cd.js";import"./useTheme-Cf-RAc4Y.js";import"./styled-CIC6PLSI.js";import"./isMuiElement-DAzOCCHH.js";import"./useThemeProps-BAwiOWAz.js";import"./Stack-BPYMGdgv.js";import"./Container-7wpQgvnn.js";import"./index-DMWJB0MK.js";import"./index-BDqO7SwG.js";import"./faUser-CAcveCor.js";import"./SvgIcon-DfAk99tL.js";import"./faCheck-B05F4ORy.js";import"./Select-Dt0UCwxY.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-68oiojFJ.js";import"./Menu-BU9jXi-3.js";import"./index-nos-0K8U.js";import"./useSlotProps-DE50rPTb.js";import"./resolveComponentProps-D4XT56l6.js";import"./useForkRef-BVrIj09m.js";import"./Popover-CSXcjUnK.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-CaH4cQiJ.js";import"./Portal-D32Mdiva.js";import"./utils-D5ZkK9XY.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./TransitionGroupContext-D-IBNIfW.js";import"./index-BEx9gAkE.js";import"./useTimeout-B8wmcRZV.js";import"./useEnhancedEffect-D2f2tbda.js";import"./getReactElementRef-AnOffBoZ.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Paper-DoDJPSvm.js";import"./Modal-B_4-9GXq.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-4xfgJS0q.js";import"./Fade-DlB6bWB0.js";import"./List-BRpAtMOZ.js";import"./utils-DoM3o7-Q.js";import"./useControlled-WdbyInBW.js";import"./useId-DszduLV4.js";import"./createSvgIcon-BzSwLqYD.js";import"./OutlinedInput-BeuFtjMr.js";import"./FormLabel-CZFypZnO.js";import"./FormControlLabel-CImDabQe.js";import"./Switch-CXk7mhi6.js";import"./SwitchBase-CHDa-0k7.js";import"./ButtonBase-Ctwr4_Dd.js";import"./isFocusVisible-B8k4qzLc.js";import"./RadioGroup-B7AA9dKi.js";import"./Divider-Dys0WftY.js";import"./dividerClasses-C6lHB_qP.js";import"./TextField-DnlxDaFs.js";import"./MenuItem-DmzwdCRd.js";import"./listItemTextClasses-DjWz3xcn.js";import"./Tooltip-BNHD4B5V.js";import"./IconButton-DGohL5ME.js";import"./CircularProgress-D2topXWR.js";import"./Button-C-tuTFv-.js";import"./LoadingButton-BK9aMQRn.js";import"./_toKey-MoF_TmUD.js";import"./index-DU6B-1ee.js";const E=o.createContext(null),P=()=>{const t=o.useContext(E);if(!t)throw new Error("useEventTracker must be used within an EventTrackerProvider");return t},u=({children:t,plugins:a,pageTracking:n=!0,autoTrack:s=!0,recursive:i=!0,attributePrefix:l="data-analytics",eventModifiers:c=["action"]})=>{const r=o.useMemo(()=>new V(a,Promise,n,s,{recursive:i,attributePrefix:l,eventModifiers:c}),[l,s,c,n,a,i]);return o.useEffect(()=>(r.init(),n&&r.trackPageView(),()=>r.stopAutoTrack()),[r,n]),e.jsx(E.Provider,{value:r,children:t})};try{u.displayName="EventTrackerProvider",u.__docgenInfo={description:"",displayName:"EventTrackerProvider",props:{plugins:{defaultValue:null,description:"An array of plugins to pass to the underlying AvAnalytics class instance.",name:"plugins",required:!1,type:{name:"any[]"}},pageTracking:{defaultValue:{value:"true"},description:"Enable or disable page tracking on initialization.",name:"pageTracking",required:!1,type:{name:"boolean"}},autoTrack:{defaultValue:{value:"true"},description:"Enable or disable auto tracking on initialization.",name:"autoTrack",required:!1,type:{name:"boolean"}},recursive:{defaultValue:{value:"true"},description:"Enable or disable recursive functionality on initialization.",name:"recursive",required:!1,type:{name:"boolean"}},attributePrefix:{defaultValue:{value:"data-analytics"},description:"Customize the prefix used for data event tracker attributes used for auto tracking.",name:"attributePrefix",required:!1,type:{name:"string"}},eventModifiers:{defaultValue:{value:"['action']"},description:"Array of event modifiers enabling you to use other keywords for action instead of click for event type matching.",name:"eventModifiers",required:!1,type:{name:"any[]"}}}}}catch{}const mt={title:"Components/EventTracker/EventTracker",component:u,tags:["autodocs"]},_=({count:t,state:a,selectValue:n,setCount:s,setSelectValue:i})=>{const{trackEvent:l}=P(),c=r=>{i(r.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:["This example is set up to track user events. ",e.jsx("code",{children:"Select"})," allows logging for the blur event.",e.jsx("br",{}),e.jsx("code",{children:"Textarea"})," and ",e.jsx("code",{children:"Input"})," log when focused. Both of these buttons log when clicked."]}),e.jsxs(x,{children:["Events logged: ",t]}),e.jsxs("pre",{children:["LastEvent: ",a]}),e.jsxs(f,{container:!0,direction:"column",sx:{maxWidth:"500px"},"data-analytics-app-name":"app",children:[e.jsxs(g,{children:[e.jsx(d,{id:"select-label",children:"Select"}),e.jsxs(S,{labelId:"select-label",value:n,onChange:c,onBlur:()=>l({action:"blur",appName:"app",elemId:"select-label",event:"blur"}),children:[e.jsx(v,{value:"10",children:"10"}),e.jsx(v,{value:"20",children:"20"}),e.jsx(v,{value:"30",children:"30"})]})]}),e.jsx(T,{sx:{marginTop:2},children:e.jsxs(g,{children:[e.jsx(d,{id:"textarea-label",htmlFor:"textarea",children:"Text Area"}),e.jsx(C,{id:"textarea",multiline:!0,"data-analytics-action":"focus"})]})}),e.jsxs(g,{children:[e.jsx(d,{id:"input-label",htmlFor:"input",children:"Input"}),e.jsx(w,{id:"input","data-analytics-action":"focus"})]}),e.jsxs(f,{container:!0,sx:{justifyContent:"space-between",marginTop:2},"data-analytics-container":"buttons",children:[e.jsx(h,{id:"reset-button","data-analytics-action":"click","data-analytics-test-id":"world",onClick:()=>s(0),color:"secondary",children:"Reset Count"}),e.jsx(h,{id:"my-button","data-analytics-action":"click","data-analytics-test-id":"hello",color:"primary",children:"Click Me"})]})]})]})},m={render:t=>{const[a,n]=o.useState(""),[s,i]=o.useState(0),[l,c]=o.useState(""),r=o.useMemo(()=>[{isEnabled:()=>(console.log("checking isEnabled"),!0),init:()=>{console.log("init")},trackEvent(p){console.log("track event",p),n(JSON.stringify(p,null,2)),i(j=>j+1)},trackPageView(p){console.log("track page view",p)}}],[]);return e.jsx(u,{...t,plugins:r,children:e.jsx(_,{count:s,setCount:i,state:a,selectValue:l,setSelectValue:c})})},args:{eventModifiers:["action"],recursive:!0}};var k,y,b;m.parameters={...m.parameters,docs:{...(k=m.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: (args: EventTrackerProps) => {
    const [state, setState] = useState('');
    const [count, setCount] = useState(0);
    const [selectValue, setSelectValue] = useState('');
    const plugins = useMemo(() => [{
      isEnabled: () => {
        console.log('checking isEnabled');
        return true;
      },
      init: () => {
        console.log('init');
      },
      trackEvent(event: unknown) {
        console.log('track event', event);
        setState(JSON.stringify(event, null, 2));
        setCount(current => current + 1);
      },
      trackPageView(url: unknown) {
        console.log('track page view', url);
      }
    }], []);
    return <EventTrackerProvider {...args} plugins={plugins}>
        <EventTrackerUI count={count} setCount={setCount} state={state} selectValue={selectValue} setSelectValue={setSelectValue} />
      </EventTrackerProvider>;
  },
  args: {
    eventModifiers: ['action'],
    recursive: true
  }
}`,...(b=(y=m.parameters)==null?void 0:y.docs)==null?void 0:b.source}}};const ut=["_EventTracker"];export{m as _EventTracker,ut as __namedExportsOrder,mt as default};
