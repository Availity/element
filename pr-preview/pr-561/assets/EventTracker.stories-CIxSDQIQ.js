import{j as e}from"./jsx-runtime-CcL-W3nW.js";import{r as n}from"./index-DcWiA9TO.js";import{T as x}from"./index-yTp6TMTk.js";import{G as f,B as T}from"./index-BObrA9Y-.js";import{d,g as S,h as w}from"./index-BPVUk_cQ.js";import{T as C}from"./index-DaRMplxe.js";import{M as v}from"./index-Dipaj9Sf.js";import{B as h}from"./index-CDwEgPAM.js";import{A as V}from"./index-5RfWzblP.js";import{F as g}from"./FormControl-DxHQf2_s.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Typography-Cng4iL4p.js";import"./generateUtilityClass-Bqc1qv72.js";import"./createTheme-CKCRSfxM.js";import"./index-D-S2KyN4.js";import"./extendSxProp-BKaoT_Qt.js";import"./DefaultPropsProvider-CIAoFptl.js";import"./useTheme-BUEqHFQV.js";import"./emotion-react.browser.esm-rTq5AsO6.js";import"./memoTheme-DvanvhnP.js";import"./styled-Dbr85gFc.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./generateUtilityClasses-DyVAdLaw.js";import"./Box-BAeL439g.js";import"./Grid2-CanCOREk.js";import"./useTheme-ChS1Y5Lw.js";import"./styled-C36SNKZX.js";import"./isMuiElement-DAzOCCHH.js";import"./useThemeProps-YZ7_EcgO.js";import"./Stack-C5Zrd0Q6.js";import"./Container-nY1JXDIQ.js";import"./index-DMWJB0MK.js";import"./index--IoBtPgS.js";import"./faCircleArrowRight-fEvkKBkH.js";import"./faUser-DXPB7Q64.js";import"./faSortDown-nq-jkck6.js";import"./SvgIcon-BS-p1eoC.js";import"./faCheck-B05F4ORy.js";import"./Select-Bh3HlTBm.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-68oiojFJ.js";import"./Menu-BNF0dZPe.js";import"./index-nos-0K8U.js";import"./useSlotProps-Cuv6gcjd.js";import"./resolveComponentProps-BiTA-uKg.js";import"./useForkRef-BVrIj09m.js";import"./Popover-DJDHQo2S.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-DO4SmqlR.js";import"./Portal-CKWfQBCE.js";import"./utils-D5ZkK9XY.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./TransitionGroupContext-D-IBNIfW.js";import"./index-BEx9gAkE.js";import"./useTimeout-B8wmcRZV.js";import"./useEnhancedEffect-D2f2tbda.js";import"./getReactElementRef-AnOffBoZ.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Paper-CvfFJp8a.js";import"./Modal-CzgY4V0Y.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-B9IVkNZn.js";import"./Fade-DbM47FxC.js";import"./List-Ce1NCs06.js";import"./utils-DoM3o7-Q.js";import"./useControlled-WdbyInBW.js";import"./useId-DszduLV4.js";import"./createSvgIcon-IUeEQzFc.js";import"./OutlinedInput-DUFM6NiM.js";import"./FormLabel-DrJE-ijH.js";import"./FormControlLabel-DLlzi5Ft.js";import"./Switch-6eDJgjyT.js";import"./SwitchBase-DPjFJeLH.js";import"./ButtonBase-DQZrtVrL.js";import"./isFocusVisible-B8k4qzLc.js";import"./RadioGroup-DLgS-ogh.js";import"./Divider-D_YJaRgz.js";import"./dividerClasses-Dy0fxzds.js";import"./TextField-D_phNllt.js";import"./MenuItem-philOZTp.js";import"./listItemTextClasses-D4YKThxo.js";import"./Tooltip-eF_7lzc5.js";import"./IconButton-v3cBwN0V.js";import"./CircularProgress-BHFEuwTi.js";import"./Button-B22iKlEO.js";import"./LoadingButton-B6FUrH4t.js";import"./_toKey-MoF_TmUD.js";const E=n.createContext(null),P=()=>{const t=n.useContext(E);if(!t)throw new Error("useEventTracker must be used within an EventTrackerProvider");return t},u=({children:t,plugins:a,pageTracking:o=!0,autoTrack:s=!0,recursive:i=!0,attributePrefix:l="data-analytics",eventModifiers:c=["action"]})=>{const r=n.useMemo(()=>new V(a,Promise,o,s,{recursive:i,attributePrefix:l,eventModifiers:c}),[l,s,c,o,a,i]);return n.useEffect(()=>(r.init(),o&&r.trackPageView(),()=>r.stopAutoTrack()),[r,o]),e.jsx(E.Provider,{value:r,children:t})};try{u.displayName="EventTrackerProvider",u.__docgenInfo={description:"",displayName:"EventTrackerProvider",props:{plugins:{defaultValue:null,description:"An array of plugins to pass to the underlying AvAnalytics class instance.",name:"plugins",required:!1,type:{name:"any[]"}},pageTracking:{defaultValue:{value:"true"},description:"Enable or disable page tracking on initialization.",name:"pageTracking",required:!1,type:{name:"boolean"}},autoTrack:{defaultValue:{value:"true"},description:"Enable or disable auto tracking on initialization.",name:"autoTrack",required:!1,type:{name:"boolean"}},recursive:{defaultValue:{value:"true"},description:"Enable or disable recursive functionality on initialization.",name:"recursive",required:!1,type:{name:"boolean"}},attributePrefix:{defaultValue:{value:"data-analytics"},description:"Customize the prefix used for data event tracker attributes used for auto tracking.",name:"attributePrefix",required:!1,type:{name:"string"}},eventModifiers:{defaultValue:{value:"['action']"},description:"Array of event modifiers enabling you to use other keywords for action instead of click for event type matching.",name:"eventModifiers",required:!1,type:{name:"any[]"}}}}}catch{}const ut={title:"Components/EventTracker/EventTracker",component:u,tags:["autodocs"]},_=({count:t,state:a,selectValue:o,setCount:s,setSelectValue:i})=>{const{trackEvent:l}=P(),c=r=>{i(r.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs(x,{children:["This example is set up to track user events. ",e.jsx("code",{children:"Select"})," allows logging for the blur event.",e.jsx("br",{}),e.jsx("code",{children:"Textarea"})," and ",e.jsx("code",{children:"Input"})," log when focused. Both of these buttons log when clicked."]}),e.jsxs(x,{children:["Events logged: ",t]}),e.jsxs("pre",{children:["LastEvent: ",a]}),e.jsxs(f,{container:!0,direction:"column",sx:{maxWidth:"500px"},"data-analytics-app-name":"app",children:[e.jsxs(g,{children:[e.jsx(d,{id:"select-label",children:"Select"}),e.jsxs(S,{labelId:"select-label",value:o,onChange:c,onBlur:()=>l({action:"blur",appName:"app",elemId:"select-label",event:"blur"}),children:[e.jsx(v,{value:"10",children:"10"}),e.jsx(v,{value:"20",children:"20"}),e.jsx(v,{value:"30",children:"30"})]})]}),e.jsx(T,{sx:{marginTop:2},children:e.jsxs(g,{children:[e.jsx(d,{id:"textarea-label",htmlFor:"textarea",children:"Text Area"}),e.jsx(C,{id:"textarea",multiline:!0,"data-analytics-action":"focus"})]})}),e.jsxs(g,{children:[e.jsx(d,{id:"input-label",htmlFor:"input",children:"Input"}),e.jsx(w,{id:"input","data-analytics-action":"focus"})]}),e.jsxs(f,{container:!0,sx:{justifyContent:"space-between",marginTop:2},"data-analytics-container":"buttons",children:[e.jsx(h,{id:"reset-button","data-analytics-action":"click","data-analytics-test-id":"world",onClick:()=>s(0),color:"secondary",children:"Reset Count"}),e.jsx(h,{id:"my-button","data-analytics-action":"click","data-analytics-test-id":"hello",color:"primary",children:"Click Me"})]})]})]})},m={render:t=>{const[a,o]=n.useState(""),[s,i]=n.useState(0),[l,c]=n.useState(""),r=n.useMemo(()=>[{isEnabled:()=>(console.log("checking isEnabled"),!0),init:()=>{console.log("init")},trackEvent(p){console.log("track event",p),o(JSON.stringify(p,null,2)),i(j=>j+1)},trackPageView(p){console.log("track page view",p)}}],[]);return e.jsx(u,{...t,plugins:r,children:e.jsx(_,{count:s,setCount:i,state:a,selectValue:l,setSelectValue:c})})},args:{eventModifiers:["action"],recursive:!0}};var k,y,b;m.parameters={...m.parameters,docs:{...(k=m.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: (args: EventTrackerProps) => {
    const [state, setState] = useState('');
    const [count, setCount] = useState(0);
    const [selectValue, setSelectValue] = useState('');
    const plugins = useMemo(() => [{
      isEnabled: () => {
        console.log('checking isEnabled');
        return true;
      },
      init: () => {
        console.log('init');
      },
      trackEvent(event: unknown) {
        console.log('track event', event);
        setState(JSON.stringify(event, null, 2));
        setCount(current => current + 1);
      },
      trackPageView(url: unknown) {
        console.log('track page view', url);
      }
    }], []);
    return <EventTrackerProvider {...args} plugins={plugins}>
        <EventTrackerUI count={count} setCount={setCount} state={state} selectValue={selectValue} setSelectValue={setSelectValue} />
      </EventTrackerProvider>;
  },
  args: {
    eventModifiers: ['action'],
    recursive: true
  }
}`,...(b=(y=m.parameters)==null?void 0:y.docs)==null?void 0:b.source}}};const dt=["_EventTracker"];export{m as _EventTracker,dt as __namedExportsOrder,ut as default};
