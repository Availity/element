import{r as c,j as h,am as d,ae as P}from"./iframe-DKPLEfLw.js";import{f as V,i as q,n as v,o as L,p as R,q as y,r as j,s as A,t as _,v as x,w as O,u as U,a as D,b as W,c as X,d as N,j as J,k as F,l as $}from"./TreeItem-BkAN1Y3x.js";import{g as G}from"./generateUtilityClass-BtcU_pBl.js";import{g as H}from"./generateUtilityClasses-DDbjFgb8.js";import{u as z}from"./EventManager-DE69Uj1w.js";import{u as K}from"./useSlotProps-RoKiuIH8.js";import{s as Y,c as B}from"./styled-DmVvl1cy.js";function Q(n){return G("MuiSimpleTreeView",n)}H("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);function Z(n){return n.replace(/["\\]/g,"\\$&")}const E=c.createContext(null);function k(n){const{children:e,itemId:r=null,idAttribute:a}=n,{instance:u,store:t,rootRef:s}=V(),i=c.useRef(new Map);c.useEffect(()=>{if(!s.current)return;const o=q.itemOrderedChildrenIds(t.state,r??null)??[],m=Z(a??s.current.id);if(r!=null){const p=s.current.querySelector(`*[id="${m}"][role="treeitem"]`);if(p&&p.getAttribute("aria-expanded")==="false")return}const I=s.current.querySelectorAll(`${r==null?"":`*[id="${m}"] `}[role="treeitem"]:not(*[id="${m}"] [role="treeitem"] [role="treeitem"])`),f=Array.from(I).map(p=>i.current.get(p.id));(f.length!==o.length||f.some((p,w)=>p!==o[w]))&&u.setJSXItemsOrderedChildrenIds(r??null,f)});const l=c.useMemo(()=>({registerChild:(o,m)=>i.current.set(o,m),unregisterChild:o=>i.current.delete(o),parentId:r}),[r]);return h.jsx(E.Provider,{value:l,children:e})}const T=({instance:n,store:e})=>{n.preventItemUpdates();const r=v(t=>{if(e.state.items.itemMetaLookup[t.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${t.id}"`].join(`
`));return e.set("items",d({},e.state.items,{itemMetaLookup:d({},e.state.items.itemMetaLookup,{[t.id]:t}),itemModelLookup:d({},e.state.items.itemModelLookup,{[t.id]:{id:t.id,label:t.label??""}})})),()=>{const s=d({},e.state.items.itemMetaLookup),i=d({},e.state.items.itemModelLookup);delete s[t.id],delete i[t.id],e.set("items",d({},e.state.items,{itemMetaLookup:s,itemModelLookup:i}))}}),a=(t,s)=>{const i=t??R;e.set("items",d({},e.state.items,{itemOrderedChildrenIdsLookup:d({},e.state.items.itemOrderedChildrenIdsLookup,{[i]:s}),itemChildrenIndexesLookup:d({},e.state.items.itemChildrenIndexesLookup,{[i]:L(s)})}))},u=v((t,s)=>(n.updateLabelMap(i=>(i[t]=s,i)),()=>{n.updateLabelMap(i=>{const l=d({},i);return delete l[t],l})}));return{instance:{insertJSXItem:r,setJSXItemsOrderedChildrenIds:a,mapLabelFromJSX:u}}},ee=({props:n,rootRef:e,contentRef:r})=>{const{instance:a,store:u}=V(),{children:t,disabled:s=!1,label:i,itemId:l,id:o}=n,m=c.useContext(E);if(m==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:I,unregisterChild:f,parentId:b}=m,p=j(t),w=c.useRef(null),M=A(w,r),S=z(u,_.treeId);return x(()=>{const g=O({itemId:l,treeId:S,id:o});return I(g,l),()=>{f(g),f(g)}},[u,a,I,f,l,o,S]),x(()=>a.insertJSXItem({id:l,idAttribute:o,parentId:b,expandable:p,disabled:s}),[a,b,l,p,s,o]),c.useEffect(()=>{var g;if(i)return a.mapLabelFromJSX(l,(((g=w.current)==null?void 0:g.textContent)??"").toLowerCase())},[a,l,i]),{contentRef:M,rootRef:e}};T.itemPlugin=ee;T.wrapItem=({children:n,itemId:e,idAttribute:r})=>{const a=c.useContext(y);return h.jsx(k,{itemId:e,idAttribute:r,children:h.jsx(y.Provider,{value:a+1,children:n})})};T.wrapRoot=({children:n})=>h.jsx(k,{itemId:null,idAttribute:null,children:h.jsx(y.Provider,{value:0,children:n})});T.params={};const te=[U,D,W,X,N,T],ne=["slots","slotProps"],ie=J(),se=n=>{const{classes:e}=n;return c.useMemo(()=>B({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},Q,e),[e])},ae=Y("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),re=[],le=c.forwardRef(function(e,r){const a=ie({props:e,name:"MuiSimpleTreeView"}),{slots:u,slotProps:t}=a,s=P(a,ne),{getRootProps:i,contextValue:l}=F({plugins:te,rootRef:r,props:d({},s,{items:re})}),o=se(a),m=(u==null?void 0:u.root)??ae,I=K({elementType:m,externalSlotProps:t==null?void 0:t.root,className:o.root,getSlotProps:i,ownerState:a});return h.jsx($,{contextValue:l,classes:o,slots:u,slotProps:t,children:h.jsx(m,d({},I))})}),C=({children:n,...e})=>h.jsx(le,{...e,children:n});try{C.displayName="TreeView",C.__docgenInfo={description:"",displayName:"TreeView",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!1,type:{name:"ReactNode"}},slots:{defaultValue:null,description:"Overridable component slots.",name:"slots",required:!1,type:{name:"SimpleTreeViewSlots"}},slotProps:{defaultValue:null,description:"The props used for each component slot.",name:"slotProps",required:!1,type:{name:"SimpleTreeViewSlotProps"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<SimpleTreeViewClasses>"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},apiRef:{defaultValue:null,description:"The ref object that allows Tree View manipulation. Can be instantiated with `useTreeViewApiRef()`.",name:"apiRef",required:!1,type:{name:"SimpleTreeViewApiRef"}},id:{defaultValue:null,description:`This prop is used to help implement the accessibility logic.
If you don't provide this prop. It falls back to a randomly generated id.`,name:"id",required:!1,type:{name:"string"}},onItemClick:{defaultValue:null,description:"Callback fired when the `content` slot of a given Tree Item is clicked.\n@param event The DOM event that triggered the change.\n@param itemId The id of the focused item.",name:"onItemClick",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, itemId: string) => void"}},disabledItemsFocusable:{defaultValue:{value:"false"},description:"If `true`, will allow focus on disabled items.",name:"disabledItemsFocusable",required:!1,type:{name:"boolean"}},itemChildrenIndentation:{defaultValue:{value:"12px"},description:`Horizontal indentation between an item and its children.
Examples: 24, "24px", "2rem", "2em".`,name:"itemChildrenIndentation",required:!1,type:{name:"string | number"}},expandedItems:{defaultValue:null,description:`Expanded item ids.
Used when the item's expansion is controlled.`,name:"expandedItems",required:!1,type:{name:"string[]"}},defaultExpandedItems:{defaultValue:{value:"[]"},description:`Expanded item ids.
Used when the item's expansion is not controlled.`,name:"defaultExpandedItems",required:!1,type:{name:"string[]"}},onExpandedItemsChange:{defaultValue:null,description:"Callback fired when Tree Items are expanded/collapsed.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemExpansion()` method.\n@param itemIds The ids of the expanded items.",name:"onExpandedItemsChange",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemIds: string[]) => void"}},onItemExpansionToggle:{defaultValue:null,description:"Callback fired when a Tree Item is expanded or collapsed.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemExpansion()` method.\n@param itemId The itemId of the modified item.\n@param isExpanded `true` if the item has just been expanded, `false` if it has just been collapsed.",name:"onItemExpansionToggle",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemId: string, isExpanded: boolean) => void"}},expansionTrigger:{defaultValue:{value:"'content'"},description:"The slot that triggers the item's expansion when clicked.",name:"expansionTrigger",required:!1,type:{name:'"content" | "iconContainer"'}},onItemFocus:{defaultValue:null,description:`Callback fired when a given Tree Item is focused.
@param event The DOM event that triggered the change. **Warning**: This is a generic event not a focus event.
@param itemId The id of the focused item.`,name:"onItemFocus",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemId: string) => void"}},disableSelection:{defaultValue:{value:"false"},description:"If `true` selection is disabled.",name:"disableSelection",required:!1,type:{name:"boolean"}},defaultSelectedItems:{defaultValue:{value:"[]"},description:"Selected item ids. (Uncontrolled)\nWhen `multiSelect` is true this takes an array of strings; when false (default) a string.",name:"defaultSelectedItems",required:!1,type:{name:"string[]"}},selectedItems:{defaultValue:null,description:"Selected item ids. (Controlled)\nWhen `multiSelect` is true this takes an array of strings; when false (default) a string.",name:"selectedItems",required:!1,type:{name:"string[]"}},multiSelect:{defaultValue:{value:"false"},description:"If `true`, `ctrl` and `shift` will trigger multiselect.",name:"multiSelect",required:!1,type:{name:"true"}},checkboxSelection:{defaultValue:{value:"false"},description:"If `true`, the Tree View renders a checkbox at the left of its label that allows selecting it.",name:"checkboxSelection",required:!1,type:{name:"boolean"}},selectionPropagation:{defaultValue:{value:"{ parents: false, descendants: false }"},description:"When `selectionPropagation.descendants` is set to `true`.\n\n- Selecting a parent selects all its descendants automatically.\n- Deselecting a parent deselects all its descendants automatically.\n\nWhen `selectionPropagation.parents` is set to `true`.\n\n- Selecting all the descendants of a parent selects the parent automatically.\n- Deselecting a descendant of a selected parent deselects the parent automatically.\n\nOnly works when `multiSelect` is `true`.\nOn the <SimpleTreeView />, only the expanded items are considered (since the collapsed item are not passed to the Tree View component at all)",name:"selectionPropagation",required:!1,type:{name:"TreeViewSelectionPropagation"}},onSelectedItemsChange:{defaultValue:null,description:"Callback fired when Tree Items are selected/deselected.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemSelection()` method.\n@param itemIds The ids of the selected items.\nWhen `multiSelect` is `true`, this is an array of strings; when false (default) a string.",name:"onSelectedItemsChange",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemIds: string[]) => void"}},onItemSelectionToggle:{defaultValue:null,description:"Callback fired when a Tree Item is selected or deselected.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemSelection()` method.\n@param itemId The itemId of the modified item.\n@param isSelected `true` if the item has just been selected, `false` if it has just been deselected.",name:"onItemSelectionToggle",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemId: string, isSelected: boolean) => void"}}}}}catch{}export{C as T};
