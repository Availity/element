import{j as e}from"./jsx-runtime-BTJTZTIL.js";import{r as o}from"./index-BgYLq7fD.js";import{T as g}from"./index-ClMemn8c.js";import{G as f,B as T}from"./index-DmY_4rvh.js";import{F as d,i as S,j as w}from"./index-BJt3X_mY.js";import{T as C}from"./index-Dctfm71e.js";import{M as v}from"./index-BXajI0Rm.js";import{B as h}from"./index-k9OtkSpc.js";import{A as V}from"./index-Bj3ShiuH.js";import{F as x}from"./FormControl-eNKWX08Y.js";import"./index-ChsGqxH_.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./Typography-geKghQyJ.js";import"./generateUtilityClass-GxznSYtt.js";import"./identifier-CHUoN9pF.js";import"./index-Df15702_.js";import"./extendSxProp-BZnzVrgj.js";import"./DefaultPropsProvider-ArLX9SCD.js";import"./useTheme-CVByJb8R.js";import"./emotion-react.browser.esm-DW5OmoQI.js";import"./memoTheme-BLrvrRyo.js";import"./styled-FZfCzBz5.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./generateUtilityClasses-aotQgNYZ.js";import"./Box-BU2WakPM.js";import"./Grid2-BbvvmKhh.js";import"./useTheme-BGaXYmwe.js";import"./styled-CsKbBpC_.js";import"./isMuiElement-DiOAsJE6.js";import"./useThemeProps-BNBLMFIr.js";import"./Stack-2ILcP_1D.js";import"./Container-DvcsWH8C.js";import"./index-DJKl12U0.js";import"./index-Daj15cVv.js";import"./faCircleArrowRight-B14F5Piw.js";import"./faUser-D77uLSLS.js";import"./faSortDown-BIc1sKK4.js";import"./SvgIcon-D3xe1wVB.js";import"./faCheck-BUdkY9Qv.js";import"./Select-D8Pqa1Dd.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-t_-EwZHM.js";import"./Menu-BUIr0rCt.js";import"./index-DyJdRKzS.js";import"./useSlotProps-DT0tbkWv.js";import"./resolveComponentProps-XMphxBSb.js";import"./useForkRef-Dz4aGlyk.js";import"./Popover-DNs0CrC2.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-qvYlW2UV.js";import"./Portal-DEVqEMA6.js";import"./utils-tFrEP9Vf.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./TransitionGroupContext-BKlA24Pm.js";import"./index-Bxu_udwM.js";import"./index-DdXvKv-Q.js";import"./useTimeout-iC_34LsC.js";import"./useEnhancedEffect-j2zQLnYm.js";import"./getReactElementRef-Df0xbma2.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./Paper-zGtC1N39.js";import"./Modal-BSor9Am9.js";import"./Backdrop-DwIksyfj.js";import"./Fade-rL0rk9XF.js";import"./List-CN2yCDHK.js";import"./OutlinedInput-ClKDCKpR.js";import"./useControlled-DxC1uCGX.js";import"./useId-DIK8ekB4.js";import"./createSvgIcon-DK1T27V3.js";import"./FormControlLabel-NrRuXsuu.js";import"./Switch-BMNMooHv.js";import"./SwitchBase-DpeF2ikX.js";import"./ButtonBase-DwAEbHIm.js";import"./isFocusVisible-B8k4qzLc.js";import"./RadioGroup-CGGGzwtq.js";import"./Divider-CE8hkX1u.js";import"./dividerClasses-Cy3VQ5Zc.js";import"./TextField-Dbm3e8rv.js";import"./MenuItem-B0sbJV79.js";import"./listItemTextClasses-BE6nMJZB.js";import"./Tooltip-Xh9QA514.js";import"./IconButton-BFylt634.js";import"./CircularProgress-o1goEU37.js";import"./Button-DrYdciQ0.js";import"./LoadingButton-C6EjcQI6.js";import"./_toKey-DFcMYS53.js";const E=o.createContext(null),P=()=>{const t=o.useContext(E);if(!t)throw new Error("useEventTracker must be used within an EventTrackerProvider");return t},u=({children:t,plugins:a,pageTracking:n=!0,autoTrack:s=!0,recursive:i=!0,attributePrefix:l="data-analytics",eventModifiers:c=["action"]})=>{const r=o.useMemo(()=>new V(a,Promise,n,s,{recursive:i,attributePrefix:l,eventModifiers:c}),[l,s,c,n,a,i]);return o.useEffect(()=>(r.init(),n&&r.trackPageView(),()=>r.stopAutoTrack()),[r,n]),e.jsx(E.Provider,{value:r,children:t})};try{u.displayName="EventTrackerProvider",u.__docgenInfo={description:"",displayName:"EventTrackerProvider",props:{plugins:{defaultValue:null,description:"An array of plugins to pass to the underlying AvAnalytics class instance.",name:"plugins",required:!1,type:{name:"any[]"}},pageTracking:{defaultValue:{value:"true"},description:"Enable or disable page tracking on initialization.",name:"pageTracking",required:!1,type:{name:"boolean"}},autoTrack:{defaultValue:{value:"true"},description:"Enable or disable auto tracking on initialization.",name:"autoTrack",required:!1,type:{name:"boolean"}},recursive:{defaultValue:{value:"true"},description:"Enable or disable recursive functionality on initialization.",name:"recursive",required:!1,type:{name:"boolean"}},attributePrefix:{defaultValue:{value:"data-analytics"},description:"Customize the prefix used for data event tracker attributes used for auto tracking.",name:"attributePrefix",required:!1,type:{name:"string"}},eventModifiers:{defaultValue:{value:"['action']"},description:"Array of event modifiers enabling you to use other keywords for action instead of click for event type matching.",name:"eventModifiers",required:!1,type:{name:"any[]"}}}}}catch{}const mt={title:"Components/EventTracker/EventTracker",component:u,tags:["autodocs"]},_=({count:t,state:a,selectValue:n,setCount:s,setSelectValue:i})=>{const{trackEvent:l}=P(),c=r=>{i(r.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs(g,{children:["This example is set up to track user events. ",e.jsx("code",{children:"Select"})," allows logging for the blur event.",e.jsx("br",{}),e.jsx("code",{children:"Textarea"})," and ",e.jsx("code",{children:"Input"})," log when focused. Both of these buttons log when clicked."]}),e.jsxs(g,{children:["Events logged: ",t]}),e.jsxs("pre",{children:["LastEvent: ",a]}),e.jsxs(f,{container:!0,direction:"column",sx:{maxWidth:"500px"},"data-analytics-app-name":"app",children:[e.jsxs(x,{children:[e.jsx(d,{id:"select-label",children:"Select"}),e.jsxs(S,{labelId:"select-label",value:n,onChange:c,onBlur:()=>l({action:"blur",appName:"app",elemId:"select-label",event:"blur"}),children:[e.jsx(v,{value:"10",children:"10"}),e.jsx(v,{value:"20",children:"20"}),e.jsx(v,{value:"30",children:"30"})]})]}),e.jsx(T,{sx:{marginTop:2},children:e.jsxs(x,{children:[e.jsx(d,{id:"textarea-label",htmlFor:"textarea",children:"Text Area"}),e.jsx(C,{id:"textarea",multiline:!0,"data-analytics-action":"focus"})]})}),e.jsxs(x,{children:[e.jsx(d,{id:"input-label",htmlFor:"input",children:"Input"}),e.jsx(w,{id:"input","data-analytics-action":"focus"})]}),e.jsxs(f,{container:!0,sx:{justifyContent:"space-between",marginTop:2},"data-analytics-container":"buttons",children:[e.jsx(h,{id:"reset-button","data-analytics-action":"click","data-analytics-test-id":"world",onClick:()=>s(0),color:"secondary",children:"Reset Count"}),e.jsx(h,{id:"my-button","data-analytics-action":"click","data-analytics-test-id":"hello",color:"primary",children:"Click Me"})]})]})]})},m={render:t=>{const[a,n]=o.useState(""),[s,i]=o.useState(0),[l,c]=o.useState(""),r=o.useMemo(()=>[{isEnabled:()=>(console.log("checking isEnabled"),!0),init:()=>{console.log("init")},trackEvent(p){console.log("track event",p),n(JSON.stringify(p,null,2)),i(j=>j+1)},trackPageView(p){console.log("track page view",p)}}],[]);return e.jsx(u,{...t,plugins:r,children:e.jsx(_,{count:s,setCount:i,state:a,selectValue:l,setSelectValue:c})})},args:{eventModifiers:["action"],recursive:!0}};var k,y,b;m.parameters={...m.parameters,docs:{...(k=m.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: (args: EventTrackerProps) => {
    const [state, setState] = useState('');
    const [count, setCount] = useState(0);
    const [selectValue, setSelectValue] = useState('');
    const plugins = useMemo(() => [{
      isEnabled: () => {
        console.log('checking isEnabled');
        return true;
      },
      init: () => {
        console.log('init');
      },
      trackEvent(event: unknown) {
        console.log('track event', event);
        setState(JSON.stringify(event, null, 2));
        setCount(current => current + 1);
      },
      trackPageView(url: unknown) {
        console.log('track page view', url);
      }
    }], []);
    return <EventTrackerProvider {...args} plugins={plugins}>
        <EventTrackerUI count={count} setCount={setCount} state={state} selectValue={selectValue} setSelectValue={setSelectValue} />
      </EventTrackerProvider>;
  },
  args: {
    eventModifiers: ['action'],
    recursive: true
  }
}`,...(b=(y=m.parameters)==null?void 0:y.docs)==null?void 0:b.source}}};const ut=["_EventTracker"];export{m as _EventTracker,ut as __namedExportsOrder,mt as default};
