import{b as N,_ as I}from"./createTheme-bcd1d157.js";import{r as u}from"./index-570b25c1.js";import"./react-is.production.min-a192e302.js";import{c as B}from"./clsx-7dc4e18d.js";import{g as J,s as O,r as Q,c as X}from"./styled-7846e708.js";import{u as Y}from"./useTheme-76c02901.js";import{u as Z}from"./useThemeProps-018254e6.js";import{g as ee}from"./generateUtilityClasses-70c60a0e.js";import{a as _}from"./jsx-runtime-a3bcee63.js";import{P as te,a as se}from"./Popover-3bb772b9.js";import{g as oe}from"./Modal-0e6ffa9c.js";import{L as re}from"./List-99d50e2c.js";import{u as ne}from"./useEnhancedEffect-460150e6.js";import{o as H}from"./ownerDocument-613eb639.js";import{u as ie}from"./useForkRef-153a0a89.js";import{u as j}from"./useSlotProps-ddd7eed7.js";const ae=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function K(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function z(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function U(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function C(t,e,o,P,m,g){let c=!1,a=m(t,e,e?o:!1);for(;a;){if(a===t.firstChild){if(c)return!1;c=!0}const h=P?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!U(a,g)||h)a=m(t,a,o);else return a.focus(),!0}return!1}const le=u.forwardRef(function(e,o){const{actions:P,autoFocus:m=!1,autoFocusItem:g=!1,children:c,className:a,disabledItemsFocusable:h=!1,disableListWrap:M=!1,onKeyDown:b,variant:v="selectedMenu"}=e,F=N(e,ae),p=u.useRef(null),E=u.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ne(()=>{m&&p.current.focus()},[m]),u.useImperativeHandle(P,()=>({adjustStyleForScrollbar:(s,r)=>{const l=!p.current.style.width;if(s.clientHeight<p.current.clientHeight&&l){const f=`${oe(H(s))}px`;p.current.style[r.direction==="rtl"?"paddingLeft":"paddingRight"]=f,p.current.style.width=`calc(100% + ${f})`}return p.current}}),[]);const R=s=>{const r=p.current,l=s.key,f=H(r).activeElement;if(l==="ArrowDown")s.preventDefault(),C(r,f,M,h,K);else if(l==="ArrowUp")s.preventDefault(),C(r,f,M,h,z);else if(l==="Home")s.preventDefault(),C(r,null,M,h,K);else if(l==="End")s.preventDefault(),C(r,null,M,h,z);else if(l.length===1){const n=E.current,y=l.toLowerCase(),w=performance.now();n.keys.length>0&&(w-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&y!==n.keys[0]&&(n.repeating=!1)),n.lastTime=w,n.keys.push(y);const T=f&&!n.repeating&&U(f,n);n.previousKeyMatched&&(T||C(r,f,!1,h,K,n))?s.preventDefault():n.previousKeyMatched=!1}b&&b(s)},x=ie(p,o);let i=-1;u.Children.forEach(c,(s,r)=>{if(!u.isValidElement(s)){i===r&&(i+=1,i>=c.length&&(i=-1));return}s.props.disabled||(v==="selectedMenu"&&s.props.selected||i===-1)&&(i=r),i===r&&(s.props.disabled||s.props.muiSkipListHighlight||s.type.muiSkipListHighlight)&&(i+=1,i>=c.length&&(i=-1))});const S=u.Children.map(c,(s,r)=>{if(r===i){const l={};return g&&(l.autoFocus=!0),s.props.tabIndex===void 0&&v==="selectedMenu"&&(l.tabIndex=0),u.cloneElement(s,l)}return s});return _(re,I({role:"menu",ref:x,className:a,onKeyDown:R,tabIndex:m?0:-1},F,{children:S}))}),ue=le;function ce(t){return J("MuiMenu",t)}ee("MuiMenu",["root","paper","list"]);const pe=["onEntering"],fe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],de={vertical:"top",horizontal:"right"},me={vertical:"top",horizontal:"left"},he=t=>{const{classes:e}=t;return X({root:["root"],paper:["paper"],list:["list"]},ce,e)},ge=O(te,{shouldForwardProp:t=>Q(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Me=O(se,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ye=O(ue,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Pe=u.forwardRef(function(e,o){var P,m;const g=Z({props:e,name:"MuiMenu"}),{autoFocus:c=!0,children:a,className:h,disableAutoFocusItem:M=!1,MenuListProps:b={},onClose:v,open:F,PaperProps:p={},PopoverClasses:E,transitionDuration:R="auto",TransitionProps:{onEntering:x}={},variant:i="selectedMenu",slots:S={},slotProps:s={}}=g,r=N(g.TransitionProps,pe),l=N(g,fe),f=Y(),n=f.direction==="rtl",y=I({},g,{autoFocus:c,disableAutoFocusItem:M,MenuListProps:b,onEntering:x,PaperProps:p,transitionDuration:R,TransitionProps:r,variant:i}),w=he(y),T=c&&!M&&F,k=u.useRef(null),$=(d,L)=>{k.current&&k.current.adjustStyleForScrollbar(d,f),x&&x(d,L)},W=d=>{d.key==="Tab"&&(d.preventDefault(),v&&v(d,"tabKeyDown"))};let D=-1;u.Children.map(a,(d,L)=>{u.isValidElement(d)&&(d.props.disabled||(i==="selectedMenu"&&d.props.selected||D===-1)&&(D=L))});const A=(P=S.paper)!=null?P:Me,G=(m=s.paper)!=null?m:p,V=j({elementType:S.root,externalSlotProps:s.root,ownerState:y,className:[w.root,h]}),q=j({elementType:A,externalSlotProps:G,ownerState:y,className:w.paper});return _(ge,I({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:n?"right":"left"},transformOrigin:n?de:me,slots:{paper:A,root:S.root},slotProps:{root:V,paper:q},open:F,ref:o,transitionDuration:R,TransitionProps:I({onEntering:$},r),ownerState:y},l,{classes:E,children:_(ye,I({onKeyDown:W,actions:k,autoFocus:c&&(D===-1||M),autoFocusItem:T,variant:i},b,{className:B(w.list,b.className),children:a}))}))}),_e=Pe;export{_e as M,ue as a};
//# sourceMappingURL=Menu-1707273c.js.map
