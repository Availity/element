import{j as r,r as g}from"./iframe-B15MwHjc.js";import{B as f}from"./index-DxM9B309.js";import{a as h}from"./index-zidQaDKy.js";import{L as y,a as P,b as x}from"./index-DqrjoGpi.js";import{P as d}from"./Pagination-BYfiGr4D.js";import{u as v}from"./useQuery-BiT6dWl0.js";import{Q as R}from"./suspense-C-metycO.js";import{Q as b}from"./queryClient-CHNRQtqZ.js";import"./preload-helper-PPVm8Dsz.js";import"./Box-YSmorlov.js";import"./generateUtilityClasses-DDbjFgb8.js";import"./generateUtilityClass-BtcU_pBl.js";import"./Grid-Dy4g6prj.js";import"./useTheme-DNjXucVs.js";import"./styled-C2cPqIG3.js";import"./styled-Dsm9_3nR.js";import"./isMuiElement-DJZ5QjLd.js";import"./Stack-D0GxJWIp.js";import"./Container-BF4wPU8W.js";import"./index-DFFr03SD.js";import"./___vite-browser-external_commonjs-proxy-C9YbHPbS.js";import"./index-DJINif8x.js";import"./_toKey-D_jrYpJ2.js";import"./List-CmAbVLaT.js";import"./ListItem-DOdtwhiB.js";import"./memoTheme-D5o8CaBh.js";import"./useSlot-CSAMaxgS.js";import"./mergeSlotProps-CdThJ-3P.js";import"./useForkRef-DuY6SZZx.js";import"./ListItemText-DU9HG8qd.js";import"./listItemTextClasses-CiRxluPw.js";import"./Typography-DGTJIKj9.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ListItemIcon-D1Mee38H.js";import"./listItemIconClasses-CyGEUV5Q.js";import"./ListItemButton-C6cIqG3S.js";import"./ButtonBase-CE7Ewp3a.js";import"./useTimeout-Cm6ZfeQK.js";import"./TransitionGroupContext-C0L_he2M.js";import"./useEventCallback-37O-Z23c.js";import"./isFocusVisible-B8k4qzLc.js";import"./PaginationItem-BOU-S3ez.js";import"./index-B-JYDf49.js";import"./faCircleArrowRight-DD93uDiF.js";import"./faUser-5enrXuLZ.js";import"./SvgIcon-B05McAjj.js";import"./PaginationItem-Dw58hSm2.js";import"./createSvgIcon-Zx_tmbTm.js";import"./Pagination-C5SK7ZjF.js";import"./useControlled-DMX50sqj.js";import"./useBaseQuery-D73nb7qP.js";import"./infiniteQueryBehavior-BTtYVWpE.js";const j=async({page:t,itemsPerPage:i=10,parameters:o={},getResult:a,resource:e})=>{const s={limit:i,offset:(t-1)*i,...o.params},l=e.addParams(s,o),n=await e.postGet(s,l),m=a||e.getResult,u=(typeof m=="function"?m.call(e,n.data):n.data[m])||n.data;if(!Array.isArray(u))throw new TypeError(`Expected data to be an array but got \`${typeof u}\`. Use the \`getResult\` prop to specify how to get the data from the API response.`);return{items:u,totalCount:n.data.totalCount}},c=({page:t,itemsPerPage:i,parameters:o,getResult:a,resource:e})=>v(["resource",t],()=>j({page:t,itemsPerPage:i,parameters:o,getResult:a,resource:e}));try{c.displayName="useResourcePagination",c.__docgenInfo={description:"",displayName:"useResourcePagination",props:{page:{defaultValue:null,description:"",name:"page",required:!0,type:{name:"number"}},getResult:{defaultValue:null,description:'When a function, the function is called with the response body from the API call and is expected to return an array containing the list of items for the page. When a string, the string is expected to be a simple key used to get the value from the response. ("simple" means dot notation is not supported for grabbing values from nested objects. If your result is deeply nested, provide a function)',name:"getResult",required:!0,type:{name:"string | ((result: TData) => unknown[])"}},itemsPerPage:{defaultValue:{value:"10"},description:"If array, defaults `totalCount` to the length of the array, and page values are sliced from the Array. If a function, it is called with the current page as an argument and expects an array of items to be returned.",name:"itemsPerPage",required:!1,type:{name:"number"}},parameters:{defaultValue:{value:"{}"},description:"Object use to create querystring parameters in the request.",name:"parameters",required:!1,type:{name:"{ params?: Record<string, unknown>; } & Record<string, unknown>"}},resource:{defaultValue:null,description:"Availity API resource (see [@availity/api-axios](https://github.com/Availity/sdk-js/tree/master/packages/api-axios)).",name:"resource",required:!0,type:{name:"Resource<TData>"}}}}}catch{}const be={title:"Components/Pagination/useResourcePagination",component:d,tags:["autodocs"],decorators:[t=>r.jsx(R,{client:new b,children:r.jsx(t,{})})],args:{count:10}},p={render:()=>{const[t,i]=g.useState(1),o=10,a=c({page:t,resource:h,getResult:e=>e.organizations,itemsPerPage:o});return a.isLoading?r.jsx("div",{children:"Loading..."}):a.data?r.jsxs(f,{children:[r.jsx(y,{children:a.data?.items.map(e=>r.jsx(P,{children:r.jsx(x,{primary:e.name,secondary:e.customerId})}))}),r.jsx(d,{page:t,count:Math.ceil(Math.abs(a.data.totalCount/o)),onChange:(e,s)=>i(s)})]}):r.jsx("div",{children:"Error"})}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [page, setPage] = useState(1);
    const itemsPerPage = 10;
    const resp = useResourcePagination({
      page,
      resource: avOrganizationsApi,
      getResult: result => result.organizations,
      itemsPerPage
    });
    if (resp.isLoading) {
      return <div>Loading...</div>;
    }
    return resp.data ? <Box>
        <List>
          {resp.data?.items.map(item => <ListItem>
              <ListItemText primary={item.name} secondary={item.customerId} />
            </ListItem>)}
        </List>
        <Pagination page={page} count={Math.ceil(Math.abs(resp.data.totalCount / itemsPerPage))} onChange={(event, newPage) => setPage(newPage)} />
      </Box> : <div>Error</div>;
  }
}`,...p.parameters?.docs?.source}}};const je=["_useResourcePagination"];export{je as __namedExportsOrder,p as _useResourcePagination,be as default};
