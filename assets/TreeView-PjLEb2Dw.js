import{al as A,r as d,j as I,as as h}from"./iframe-DPWyg_sE.js";import{u as P,i as O,k as _,d as M,m as W,n as V,h as x,o as F,p as D,M as U,E,c as X,b as N,f as J,g as $}from"./TreeItem-B0Xpehlc.js";import{g as G}from"./generateUtilityClass-BtcU_pBl.js";import{g as H}from"./generateUtilityClasses-DDbjFgb8.js";import{u as Y}from"./useSlotProps-LUJJL6zM.js";import{s as z,c as B}from"./styled-Cx4UoaTx.js";import{u as K}from"./EventManager-CkFtjAX9.js";function Q(n){return G("MuiSimpleTreeView",n)}H("MuiSimpleTreeView",["root","item","itemContent","itemGroupTransition","itemIconContainer","itemLabel","itemCheckbox"]);const Z=["apiRef","slots","slotProps","disabledItemsFocusable","onItemClick","itemChildrenIndentation","id","expandedItems","defaultExpandedItems","onExpandedItemsChange","onItemExpansionToggle","expansionTrigger","disableSelection","selectedItems","defaultSelectedItems","multiSelect","checkboxSelection","selectionPropagation","onSelectedItemsChange","onItemSelectionToggle","onItemFocus"];function ee(n){const{apiRef:e,slots:s,slotProps:t,disabledItemsFocusable:o,onItemClick:l,itemChildrenIndentation:m,id:f,expandedItems:i,defaultExpandedItems:a,onExpandedItemsChange:u,onItemExpansionToggle:c,expansionTrigger:g,disableSelection:r,selectedItems:p,defaultSelectedItems:S,multiSelect:b,checkboxSelection:T,selectionPropagation:w,onSelectedItemsChange:y,onItemSelectionToggle:C,onItemFocus:v}=n,L=A(n,Z),j=d.useMemo(()=>({disabledItemsFocusable:o,onItemClick:l,itemChildrenIndentation:m,id:f,expandedItems:i,defaultExpandedItems:a,onExpandedItemsChange:u,onItemExpansionToggle:c,expansionTrigger:g,disableSelection:r,selectedItems:p,defaultSelectedItems:S,multiSelect:b,checkboxSelection:T,selectionPropagation:w,onSelectedItemsChange:y,onItemSelectionToggle:C,onItemFocus:v}),[o,l,m,f,i,a,u,c,g,r,p,S,b,T,w,y,C,v]);return{apiRef:e,slots:s,slotProps:t,parameters:j,forwardedProps:L}}function te(n){return n.replace(/["\\]/g,"\\$&")}const R=d.createContext(null);function q(n){const{children:e,itemId:s=null,idAttribute:t}=n,{store:o,rootRef:l}=P(),m=d.useRef(new Map);d.useEffect(()=>{if(!l.current)return;const i=O.itemOrderedChildrenIds(o.state,s??null)??[],a=te(t??l.current.id);if(s!=null){const r=l.current.querySelector(`*[id="${a}"][role="treeitem"]`);if(r&&r.getAttribute("aria-expanded")==="false")return}const u=l.current.querySelectorAll(`${s==null?"":`*[id="${a}"] `}[role="treeitem"]:not(*[id="${a}"] [role="treeitem"] [role="treeitem"])`),c=Array.from(u).map(r=>m.current.get(r.id));(c.length!==i.length||c.some((r,p)=>r!==i[p]))&&o.jsxItems.setJSXItemsOrderedChildrenIds(s??null,c)});const f=d.useMemo(()=>({registerChild:(i,a)=>m.current.set(i,a),unregisterChild:i=>m.current.delete(i),parentId:s}),[s]);return I.jsx(R.Provider,{value:f,children:e})}const ne=({props:n,rootRef:e,contentRef:s})=>{const{store:t}=P(),{children:o,disabled:l=!1,disableSelection:m=!1,label:f,itemId:i,id:a}=n,u=d.useContext(R);if(u==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:c,unregisterChild:g,parentId:r}=u,p=_(o),S=d.useRef(null),b=M(S,s),T=K(t,W.treeItemIdAttribute,i,a);return V(()=>(c(T,i),()=>{g(T),g(T)}),[t,c,g,T,i]),V(()=>t.jsxItems.insertJSXItem({id:i,idAttribute:a,parentId:r,expandable:p,disabled:l,selectable:!m}),[t,r,i,p,l,m,a]),d.useEffect(()=>{if(f)return t.jsxItems.mapLabelFromJSX(i,(S.current?.textContent??"").toLowerCase())},[t,i,f]),{contentRef:b,rootRef:e}},se=({children:n,itemId:e,idAttribute:s})=>{const t=d.useContext(x);return I.jsx(q,{itemId:e,idAttribute:s,children:I.jsx(x.Provider,{value:t+1,children:n})})};class ie{constructor(e){this.store=e,e.itemPluginManager.register(ne,se)}insertJSXItem=e=>{if(this.store.state.itemMetaLookup[e.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e.id}"`].join(`
`));return this.store.update({itemMetaLookup:h({},this.store.state.itemMetaLookup,{[e.id]:e}),itemModelLookup:h({},this.store.state.itemModelLookup,{[e.id]:{id:e.id,label:e.label??""}})}),()=>{const s=h({},this.store.state.itemMetaLookup),t=h({},this.store.state.itemModelLookup);delete s[e.id],delete t[e.id],this.store.update({itemMetaLookup:s,itemModelLookup:t})}};mapLabelFromJSX=(e,s)=>(this.store.keyboardNavigation.updateLabelMap(t=>(t[e]=s,t)),()=>{this.store.keyboardNavigation.updateLabelMap(t=>{const o=h({},t);return delete o[e],o})});setJSXItemsOrderedChildrenIds=(e,s)=>{const t=e??D;this.store.update({itemOrderedChildrenIdsLookup:h({},this.store.state.itemOrderedChildrenIdsLookup,{[t]:s}),itemChildrenIndexesLookup:h({},this.store.state.itemChildrenIndexesLookup,{[t]:F(s)})})}}const ae={getInitialState:n=>n,updateStateFromParameters:n=>n,shouldIgnoreItemsStateUpdate:()=>!0};class re extends U{jsxItems=new ie(this);constructor(e){super(h({},e,{items:E}),"SimpleTreeView",ae)}updateStateFromParameters(e){super.updateStateFromParameters(h({},e,{items:E}))}}const oe=X(),le=n=>{const{classes:e}=n;return d.useMemo(()=>B({root:["root"],item:["item"],itemContent:["itemContent"],itemGroupTransition:["itemGroupTransition"],itemIconContainer:["itemIconContainer"],itemLabel:["itemLabel"],itemCheckbox:["itemCheckbox"]},Q,e),[e])},de=z("ul",{name:"MuiSimpleTreeView",slot:"Root"})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),me=d.forwardRef(function(e,s){const t=oe({props:e,name:"MuiSimpleTreeView"}),{slots:o,slotProps:l,apiRef:m,parameters:f,forwardedProps:i}=ee(t),a=N(re,f),u=d.useRef(null),c=M(s,u),g=J(a,i,c),r=le(t),p=o?.root??de,S=Y({elementType:p,externalSlotProps:l?.root,className:r.root,getSlotProps:g,ownerState:t});return I.jsx($,{store:a,classes:r,slots:o,slotProps:l,apiRef:m,rootRef:u,children:I.jsx(q,{itemId:null,idAttribute:null,children:I.jsx(x.Provider,{value:0,children:I.jsx(p,h({},S))})})})}),k=({children:n,...e})=>I.jsx(me,{...e,children:n});try{k.displayName="TreeView",k.__docgenInfo={description:"",displayName:"TreeView",props:{children:{defaultValue:null,description:"The content of the component.",name:"children",required:!1,type:{name:"ReactNode"}},slots:{defaultValue:null,description:"Overridable component slots.",name:"slots",required:!1,type:{name:"SimpleTreeViewSlots"}},slotProps:{defaultValue:null,description:"The props used for each component slot.",name:"slotProps",required:!1,type:{name:"SimpleTreeViewSlotProps"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<SimpleTreeViewClasses>"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},apiRef:{defaultValue:null,description:"The ref object that allows Tree View manipulation. Can be instantiated with `useSimpleTreeViewApiRef()`.",name:"apiRef",required:!1,type:{name:"SimpleTreeViewApiRef<any>"}},id:{defaultValue:null,description:`This prop is used to help implement the accessibility logic.
If you don't provide this prop. It falls back to a randomly generated id.`,name:"id",required:!1,type:{name:"string"}},onItemClick:{defaultValue:null,description:"Callback fired when the `content` slot of a given Tree Item is clicked.\n@param event The DOM event that triggered the change.\n@param itemId The id of the focused item.",name:"onItemClick",required:!1,type:{name:"(event: MouseEvent<Element, MouseEvent>, itemId: string) => void"}},disabledItemsFocusable:{defaultValue:{value:"false"},description:"Whether the items should be focusable when disabled.",name:"disabledItemsFocusable",required:!1,type:{name:"boolean"}},itemChildrenIndentation:{defaultValue:{value:"12px"},description:`Horizontal indentation between an item and its children.
Examples: 24, "24px", "2rem", "2em".`,name:"itemChildrenIndentation",required:!1,type:{name:"string | number"}},expandedItems:{defaultValue:null,description:`Expanded item ids.
Used when the item's expansion is controlled.`,name:"expandedItems",required:!1,type:{name:"readonly string[]"}},defaultExpandedItems:{defaultValue:{value:"[]"},description:`Expanded item ids.
Used when the item's expansion is not controlled.`,name:"defaultExpandedItems",required:!1,type:{name:"readonly string[]"}},onExpandedItemsChange:{defaultValue:null,description:"Callback fired when Tree Items are expanded/collapsed.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemExpansion()` method.\n@param itemIds The ids of the expanded items.",name:"onExpandedItemsChange",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemIds: string[]) => void"}},onItemExpansionToggle:{defaultValue:null,description:"Callback fired when a Tree Item is expanded or collapsed.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemExpansion()` method.\n@param itemId The itemId of the modified item.\n@param isExpanded `true` if the item has just been expanded, `false` if it has just been collapsed.",name:"onItemExpansionToggle",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemId: string, isExpanded: boolean) => void"}},expansionTrigger:{defaultValue:{value:"'content'"},description:"The slot that triggers the item's expansion when clicked.",name:"expansionTrigger",required:!1,type:{name:'"content" | "iconContainer"'}},disableSelection:{defaultValue:{value:"false"},description:"Whether selection is disabled.",name:"disableSelection",required:!1,type:{name:"boolean"}},selectedItems:{defaultValue:null,description:"Selected item ids. (Controlled)\nWhen `multiSelect` is true this takes an array of strings; when false (default) a string.",name:"selectedItems",required:!1,type:{name:"readonly string[]"}},defaultSelectedItems:{defaultValue:{value:"[]"},description:"Selected item ids. (Uncontrolled)\nWhen `multiSelect` is true this takes an array of strings; when false (default) a string.",name:"defaultSelectedItems",required:!1,type:{name:"readonly string[]"}},multiSelect:{defaultValue:{value:"false"},description:"Whether multiple items can be selected.",name:"multiSelect",required:!1,type:{name:"true"}},checkboxSelection:{defaultValue:{value:"false"},description:"Whether the Tree View renders a checkbox at the left of its label that allows selecting it.",name:"checkboxSelection",required:!1,type:{name:"boolean"}},selectionPropagation:{defaultValue:{value:"{ parents: false, descendants: false }"},description:"When `selectionPropagation.descendants` is set to `true`.\n\n- Selecting a parent selects all its descendants automatically.\n- Deselecting a parent deselects all its descendants automatically.\n\nWhen `selectionPropagation.parents` is set to `true`.\n\n- Selecting all the descendants of a parent selects the parent automatically.\n- Deselecting a descendant of a selected parent deselects the parent automatically.\n\nOnly works when `multiSelect` is `true`.\nOn the <SimpleTreeView />, only the expanded items are considered (since the collapsed item are not passed to the Tree View component at all)",name:"selectionPropagation",required:!1,type:{name:"TreeViewSelectionPropagation"}},onSelectedItemsChange:{defaultValue:null,description:"Callback fired when Tree Items are selected/deselected.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemSelection()` method.\n@param itemIds The ids of the selected items.\nWhen `multiSelect` is `true`, this is an array of strings; when false (default) a string.",name:"onSelectedItemsChange",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemIds: string[]) => void"}},onItemSelectionToggle:{defaultValue:null,description:"Callback fired when a Tree Item is selected or deselected.\n@param event The DOM event that triggered the change. Can be null when the change is caused by the `publicAPI.setItemSelection()` method.\n@param itemId The itemId of the modified item.\n@param isSelected `true` if the item has just been selected, `false` if it has just been deselected.",name:"onItemSelectionToggle",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemId: string, isSelected: boolean) => void"}},onItemFocus:{defaultValue:null,description:`Callback fired when a given Tree Item is focused.
@param event The DOM event that triggered the change. **Warning**: This is a generic event not a focus event.
@param itemId The id of the focused item.`,name:"onItemFocus",required:!1,type:{name:"(event: SyntheticEvent<Element, Event>, itemId: string) => void"}}}}}catch{}export{k as T};
